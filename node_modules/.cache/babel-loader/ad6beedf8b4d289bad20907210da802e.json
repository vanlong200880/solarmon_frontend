{"ast":null,"code":"import _regeneratorRuntime from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import BaseComponent from'../../../BaseComponent';import DeleteAllPopupJsx from'./DeleteAllPopup.jsx';import ClientNotifyService from'../../../../services/ClientNotifyService';import Libs from'../../../../utils/Libs';var DeleteAllPopup=/*#__PURE__*/function(_BaseComponent){_inherits(DeleteAllPopup,_BaseComponent);var _super=_createSuper(DeleteAllPopup);function DeleteAllPopup(props){var _this;_classCallCheck(this,DeleteAllPopup);_this=_super.call(this,props);_this.state={curItem:_this.props.curItem,dataList:_this.props.dataList};_this.jsxTemplate=DeleteAllPopupJsx;return _this;}/**\n     * @description close popup\n     * @author Long.Pham 12/05/2021\n     */_createClass(DeleteAllPopup,[{key:\"onClickCloseDeleteAll\",value:function onClickCloseDeleteAll(){if(!this.props.onClickCloseDeleteAll||typeof this.props.onClickCloseDeleteAll!=='function')return;this.props.onClickCloseDeleteAll(false,null);}/** \n     * @description delete\n     * @author Long.Pham 12/05/2021\n    */},{key:\"onDeleteAction\",value:function(){var _onDeleteAction=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var params,self,dataList,dataArr,i,len;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:params=Object.assign({},this.state.curItem),self=this;dataList=this.state.dataList;dataArr=[];if(Libs.isArrayData(dataList)){for(i=0,len=dataList.length;i<len;i++){if(dataList[i].is_checked){dataArr.push({id:dataList[i].id,updated_by:this.employee.first_name+' '+this.employee.last_name,status:0});}}}params.dataArr=dataArr;if(Libs.isArrayData(dataArr)){ClientNotifyService.instance.closeAlert(params,function(status,data,msg){if(status){self.toast(msg,\"info\");self.props.onClickCloseDeleteAll(true,data);}else if(data){self.setValidateMessage(data);}else if(!Libs.isBlank(msg)){self.toast(msg,\"error\");}},true);}case 6:case\"end\":return _context.stop();}}},_callee,this);}));function onDeleteAction(){return _onDeleteAction.apply(this,arguments);}return onDeleteAction;}()}]);return DeleteAllPopup;}(BaseComponent);export default DeleteAllPopup;","map":{"version":3,"sources":["/Volumes/Data/sources/solarmon_production/solarmon_frontend/src/containers/views/desktop/Notify/DeleteAllPopup.js"],"names":["BaseComponent","DeleteAllPopupJsx","ClientNotifyService","Libs","DeleteAllPopup","props","state","curItem","dataList","jsxTemplate","onClickCloseDeleteAll","params","Object","assign","self","dataArr","isArrayData","i","len","length","is_checked","push","id","updated_by","employee","first_name","last_name","status","instance","closeAlert","data","msg","toast","setValidateMessage","isBlank"],"mappings":"yhCACA,MAAOA,CAAAA,aAAP,KAA0B,wBAA1B,CACA,MAAOC,CAAAA,iBAAP,KAA8B,sBAA9B,CACA,MAAOC,CAAAA,mBAAP,KAAgC,0CAAhC,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,C,GAEMC,CAAAA,c,wHACF,wBAAYC,KAAZ,CAAmB,gDACf,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACTC,OAAO,CAAE,MAAKF,KAAL,CAAWE,OADX,CAETC,QAAQ,CAAE,MAAKH,KAAL,CAAWG,QAFZ,CAAb,CAIA,MAAKC,WAAL,CAAmBR,iBAAnB,CANe,aAOlB,CAED;AACJ;AACA;AACA,O,gEACI,gCAAwB,CACpB,GAAI,CAAC,KAAKI,KAAL,CAAWK,qBAAZ,EAAqC,MAAO,MAAKL,KAAL,CAAWK,qBAAlB,GAA4C,UAArF,CAAiG,OACjG,KAAKL,KAAL,CAAWK,qBAAX,CAAiC,KAAjC,CAAwC,IAAxC,EACH,CAGD;AACJ;AACA;AACA,M,qHACI,0KACQC,MADR,CACiBC,MAAM,CAACC,MAAP,CAAc,EAAd,CAAkB,KAAKP,KAAL,CAAWC,OAA7B,CADjB,CACwDO,IADxD,CAC+D,IAD/D,CAEQN,QAFR,CAEmB,KAAKF,KAAL,CAAWE,QAF9B,CAGQO,OAHR,CAGkB,EAHlB,CAII,GAAIZ,IAAI,CAACa,WAAL,CAAiBR,QAAjB,CAAJ,CAAgC,CAC5B,IAASS,CAAT,CAAa,CAAb,CAAgBC,GAAhB,CAAsBV,QAAQ,CAACW,MAA/B,CAAuCF,CAAC,CAAGC,GAA3C,CAAgDD,CAAC,EAAjD,CAAqD,CACjD,GAAIT,QAAQ,CAACS,CAAD,CAAR,CAAYG,UAAhB,CAA4B,CACxBL,OAAO,CAACM,IAAR,CAAa,CACTC,EAAE,CAAEd,QAAQ,CAACS,CAAD,CAAR,CAAYK,EADP,CAETC,UAAU,CAAE,KAAKC,QAAL,CAAcC,UAAd,CAA2B,GAA3B,CAAiC,KAAKD,QAAL,CAAcE,SAFlD,CAGTC,MAAM,CAAE,CAHC,CAAb,EAKH,CACJ,CACJ,CACDhB,MAAM,CAACI,OAAP,CAAiBA,OAAjB,CACA,GAAIZ,IAAI,CAACa,WAAL,CAAiBD,OAAjB,CAAJ,CAA+B,CAC3Bb,mBAAmB,CAAC0B,QAApB,CAA6BC,UAA7B,CAAwClB,MAAxC,CAAgD,SAAUgB,MAAV,CAAkBG,IAAlB,CAAwBC,GAAxB,CAA6B,CACzE,GAAIJ,MAAJ,CAAY,CACRb,IAAI,CAACkB,KAAL,CAAWD,GAAX,CAAgB,MAAhB,EACAjB,IAAI,CAACT,KAAL,CAAWK,qBAAX,CAAiC,IAAjC,CAAuCoB,IAAvC,EACH,CAHD,IAIK,IAAIA,IAAJ,CAAU,CACXhB,IAAI,CAACmB,kBAAL,CAAwBH,IAAxB,EACH,CAFI,IAGA,IAAI,CAAC3B,IAAI,CAAC+B,OAAL,CAAaH,GAAb,CAAL,CAAwB,CACzBjB,IAAI,CAACkB,KAAL,CAAWD,GAAX,CAAgB,OAAhB,EACH,CACJ,CAXD,CAWG,IAXH,EAYH,CA7BL,2D,gIAxByB/B,a,EAyD7B,cAAeI,CAAAA,cAAf","sourcesContent":["\nimport BaseComponent from '../../../BaseComponent';\nimport DeleteAllPopupJsx from './DeleteAllPopup.jsx';\nimport ClientNotifyService from '../../../../services/ClientNotifyService';\nimport Libs from '../../../../utils/Libs';\n\nclass DeleteAllPopup extends BaseComponent {\n    constructor(props) {\n        super(props);\n        this.state = {\n            curItem: this.props.curItem,\n            dataList: this.props.dataList\n        }\n        this.jsxTemplate = DeleteAllPopupJsx;\n    }\n\n    /**\n     * @description close popup\n     * @author Long.Pham 12/05/2021\n     */\n    onClickCloseDeleteAll() {\n        if (!this.props.onClickCloseDeleteAll || typeof this.props.onClickCloseDeleteAll !== 'function') return;\n        this.props.onClickCloseDeleteAll(false, null);\n    }\n\n\n    /** \n     * @description delete\n     * @author Long.Pham 12/05/2021\n    */\n    async onDeleteAction() {\n        let params = Object.assign({}, this.state.curItem), self = this;\n        var dataList = this.state.dataList;\n        var dataArr = [];\n        if (Libs.isArrayData(dataList)) {\n            for (var i = 0, len = dataList.length; i < len; i++) {\n                if (dataList[i].is_checked) {\n                    dataArr.push({\n                        id: dataList[i].id,\n                        updated_by: this.employee.first_name + ' ' + this.employee.last_name,\n                        status: 0\n                    });\n                }\n            }\n        }\n        params.dataArr = dataArr;\n        if (Libs.isArrayData(dataArr)) {\n            ClientNotifyService.instance.closeAlert(params, function (status, data, msg) {\n                if (status) {\n                    self.toast(msg, \"info\");\n                    self.props.onClickCloseDeleteAll(true, data);\n                }\n                else if (data) {\n                    self.setValidateMessage(data);\n                }\n                else if (!Libs.isBlank(msg)) {\n                    self.toast(msg, \"error\");\n                }\n            }, true);\n        }\n\n    }\n}\nexport default DeleteAllPopup;"]},"metadata":{},"sourceType":"module"}