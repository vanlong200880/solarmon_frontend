{"ast":null,"code":"import Libs from '../utils/Libs';\nimport CMSHttp from '../utils/CMSHttp';\nimport Constants from '../utils/Constants';\nexport default class ProjectService {\n  static get instance() {\n    if (!this._instance) {\n      this._instance = new ProjectService();\n    }\n\n    return this._instance;\n  }\n  /**\n   * @author long.pham 2018-07-27\n   * @param  {RoleEntity} objE\n   * @param  {function(data,total_row,msg)} callBack\n   * @param  {Boolean} isShowProgress\n   */\n\n\n  getList(objE, callBack) {\n    try {\n      var http = new CMSHttp(true); // var data = [\n      //     {\n      //         id: 1,\n      //         name: \"Project 1\",\n      //         power: '144.61 kW',\n      //         irradiance: '368.75 W/m2',\n      //         today: '1.79 MWh',\n      //         lifetime: '450.12 MWh',\n      //         revenue: 870539220.328,\n      //         lat: 10.786918,\n      //         lng: 106.661354,\n      //         thumbnail: '/energy.jpeg',\n      //         group_name: \"Group 1\",\n      //         device_total: 5,\n      //         status: 1\n      //     },\n      //     {\n      //         id: 1,\n      //         name: \"Project 2\",\n      //         power: '144.61 kW',\n      //         irradiance: '368.75 W/m2',\n      //         today: '1.79 MWh',\n      //         lifetime: '450.12 MWh',\n      //         revenue: 870539220.328,\n      //         lat: 10.791103,\n      //         lng: 106.670945,\n      //         thumbnail: '/energy.jpeg',\n      //         group_name: \"Group 1\",\n      //         device_total: 5,\n      //         status: 1\n      //     },\n      //     {\n      //         id: 1,\n      //         name: \"Project 3\",\n      //         power: '144.61 kW',\n      //         irradiance: '368.75 W/m2',\n      //         today: '1.79 MWh',\n      //         lifetime: '450.12 MWh',\n      //         revenue: 870539220.328,\n      //         lat: 10.790265,\n      //         lng: 106.668345,\n      //         thumbnail: '/energy.jpeg',\n      //         group_name: \"Group 1\",\n      //         device_total: 5,\n      //         status: 1\n      //     },\n      //     {\n      //         id: 1,\n      //         name: \"Project 4\",\n      //         power: '144.61 kW',\n      //         irradiance: '368.75 W/m2',\n      //         today: '1.79 MWh',\n      //         lifetime: '450.12 MWh',\n      //         revenue: 870539220.328,\n      //         lat: 10.792987,\n      //         lng: 106.665831,\n      //         thumbnail: '/energy.jpeg',\n      //         group_name: \"Group 1\",\n      //         device_total: 5,\n      //         status: 1\n      //     },\n      //     {\n      //         id: 1,\n      //         name: \"Project 5\",\n      //         power: '144.61 kW',\n      //         irradiance: '368.75 W/m2',\n      //         today: '1.79 MWh',\n      //         lifetime: '450.12 MWh',\n      //         revenue: 870539220.328,\n      //         lat: 10.781097,\n      //         lng: 106.657563,\n      //         thumbnail: '/energy.jpeg',\n      //         group_name: \"Group 1\",\n      //         device_total: 5,\n      //         status: 1\n      //     },\n      //     {\n      //         id: 1,\n      //         name: \"Project 6\",\n      //         power: '144.61 kW',\n      //         irradiance: '368.75 W/m2',\n      //         today: '1.79 MWh',\n      //         lifetime: '450.12 MWh',\n      //         revenue: 870539220.328,\n      //         lat: 10.785547,\n      //         lng: 106.648547,\n      //         thumbnail: '/energy.jpeg',\n      //         group_name: \"Group 1\",\n      //         device_total: 5,\n      //         status: 1\n      //     },\n      //     {\n      //         id: 1,\n      //         name: \"Project 7\",\n      //         power: '144.61 kW',\n      //         irradiance: '368.75 W/m2',\n      //         today: '1.79 MWh',\n      //         lifetime: '450.12 MWh',\n      //         revenue: 870539220.328,\n      //         lat: 10.791238,\n      //         lng: 106.655843,\n      //         thumbnail: '/energy.jpeg',\n      //         group_name: \"Group 1\",\n      //         device_total: 5,\n      //         status: 1\n      //     },\n      //     {\n      //         id: 1,\n      //         name: \"Project 8\",\n      //         power: '144.61 kW',\n      //         irradiance: '368.75 W/m2',\n      //         today: '1.79 MWh',\n      //         lifetime: '450.12 MWh',\n      //         revenue: 870539220.328,\n      //         lat: 10.795074,\n      //         lng: 106.664941,\n      //         thumbnail: '/energy.jpeg',\n      //         group_name: \"Group 1\",\n      //         device_total: 5,\n      //         status: 1\n      //     },\n      //     {\n      //         id: 1,\n      //         name: \"Project 9\",\n      //         power: '144.61 kW',\n      //         irradiance: '368.75 W/m2',\n      //         today: '1.79 MWh',\n      //         lifetime: '450.12 MWh',\n      //         revenue: 870539220.328,\n      //         lat: 10.789931,\n      //         lng: 106.684682,\n      //         thumbnail: '/energy.jpeg',\n      //         group_name: \"Group 1\",\n      //         device_total: 5,\n      //         status: 1\n      //     },\n      //     {\n      //         id: 1,\n      //         name: \"Project 10\",\n      //         power: '144.61 kW',\n      //         irradiance: '368.75 W/m2',\n      //         today: '1.79 MWh',\n      //         lifetime: '450.12 MWh',\n      //         revenue: 870539220.328,\n      //         lat: 10.793093,\n      //         lng: 106.667344,\n      //         thumbnail: '/energy.jpeg',\n      //         group_name: \"Group 1\",\n      //         device_total: 5,\n      //         status: 1\n      //     }\n      // ];\n      // callBack(data, 40, \"\");\n\n      http.post(Constants.URL.PROJECT.LIST, objE, function (status, rs) {\n        if (typeof callBack === 'function') {\n          if (!status || !rs) {\n            //lỗi do http nên không làm gì vì đã có http thư viện xử lý\n            return;\n          }\n\n          var data = [];\n          var total_row = 0;\n\n          if (rs.status && Array.isArray(rs.data)) {\n            data = rs.data;\n            total_row = rs.total_row;\n          }\n\n          callBack(data, total_row, \"\");\n        }\n      });\n    } catch (error) {\n      var msg = error;\n      callBack(false, 0, msg);\n    }\n  }\n  /**\n    * API call for update Role status\n    * @author long.pham\n    * @param @param {RoleEntity} objE\n    * @param {function(status,msg)} callBack \n    * @param  {boolean} isShowProgress\n    */\n\n\n  updateStatus(objE, callBack) {\n    try {\n      var http = new CMSHttp(false);\n      http.post(Constants.URL.PROJECT.UPDATE_STATUS, objE, function (status, rs) {\n        if (typeof callBack === 'function') {\n          if (!status || !rs) {\n            return;\n          }\n\n          var msg = rs.mess;\n          callBack(rs.status, msg);\n        }\n      });\n    } catch (error) {\n      callBack(false, error);\n    }\n  }\n  /**\n   * API call for save data\n   * @author long.pham 2018-07-27\n   * @param {Function} callBack\n   * @param {boolean} isShowProgress\n   */\n\n\n  save(objE, callBack) {\n    try {\n      var http = new CMSHttp(true);\n      http.post(Constants.URL.PROJECT.SAVE, objE, function (status, rs) {\n        if (typeof callBack === 'function') {\n          if (!status || !rs) {\n            return;\n          }\n\n          var data = null;\n          var msg = rs.mess;\n\n          if (!Libs.isObjectEmpty(rs.data)) {\n            data = rs.data;\n          }\n\n          callBack(rs.status, data, msg);\n        }\n      });\n    } catch (error) {\n      callBack(false, null, error);\n    }\n  }\n  /**\n   * API call for save data\n   * @author long.pham 2018-07-27\n   * @param {Function} callBack\n   * @param {boolean} isShowProgress\n   */\n\n\n  saveConfig(objE, callBack) {\n    try {\n      var http = new CMSHttp(true);\n      http.post(Constants.URL.PROJECT.SAVE_CONFIG, objE, function (status, rs) {\n        if (typeof callBack === 'function') {\n          if (!status || !rs) {\n            return;\n          }\n\n          var data = null;\n          var msg = rs.mess;\n\n          if (!Libs.isObjectEmpty(rs.data)) {\n            data = rs.data;\n          }\n\n          callBack(rs.status, data, msg);\n        }\n      });\n    } catch (error) {\n      callBack(false, null, error);\n    }\n  }\n  /**\n  * API call for save data\n  * @author long.pham 2018-07-27\n  * @param {Function} callBack\n  * @param {boolean} isShowProgress\n  */\n\n\n  saveMoveDevice(objE, callBack) {\n    try {\n      var http = new CMSHttp(true);\n      http.post(Constants.URL.PROJECT.SAVE_MOVE_DEVICE, objE, function (status, rs) {\n        if (typeof callBack === 'function') {\n          if (!status || !rs) {\n            return;\n          }\n\n          var data = null;\n          var msg = rs.mess;\n\n          if (!Libs.isObjectEmpty(rs.data)) {\n            data = rs.data;\n          }\n\n          callBack(rs.status, data, msg);\n        }\n      });\n    } catch (error) {\n      callBack(false, null, error);\n    }\n  }\n  /**\n       * API call for save data\n       * @author long.pham 2018-07-27\n       * @param {Function} callBack\n       * @param {boolean} isShowProgress\n       */\n\n\n  saveConfigEstimationSenSor(objE, callBack) {\n    try {\n      var http = new CMSHttp(true);\n      http.post(Constants.URL.PROJECT.SAVE_CONFIG_SENSOR, objE, function (status, rs) {\n        if (typeof callBack === 'function') {\n          if (!status || !rs) {\n            return;\n          }\n\n          var data = null;\n          var msg = rs.mess;\n\n          if (!Libs.isObjectEmpty(rs.data)) {\n            data = rs.data;\n          }\n\n          callBack(rs.status, data, msg);\n        }\n      });\n    } catch (error) {\n      callBack(false, null, error);\n    }\n  }\n  /**\n    * API call for delete\n    * @author long.pham\n    * @param @param {RoleEntity} objE\n    * @param {function(status,msg)} callBack \n    * @param  {boolean} isShowProgress\n    */\n\n\n  delete(objE, callBack) {\n    try {\n      var http = new CMSHttp(true);\n      http.post(Constants.URL.PROJECT.DELETE, objE, function (status, rs) {\n        if (typeof callBack === 'function') {\n          if (!status || !rs) {\n            return;\n          }\n\n          var data = null;\n          var msg = rs.mess;\n\n          if (!Libs.isObjectEmpty(rs.data)) {\n            data = rs.data;\n          }\n\n          callBack(rs.status, data, msg);\n        }\n      });\n    } catch (error) {\n      callBack(false, error);\n    }\n  }\n  /**\n   * API get detail\n   * @author Long.Pham 2019-05-28\n   * @param {RegenncyEntity} objE \n   * @param {function(data)} callBack\n   * @param {boolean} isShowProgress \n   */\n\n\n  getDetail(objE, callBack) {\n    try {\n      var http = new CMSHttp(true);\n      http.post(Constants.URL.PROJECT.DETAIL, objE, function (status, rs) {\n        if (typeof callBack === 'function') {\n          if (!status || !rs) {\n            //error http => lib http  proccess\n            return;\n          }\n\n          var data = {};\n\n          if (rs.status && typeof rs.data === 'object') {\n            data = rs.data;\n          }\n\n          callBack(data);\n        }\n      });\n    } catch (error) {\n      callBack({});\n    }\n  }\n  /**\n   * API get detail config\n   * @author Long.Pham 2019-05-28\n   * @param {RegenncyEntity} objE \n   * @param {function(data)} callBack\n   * @param {boolean} isShowProgress \n   */\n\n\n  getDetailConfig(objE, callBack) {\n    try {\n      var http = new CMSHttp(true);\n      http.post(Constants.URL.PROJECT.DETAIL_CONFIG, objE, function (status, rs) {\n        if (typeof callBack === 'function') {\n          if (!status || !rs) {\n            //error http => lib http  proccess\n            return;\n          }\n\n          var data = {};\n\n          if (rs.status && typeof rs.data === 'object') {\n            data = rs.data;\n          }\n\n          callBack(data);\n        }\n      });\n    } catch (error) {\n      callBack({});\n    }\n  }\n  /**\n  * Get dropdown list\n  * @author Long.Pham\n  * @param {function (data,total_row,msg)} callBack \n  * @param {boolean} isShowProgress \n  */\n\n\n  getDropdownList(objE, callBack) {\n    try {\n      var http = new CMSHttp(false);\n      http.post(Constants.URL.PROJECT.DROPDOWN_LIST, objE, function (status, rs) {\n        if (typeof callBack === 'function') {\n          if (!status || !rs) {\n            return;\n          }\n\n          var data = [];\n          var total_row = 0;\n\n          if (rs.status && Array.isArray(rs.data)) {\n            data = rs.data;\n            total_row = rs.total_row;\n          }\n\n          callBack(data, total_row, \"\");\n        }\n      });\n    } catch (error) {\n      var msg = error;\n      callBack(false, 0, msg);\n    }\n  }\n  /**\n  * Get dropdown list all attr\n  * @author Long.Pham\n  * @param {function (data,total_row,msg)} callBack \n  * @param {boolean} isShowProgress \n  */\n\n\n  getDropdownListAttr(objE, callBack) {\n    try {\n      var http = new CMSHttp(false);\n      http.post(Constants.URL.PROJECT.DROPDOWN_LIST_ATTR, objE, function (status, rs) {\n        if (typeof callBack === 'function') {\n          if (!status || !rs) {\n            return;\n          }\n\n          var data = [];\n          var total_row = 0;\n\n          if (rs.status && Array.isArray(rs.data)) {\n            data = rs.data;\n            total_row = rs.total_row;\n          }\n\n          callBack(data, total_row, \"\");\n        }\n      });\n    } catch (error) {\n      var msg = error;\n      callBack(false, 0, msg);\n    }\n  }\n\n}","map":{"version":3,"sources":["/Volumes/Data/sources/solarmon_production/solarmon_frontend/src/services/ProjectService.js"],"names":["Libs","CMSHttp","Constants","ProjectService","instance","_instance","getList","objE","callBack","http","post","URL","PROJECT","LIST","status","rs","data","total_row","Array","isArray","error","msg","updateStatus","UPDATE_STATUS","mess","save","SAVE","isObjectEmpty","saveConfig","SAVE_CONFIG","saveMoveDevice","SAVE_MOVE_DEVICE","saveConfigEstimationSenSor","SAVE_CONFIG_SENSOR","delete","DELETE","getDetail","DETAIL","getDetailConfig","DETAIL_CONFIG","getDropdownList","DROPDOWN_LIST","getDropdownListAttr","DROPDOWN_LIST_ATTR"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,eAAjB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AAEA,eAAe,MAAMC,cAAN,CAAqB;AAEb,aAARC,QAAQ,GAAG;AAClB,QAAI,CAAC,KAAKC,SAAV,EAAqB;AACjB,WAAKA,SAAL,GAAiB,IAAIF,cAAJ,EAAjB;AACH;;AACD,WAAO,KAAKE,SAAZ;AACH;AAED;AACJ;AACA;AACA;AACA;AACA;;;AACIC,EAAAA,OAAO,CAACC,IAAD,EAAOC,QAAP,EAAiB;AACpB,QAAI;AACA,UAAIC,IAAI,GAAG,IAAIR,OAAJ,CAAY,IAAZ,CAAX,CADA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAQ,MAAAA,IAAI,CAACC,IAAL,CAAUR,SAAS,CAACS,GAAV,CAAcC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","sourcesContent":["import Libs from '../utils/Libs';\nimport CMSHttp from '../utils/CMSHttp';\nimport Constants from '../utils/Constants';\n\nexport default class ProjectService {\n    static _instance;\n    static get instance() {\n        if (!this._instance) {\n            this._instance = new ProjectService();\n        }\n        return this._instance;\n    }\n\n    /**\n     * @author long.pham 2018-07-27\n     * @param  {RoleEntity} objE\n     * @param  {function(data,total_row,msg)} callBack\n     * @param  {Boolean} isShowProgress\n     */\n    getList(objE, callBack) {\n        try {\n            var http = new CMSHttp(true);\n            // var data = [\n            //     {\n            //         id: 1,\n            //         name: \"Project 1\",\n            //         power: '144.61 kW',\n            //         irradiance: '368.75 W/m2',\n            //         today: '1.79 MWh',\n            //         lifetime: '450.12 MWh',\n            //         revenue: 870539220.328,\n            //         lat: 10.786918,\n            //         lng: 106.661354,\n            //         thumbnail: '/energy.jpeg',\n            //         group_name: \"Group 1\",\n            //         device_total: 5,\n            //         status: 1\n            //     },\n            //     {\n            //         id: 1,\n            //         name: \"Project 2\",\n            //         power: '144.61 kW',\n            //         irradiance: '368.75 W/m2',\n            //         today: '1.79 MWh',\n            //         lifetime: '450.12 MWh',\n            //         revenue: 870539220.328,\n            //         lat: 10.791103,\n            //         lng: 106.670945,\n            //         thumbnail: '/energy.jpeg',\n            //         group_name: \"Group 1\",\n            //         device_total: 5,\n            //         status: 1\n            //     },\n            //     {\n            //         id: 1,\n            //         name: \"Project 3\",\n            //         power: '144.61 kW',\n            //         irradiance: '368.75 W/m2',\n            //         today: '1.79 MWh',\n            //         lifetime: '450.12 MWh',\n            //         revenue: 870539220.328,\n            //         lat: 10.790265,\n            //         lng: 106.668345,\n            //         thumbnail: '/energy.jpeg',\n            //         group_name: \"Group 1\",\n            //         device_total: 5,\n            //         status: 1\n            //     },\n            //     {\n            //         id: 1,\n            //         name: \"Project 4\",\n            //         power: '144.61 kW',\n            //         irradiance: '368.75 W/m2',\n            //         today: '1.79 MWh',\n            //         lifetime: '450.12 MWh',\n            //         revenue: 870539220.328,\n            //         lat: 10.792987,\n            //         lng: 106.665831,\n            //         thumbnail: '/energy.jpeg',\n            //         group_name: \"Group 1\",\n            //         device_total: 5,\n            //         status: 1\n            //     },\n            //     {\n            //         id: 1,\n            //         name: \"Project 5\",\n            //         power: '144.61 kW',\n            //         irradiance: '368.75 W/m2',\n            //         today: '1.79 MWh',\n            //         lifetime: '450.12 MWh',\n            //         revenue: 870539220.328,\n            //         lat: 10.781097,\n            //         lng: 106.657563,\n            //         thumbnail: '/energy.jpeg',\n            //         group_name: \"Group 1\",\n            //         device_total: 5,\n            //         status: 1\n            //     },\n            //     {\n            //         id: 1,\n            //         name: \"Project 6\",\n            //         power: '144.61 kW',\n            //         irradiance: '368.75 W/m2',\n            //         today: '1.79 MWh',\n            //         lifetime: '450.12 MWh',\n            //         revenue: 870539220.328,\n            //         lat: 10.785547,\n            //         lng: 106.648547,\n            //         thumbnail: '/energy.jpeg',\n            //         group_name: \"Group 1\",\n            //         device_total: 5,\n            //         status: 1\n            //     },\n            //     {\n            //         id: 1,\n            //         name: \"Project 7\",\n            //         power: '144.61 kW',\n            //         irradiance: '368.75 W/m2',\n            //         today: '1.79 MWh',\n            //         lifetime: '450.12 MWh',\n            //         revenue: 870539220.328,\n            //         lat: 10.791238,\n            //         lng: 106.655843,\n            //         thumbnail: '/energy.jpeg',\n            //         group_name: \"Group 1\",\n            //         device_total: 5,\n            //         status: 1\n            //     },\n            //     {\n            //         id: 1,\n            //         name: \"Project 8\",\n            //         power: '144.61 kW',\n            //         irradiance: '368.75 W/m2',\n            //         today: '1.79 MWh',\n            //         lifetime: '450.12 MWh',\n            //         revenue: 870539220.328,\n            //         lat: 10.795074,\n            //         lng: 106.664941,\n            //         thumbnail: '/energy.jpeg',\n            //         group_name: \"Group 1\",\n            //         device_total: 5,\n            //         status: 1\n            //     },\n            //     {\n            //         id: 1,\n            //         name: \"Project 9\",\n            //         power: '144.61 kW',\n            //         irradiance: '368.75 W/m2',\n            //         today: '1.79 MWh',\n            //         lifetime: '450.12 MWh',\n            //         revenue: 870539220.328,\n            //         lat: 10.789931,\n            //         lng: 106.684682,\n            //         thumbnail: '/energy.jpeg',\n            //         group_name: \"Group 1\",\n            //         device_total: 5,\n            //         status: 1\n            //     },\n            //     {\n            //         id: 1,\n            //         name: \"Project 10\",\n            //         power: '144.61 kW',\n            //         irradiance: '368.75 W/m2',\n            //         today: '1.79 MWh',\n            //         lifetime: '450.12 MWh',\n            //         revenue: 870539220.328,\n            //         lat: 10.793093,\n            //         lng: 106.667344,\n            //         thumbnail: '/energy.jpeg',\n            //         group_name: \"Group 1\",\n            //         device_total: 5,\n            //         status: 1\n            //     }\n            // ];\n            // callBack(data, 40, \"\");\n\n            http.post(Constants.URL.PROJECT.LIST, objE, function (status, rs) {\n                if (typeof callBack === 'function') {\n                    if (!status || !rs) {\n                        //lỗi do http nên không làm gì vì đã có http thư viện xử lý\n                        return;\n                    }\n                    var data = [];\n                    var total_row = 0;\n                    if (rs.status && Array.isArray(rs.data)) {\n                        data = rs.data;\n                        total_row = rs.total_row;\n                    }\n                    callBack(data, total_row, \"\");\n                }\n            });\n        } catch (error) {\n            var msg = error;\n            callBack(false, 0, msg);\n        }\n    }\n\n\n    /**\n      * API call for update Role status\n      * @author long.pham\n      * @param @param {RoleEntity} objE\n      * @param {function(status,msg)} callBack \n      * @param  {boolean} isShowProgress\n      */\n    updateStatus(objE, callBack) {\n        try {\n            var http = new CMSHttp(false);\n            http.post(Constants.URL.PROJECT.UPDATE_STATUS, objE, function (status, rs) {\n                if (typeof callBack === 'function') {\n                    if (!status || !rs) {\n                        return;\n                    }\n                    var msg = rs.mess;\n                    callBack(rs.status, msg);\n                }\n            })\n        } catch (error) {\n            callBack(false, error);\n        }\n    }\n\n\n\n\n    /**\n     * API call for save data\n     * @author long.pham 2018-07-27\n     * @param {Function} callBack\n     * @param {boolean} isShowProgress\n     */\n    save(objE, callBack) {\n        try {\n            var http = new CMSHttp(true);\n            http.post(Constants.URL.PROJECT.SAVE, objE, function (status, rs) {\n                if (typeof callBack === 'function') {\n                    if (!status || !rs) {\n                        return;\n                    }\n                    var data = null;\n                    var msg = rs.mess;\n                    if (!Libs.isObjectEmpty(rs.data)) {\n                        data = rs.data;\n                    }\n                    callBack(rs.status, data, msg);\n                }\n            })\n        } catch (error) {\n            callBack(false, null, error);\n        }\n    }\n\n\n\n    /**\n     * API call for save data\n     * @author long.pham 2018-07-27\n     * @param {Function} callBack\n     * @param {boolean} isShowProgress\n     */\n    saveConfig(objE, callBack) {\n        try {\n            var http = new CMSHttp(true);\n            http.post(Constants.URL.PROJECT.SAVE_CONFIG, objE, function (status, rs) {\n                if (typeof callBack === 'function') {\n                    if (!status || !rs) {\n                        return;\n                    }\n                    var data = null;\n                    var msg = rs.mess;\n                    if (!Libs.isObjectEmpty(rs.data)) {\n                        data = rs.data;\n                    }\n                    callBack(rs.status, data, msg);\n                }\n            })\n        } catch (error) {\n            callBack(false, null, error);\n        }\n    }\n\n\n    \n     /**\n     * API call for save data\n     * @author long.pham 2018-07-27\n     * @param {Function} callBack\n     * @param {boolean} isShowProgress\n     */\n      saveMoveDevice(objE, callBack) {\n        try {\n            var http = new CMSHttp(true);\n            http.post(Constants.URL.PROJECT.SAVE_MOVE_DEVICE, objE, function (status, rs) {\n                if (typeof callBack === 'function') {\n                    if (!status || !rs) {\n                        return;\n                    }\n                    var data = null;\n                    var msg = rs.mess;\n                    if (!Libs.isObjectEmpty(rs.data)) {\n                        data = rs.data;\n                    }\n                    callBack(rs.status, data, msg);\n                }\n            })\n        } catch (error) {\n            callBack(false, null, error);\n        }\n    }\n\n\n    /**\n         * API call for save data\n         * @author long.pham 2018-07-27\n         * @param {Function} callBack\n         * @param {boolean} isShowProgress\n         */\n    saveConfigEstimationSenSor(objE, callBack) {\n        try {\n            var http = new CMSHttp(true);\n            http.post(Constants.URL.PROJECT.SAVE_CONFIG_SENSOR, objE, function (status, rs) {\n                if (typeof callBack === 'function') {\n                    if (!status || !rs) {\n                        return;\n                    }\n                    var data = null;\n                    var msg = rs.mess;\n                    if (!Libs.isObjectEmpty(rs.data)) {\n                        data = rs.data;\n                    }\n                    callBack(rs.status, data, msg);\n                }\n            })\n        } catch (error) {\n            callBack(false, null, error);\n        }\n    }\n    /**\n      * API call for delete\n      * @author long.pham\n      * @param @param {RoleEntity} objE\n      * @param {function(status,msg)} callBack \n      * @param  {boolean} isShowProgress\n      */\n    delete(objE, callBack) {\n        try {\n            var http = new CMSHttp(true);\n            http.post(Constants.URL.PROJECT.DELETE, objE, function (status, rs) {\n                if (typeof callBack === 'function') {\n                    if (!status || !rs) {\n                        return;\n                    }\n                    var data = null;\n                    var msg = rs.mess;\n                    if (!Libs.isObjectEmpty(rs.data)) {\n                        data = rs.data;\n                    }\n                    callBack(rs.status, data, msg);\n                }\n            })\n        } catch (error) {\n            callBack(false, error);\n        }\n    }\n\n\n    /**\n     * API get detail\n     * @author Long.Pham 2019-05-28\n     * @param {RegenncyEntity} objE \n     * @param {function(data)} callBack\n     * @param {boolean} isShowProgress \n     */\n\n    getDetail(objE, callBack) {\n        try {\n            var http = new CMSHttp(true);\n            http.post(Constants.URL.PROJECT.DETAIL, objE, function (status, rs) {\n                if (typeof callBack === 'function') {\n                    if (!status || !rs) {\n                        //error http => lib http  proccess\n                        return;\n                    }\n                    var data = {};\n                    if (rs.status && typeof rs.data === 'object') {\n                        data = rs.data;\n                    }\n                    callBack(data);\n                }\n            })\n        } catch (error) {\n            callBack({});\n        }\n    }\n\n\n    /**\n     * API get detail config\n     * @author Long.Pham 2019-05-28\n     * @param {RegenncyEntity} objE \n     * @param {function(data)} callBack\n     * @param {boolean} isShowProgress \n     */\n\n    getDetailConfig(objE, callBack) {\n        try {\n            var http = new CMSHttp(true);\n            http.post(Constants.URL.PROJECT.DETAIL_CONFIG, objE, function (status, rs) {\n                if (typeof callBack === 'function') {\n                    if (!status || !rs) {\n                        //error http => lib http  proccess\n                        return;\n                    }\n                    var data = {};\n                    if (rs.status && typeof rs.data === 'object') {\n                        data = rs.data;\n                    }\n                    callBack(data);\n                }\n            })\n        } catch (error) {\n            callBack({});\n        }\n    }\n\n\n\n    /**\n    * Get dropdown list\n    * @author Long.Pham\n    * @param {function (data,total_row,msg)} callBack \n    * @param {boolean} isShowProgress \n    */\n    getDropdownList(objE, callBack) {\n        try {\n            var http = new CMSHttp(false);\n            http.post(Constants.URL.PROJECT.DROPDOWN_LIST, objE, function (status, rs) {\n                if (typeof callBack === 'function') {\n                    if (!status || !rs) {\n                        return;\n                    }\n                    var data = [];\n                    var total_row = 0;\n                    if (rs.status && Array.isArray(rs.data)) {\n                        data = rs.data;\n                        total_row = rs.total_row;\n                    }\n                    callBack(data, total_row, \"\");\n                }\n            });\n        } catch (error) {\n            var msg = error;\n            callBack(false, 0, msg);\n        }\n    }\n\n\n\n    /**\n    * Get dropdown list all attr\n    * @author Long.Pham\n    * @param {function (data,total_row,msg)} callBack \n    * @param {boolean} isShowProgress \n    */\n    getDropdownListAttr(objE, callBack) {\n        try {\n            var http = new CMSHttp(false);\n            http.post(Constants.URL.PROJECT.DROPDOWN_LIST_ATTR, objE, function (status, rs) {\n                if (typeof callBack === 'function') {\n                    if (!status || !rs) {\n                        return;\n                    }\n                    var data = [];\n                    var total_row = 0;\n                    if (rs.status && Array.isArray(rs.data)) {\n                        data = rs.data;\n                        total_row = rs.total_row;\n                    }\n                    callBack(data, total_row, \"\");\n                }\n            });\n        } catch (error) {\n            var msg = error;\n            callBack(false, 0, msg);\n        }\n    }\n\n}\n"]},"metadata":{},"sourceType":"module"}