{"ast":null,"code":"import _classCallCheck from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import SummaryGroupJsx from'./SummaryGroup.jsx';import BaseComponent from'../../../../../BaseComponent';import Libs from'../../../../../../utils/Libs';import{withTranslation}from'react-i18next';import MainProjectService from'../../../../../../services/MainProjectService';var SummaryGroup=/*#__PURE__*/function(_BaseComponent){_inherits(SummaryGroup,_BaseComponent);var _super=_createSuper(SummaryGroup);function SummaryGroup(props,context){var _this;_classCallCheck(this,SummaryGroup);_this=_super.call(this,props,context);_this.state={curItem:{},searchParam:_this.props.searchParam,chartOption:{}};_this.jsxTemplate=SummaryGroupJsx;return _this;}_createClass(SummaryGroup,[{key:\"componentDidMount\",value:function componentDidMount(){this.getListPlantSummary();}/**\n     * get list\n     * @author Long.Pham 2019-06-03\n     */},{key:\"getListPlantSummary\",value:function getListPlantSummary(){var self=this;var params=this.state.searchParam;params.id_language=this.employee.id_language;params.id_employee=this.employee.id_employee;var chartOption={credits:{enabled:false},exporting:{enabled:true},chart:{zoomType:'xy'},title:{text:''},colors:['#66bc51','#f5893b','#004ec3'],xAxis:[{categories:[],crosshair:true}],yAxis:[{title:{text:'Today (kWh)'}},{title:{text:'Lifetime (kWh)'},opposite:true}],tooltip:{shared:true},legend:{layout:'horizontal',align:'center',verticalAlign:'top',borderWidth:0,showInLegend:false},series:[]};var seriesData1=[],seriesData2=[];var categories=[];var series=[];MainProjectService.instance.getListPlantSummary(params,function(data,total_row){if(Libs.isArrayData(data)){for(var i=0;i<data.length;i++){seriesData1.push(data[i].energy_today);seriesData2.push(data[i].lifetime);categories.push(data[i].name);}series.push({name:\"Today's Production\",type:'column',data:seriesData1,tooltip:{valueSuffix:' kWh'}});series.push({name:'Total Production',type:'spline',yAxis:1,data:seriesData2,tooltip:{valueSuffix:' kWh'}});chartOption.series=series;chartOption.xAxis[0].categories=categories;self.setState({dataListSummary:data,chartOption:chartOption});}else{self.setState({dataList:[],chartOption:{}});}});}},{key:\"render\",value:function render(){return this.jsxTemplate.call(this);}}]);return SummaryGroup;}(BaseComponent);var HighOrderComponentTranslated=withTranslation('common')(SummaryGroup);export default HighOrderComponentTranslated;","map":{"version":3,"sources":["/Volumes/Data/sources/solarmon_production/solarmon_frontend/src/containers/views/desktop/ModulePrivate/Dashboard/SummaryGroup/SummaryGroup.js"],"names":["SummaryGroupJsx","BaseComponent","Libs","withTranslation","MainProjectService","SummaryGroup","props","context","state","curItem","searchParam","chartOption","jsxTemplate","getListPlantSummary","self","params","id_language","employee","id_employee","credits","enabled","exporting","chart","zoomType","title","text","colors","xAxis","categories","crosshair","yAxis","opposite","tooltip","shared","legend","layout","align","verticalAlign","borderWidth","showInLegend","series","seriesData1","seriesData2","instance","data","total_row","isArrayData","i","length","push","energy_today","lifetime","name","type","valueSuffix","setState","dataListSummary","dataList","call","HighOrderComponentTranslated"],"mappings":"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","sourcesContent":["import SummaryGroupJsx from './SummaryGroup.jsx';\nimport BaseComponent from '../../../../../BaseComponent';\nimport Libs from '../../../../../../utils/Libs';\nimport { withTranslation } from 'react-i18next';\nimport MainProjectService from '../../../../../../services/MainProjectService';\n\nclass SummaryGroup extends BaseComponent {\n\n    constructor(props, context) {\n        super(props, context);\n\n        this.state = {\n            curItem: {},\n            searchParam: this.props.searchParam,\n            chartOption: {}\n        };\n\n        this.jsxTemplate = SummaryGroupJsx;\n    }\n\n    componentDidMount() {\n        this.getListPlantSummary();\n    }\n\n    /**\n     * get list\n     * @author Long.Pham 2019-06-03\n     */\n    getListPlantSummary() {\n        let self = this;\n        let params = this.state.searchParam;\n        params.id_language = this.employee.id_language;\n        params.id_employee = this.employee.id_employee;\n        var chartOption = {\n            credits: { enabled: false },\n            exporting: { enabled: true },\n            chart: {\n                zoomType: 'xy'\n            },\n            title: {\n                text: ''\n            },\n\n            colors: ['#66bc51', '#f5893b', '#004ec3'],\n            xAxis: [{\n                categories: [],\n                crosshair: true\n            }],\n            yAxis: [{\n                title: {\n                    text: 'Today (kWh)'\n                }\n            }, {\n                title: {\n                    text: 'Lifetime (kWh)',\n                },\n                opposite: true\n            }],\n            tooltip: {\n                shared: true\n            },\n            legend: {\n                layout: 'horizontal',\n                align: 'center',\n                verticalAlign: 'top',\n                borderWidth: 0,\n                showInLegend: false\n            },\n\n\n            series: [],\n        };\n        var seriesData1 = [], seriesData2 = [];\n        var categories = [];\n        var series = [];\n        MainProjectService.instance.getListPlantSummary(params, (data, total_row) => {\n            if (Libs.isArrayData(data)) {\n                for (var i = 0; i < data.length; i++) {\n\n                    seriesData1.push(data[i].energy_today);\n                    seriesData2.push(data[i].lifetime);\n                    categories.push(data[i].name);\n                }\n                series.push(\n                    {\n                        name: \"Today's Production\",\n                        type: 'column',\n                        data: seriesData1,\n                        tooltip: {\n                            valueSuffix: ' kWh'\n                        }\n                    },\n                );\n\n                series.push(\n                    {\n                        name: 'Total Production',\n                        type: 'spline',\n                        yAxis: 1,\n                        data: seriesData2,\n                        tooltip: {\n                            valueSuffix: ' kWh'\n                        }\n                    },\n                );\n\n                chartOption.series = series;\n                chartOption.xAxis[0].categories = categories;\n                self.setState({\n                    dataListSummary: data,\n                    chartOption: chartOption\n                });\n            } else {\n                self.setState({\n                    dataList: [],\n                    chartOption: {}\n                });\n            }\n        });\n    }\n\n\n    render() {\n        return this.jsxTemplate.call(this)\n    }\n}\n\nconst HighOrderComponentTranslated = withTranslation('common')(SummaryGroup)\nexport default HighOrderComponentTranslated;"]},"metadata":{},"sourceType":"module"}