{"ast":null,"code":"import { Component } from 'react';\nimport SidebarPrivateJsx from './SidebarPrivate.jsx';\nimport { withTranslation } from 'react-i18next';\nimport Libs from '../../../utils/Libs';\nimport Constants from '../../../utils/Constants';\nimport ClientProjectService from '../../../services/ClientProjectService';\nimport { withRouter } from \"react-router-dom\";\n\nclass SidebarPrivate extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.setActiveLink = hash_id => {\n      var {\n        des\n      } = this.state;\n      var {\n        pathname\n      } = window.location;\n      var res = pathname.split(\"/\");\n      var params = ['devices', 'activities', 'analytics', 'reports', 'dashboard', 'config', 'control'];\n\n      if (res) {\n        des = res[res.length - 1];\n\n        if (params.includes(des)) {\n          des = des;\n        } else {\n          des = null;\n        }\n      }\n\n      this.props.history.push({\n        pathname: \"/private/\" + hash_id + (!Libs.isBlank(des) ? \"/\" + des : '')\n      });\n      this.setState({\n        hash_id: hash_id ? hash_id : null,\n        des: des\n      });\n    };\n\n    this.showChildMenu = index => {\n      var {\n        dataProjects\n      } = this.state;\n      var item = dataProjects[index];\n      if (Libs.isObjectEmpty(item)) return;\n      dataProjects[index].show_child = dataProjects[index].show_child ? false : true;\n      this.setState({\n        dataProjects: dataProjects\n      });\n    };\n\n    this.jsxTemplate = SidebarPrivateJsx;\n    this.state = {\n      permissions: [],\n      dataProjects: [],\n      hash_id: null,\n      des: null\n    };\n  }\n\n  componentDidMount() {\n    this.getList();\n  }\n\n  /**\n   * get list project\n   * @author Long.Pham 12/09/2021\n   */\n  getList() {\n    let self = this;\n    let info = localStorage.getItem(Constants.COMMON.EMPLOYEE_INFO);\n    let employeeInfo = JSON.parse(Libs.base64Decrypt(info));\n    var params = {\n      id_language: employeeInfo.id_language,\n      id_employee: employeeInfo.id_employee\n    };\n    ClientProjectService.instance.getProjectSideBar(params, (data, total_row) => {\n      if (Libs.isArrayData(data)) {\n        self.setState({\n          dataProjects: data\n        });\n      } else {\n        self.setState({\n          dataProjects: []\n        });\n      }\n    });\n  }\n\n  render() {\n    return this.jsxTemplate.call(this);\n  }\n\n}\n\nconst HighOrderComponentTranslated = withTranslation('common')(SidebarPrivate);\nexport default _c = withRouter(HighOrderComponentTranslated);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/Volumes/Data/sources/solars/frontend/src/containers/common/SidebarPrivate/SidebarPrivate.js"],"names":["Component","SidebarPrivateJsx","withTranslation","Libs","Constants","ClientProjectService","withRouter","SidebarPrivate","constructor","props","context","setActiveLink","hash_id","des","state","pathname","window","location","res","split","params","length","includes","history","push","isBlank","setState","showChildMenu","index","dataProjects","item","isObjectEmpty","show_child","jsxTemplate","permissions","componentDidMount","getList","self","info","localStorage","getItem","COMMON","EMPLOYEE_INFO","employeeInfo","JSON","parse","base64Decrypt","id_language","id_employee","instance","getProjectSideBar","data","total_row","isArrayData","render","call","HighOrderComponentTranslated"],"mappings":"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","sourcesContent":["import { Component } from 'react';\nimport SidebarPrivateJsx from './SidebarPrivate.jsx';\nimport { withTranslation } from 'react-i18next';\nimport Libs from '../../../utils/Libs';\nimport Constants from '../../../utils/Constants';\nimport ClientProjectService from '../../../services/ClientProjectService';\nimport { withRouter } from \"react-router-dom\";\n\nclass SidebarPrivate extends Component {\n    constructor(props, context) {\n        super(props, context);\n        this.jsxTemplate = SidebarPrivateJsx;\n        this.state = {\n            permissions: [],\n            dataProjects: [],\n            hash_id: null,\n            des: null\n        };\n    }\n\n    componentDidMount() {\n        this.getList();\n    }\n\n    setActiveLink = (hash_id) => {\n        var { des } = this.state;\n        var { pathname } = window.location;\n        var res = pathname.split(\"/\");\n        var params = ['devices', 'activities', 'analytics', 'reports', 'dashboard', 'config', 'control'];\n        if (res) {\n            des = res[res.length - 1];\n            if (params.includes(des)) {\n                des = des;\n            } else {\n                des = null;\n            }\n        }\n\n        this.props.history.push({pathname: \"/private/\"+ hash_id + (!Libs.isBlank(des) ? (\"/\" + des ): '')});\n        this.setState({\n            hash_id: hash_id ? hash_id : null,\n            des: des\n        });\n    }\n\n    /**\n     * get list project\n     * @author Long.Pham 12/09/2021\n     */\n    getList() {\n        let self = this;\n        let info = localStorage.getItem(Constants.COMMON.EMPLOYEE_INFO);\n        let employeeInfo = JSON.parse(Libs.base64Decrypt(info));\n        var params = {\n            id_language: employeeInfo.id_language,\n            id_employee: employeeInfo.id_employee\n        };\n\n\n        ClientProjectService.instance.getProjectSideBar(params, (data, total_row) => {\n            if (Libs.isArrayData(data)) {\n                self.setState({\n                    dataProjects: data\n                });\n            } else {\n                self.setState({\n                    dataProjects: []\n                });\n            }\n        });\n    }\n\n    showChildMenu = (index) => {\n        var { dataProjects } = this.state;\n        var item = dataProjects[index];\n        if (Libs.isObjectEmpty(item)) return;\n        dataProjects[index].show_child = dataProjects[index].show_child ? false : true;\n        this.setState({\n            dataProjects: dataProjects\n        })\n\n\n    }\n\n    render() {\n        return this.jsxTemplate.call(this)\n    }\n}\n\nconst HighOrderComponentTranslated = withTranslation('common')(SidebarPrivate)\nexport default withRouter(HighOrderComponentTranslated);"]},"metadata":{},"sourceType":"module"}