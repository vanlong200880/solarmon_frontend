{"ast":null,"code":"import _classCallCheck from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import CMSHttp from'../utils/CMSHttp';import Constants from'../utils/Constants';var AnalyticsService=/*#__PURE__*/function(){function AnalyticsService(){_classCallCheck(this,AnalyticsService);}_createClass(AnalyticsService,[{key:\"getDataChartProfile\",value:/**\n     * API get chart inverter performance\n     * @author long.pham 2020-11-02\n     * @param {function(data)} callBack\n     * @param {int} id_site \n     * @return Object\n     */function getDataChartProfile(objE,callBack){try{var http=new CMSHttp(true);http.post(Constants.URL.ANALYTICS.CHART_PROFILE,objE,function(status,rs){if(typeof callBack==='function'){if(!status||!rs){//error http => lib http  proccess\nreturn;}var data={};if(rs.status&&typeof rs.data==='object'){data=rs.data;}callBack(data);}});}catch(error){callBack({});}}/**\n         * @author long.pham 2018-07-27\n         * @param  {RoleEntity} objE\n         * @param  {function(data,total_row,msg)} callBack\n         * @param  {Boolean} isShowProgress\n         */},{key:\"getListDeviceByProject\",value:function getListDeviceByProject(objE,callBack){try{var http=new CMSHttp(true);http.post(Constants.URL.ANALYTICS.LIST_DEVICE,objE,function(status,rs){if(typeof callBack==='function'){if(!status||!rs){//lỗi do http nên không làm gì vì đã có http thư viện xử lý\nreturn;}var data=[];var total_row=0;if(rs.status&&Array.isArray(rs.data)){data=rs.data;total_row=rs.total_row;}callBack(data,total_row,\"\");}});}catch(error){var msg=error;callBack(false,0,msg);}}/**\n         * @author long.pham 2018-07-27\n         * @param  {RoleEntity} objE\n         * @param  {function(data,total_row,msg)} callBack\n         * @param  {Boolean} isShowProgress\n         */},{key:\"getChartByListDevice\",value:function getChartByListDevice(objE,callBack){try{var http=new CMSHttp(true);http.post(Constants.URL.ANALYTICS.CHART_PARAMETER_DEVICE,objE,function(status,rs){if(typeof callBack==='function'){if(!status||!rs){//lỗi do http nên không làm gì vì đã có http thư viện xử lý\nreturn;}var data=[];var total_row=0;if(rs.status&&Array.isArray(rs.data)){data=rs.data;total_row=rs.total_row;}callBack(data,total_row,\"\");}});}catch(error){var msg=error;callBack(false,0,msg);}}/**\n     * API get chart mini site inverter performance\n     * @author long.pham 2020-11-02\n     * @param {function(data)} callBack\n     * @param {int} id_site \n     * @return Object\n     */},{key:\"getChartAlarm\",value:function getChartAlarm(objE,callBack){try{var http=new CMSHttp(true);http.post(Constants.URL.ANALYTICS.CHART_ALARM,objE,function(status,rs){if(typeof callBack==='function'){if(!status||!rs){//error http => lib http  proccess\nreturn;}var data={};if(rs.status&&typeof rs.data==='object'){data=rs.data;}callBack(data);}});}catch(error){callBack({});}}}],[{key:\"instance\",get:function get(){if(!this._instance){this._instance=new AnalyticsService();}return this._instance;}}]);return AnalyticsService;}();export{AnalyticsService as default};","map":{"version":3,"sources":["/Volumes/Data/sources/solarmon_production/solarmon_frontend/src/services/AnalyticsService.js"],"names":["CMSHttp","Constants","AnalyticsService","objE","callBack","http","post","URL","ANALYTICS","CHART_PROFILE","status","rs","data","error","LIST_DEVICE","total_row","Array","isArray","msg","CHART_PARAMETER_DEVICE","CHART_ALARM","_instance"],"mappings":"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","sourcesContent":["import CMSHttp from '../utils/CMSHttp';\nimport Constants from '../utils/Constants';\n\nexport default class AnalyticsService {\n    static _instance;\n    static get instance() {\n        if (!this._instance) {\n            this._instance = new AnalyticsService();\n        }\n        return this._instance;\n    }\n\n    /**\n     * API get chart inverter performance\n     * @author long.pham 2020-11-02\n     * @param {function(data)} callBack\n     * @param {int} id_site \n     * @return Object\n     */\n    getDataChartProfile(objE, callBack) {\n        try {\n            var http = new CMSHttp(true);\n            http.post(Constants.URL.ANALYTICS.CHART_PROFILE, objE, function (status, rs) {\n                if (typeof callBack === 'function') {\n                    if (!status || !rs) {\n                        //error http => lib http  proccess\n                        return;\n                    }\n                    var data = {};\n                    if (rs.status && typeof rs.data === 'object') {\n                        data = rs.data;\n                    }\n                    callBack(data);\n                }\n            })\n        } catch (error) {\n            callBack({});\n        }\n    }\n\n\n\n    /**\n         * @author long.pham 2018-07-27\n         * @param  {RoleEntity} objE\n         * @param  {function(data,total_row,msg)} callBack\n         * @param  {Boolean} isShowProgress\n         */\n    getListDeviceByProject(objE, callBack) {\n        try {\n            var http = new CMSHttp(true);\n            http.post(Constants.URL.ANALYTICS.LIST_DEVICE, objE, function (status, rs) {\n                if (typeof callBack === 'function') {\n                    if (!status || !rs) {\n                        //lỗi do http nên không làm gì vì đã có http thư viện xử lý\n                        return;\n                    }\n                    var data = [];\n                    var total_row = 0;\n                    if (rs.status && Array.isArray(rs.data)) {\n                        data = rs.data;\n                        total_row = rs.total_row;\n                    }\n                    callBack(data, total_row, \"\");\n                }\n            });\n        } catch (error) {\n            var msg = error;\n            callBack(false, 0, msg);\n        }\n    }\n\n\n\n\n    /**\n         * @author long.pham 2018-07-27\n         * @param  {RoleEntity} objE\n         * @param  {function(data,total_row,msg)} callBack\n         * @param  {Boolean} isShowProgress\n         */\n    getChartByListDevice(objE, callBack) {\n        try {\n            var http = new CMSHttp(true);\n            http.post(Constants.URL.ANALYTICS.CHART_PARAMETER_DEVICE, objE, function (status, rs) {\n                if (typeof callBack === 'function') {\n                    if (!status || !rs) {\n                        //lỗi do http nên không làm gì vì đã có http thư viện xử lý\n                        return;\n                    }\n                    var data = [];\n                    var total_row = 0;\n                    if (rs.status && Array.isArray(rs.data)) {\n                        data = rs.data;\n                        total_row = rs.total_row;\n                    }\n                    callBack(data, total_row, \"\");\n                }\n            });\n        } catch (error) {\n            var msg = error;\n            callBack(false, 0, msg);\n        }\n    }\n\n\n\n    /**\n     * API get chart mini site inverter performance\n     * @author long.pham 2020-11-02\n     * @param {function(data)} callBack\n     * @param {int} id_site \n     * @return Object\n     */\n    getChartAlarm(objE, callBack) {\n        try {\n            var http = new CMSHttp(true);\n            http.post(Constants.URL.ANALYTICS.CHART_ALARM, objE, function (status, rs) {\n                if (typeof callBack === 'function') {\n                    if (!status || !rs) {\n                        //error http => lib http  proccess\n                        return;\n                    }\n                    var data = {};\n                    if (rs.status && typeof rs.data === 'object') {\n                        data = rs.data;\n                    }\n                    callBack(data);\n                }\n            })\n        } catch (error) {\n            callBack({});\n        }\n    }\n}\n"]},"metadata":{},"sourceType":"module"}