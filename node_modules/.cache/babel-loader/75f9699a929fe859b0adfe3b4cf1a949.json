{"ast":null,"code":"import React from'react';import{RTextArea,RCheckbox}from'../../../../../components/Controls';import Modal from'react-bootstrap4-modal';import Constants from'../../../../../utils/Constants';import FormReactSelect from'../../../../../components/FormReactSelect';import Libs from'../../../../../utils/Libs';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function AddPopup(){var _this=this;var _this$state=this.state,curItem=_this$state.curItem,dataErrorLevel=_this$state.dataErrorLevel,dataStatus=_this$state.dataStatus,dataErrorType=_this$state.dataErrorType,dataAlertState=_this$state.dataAlertState;var t=this.props.t;return/*#__PURE__*/_jsxs(Modal,{visible:true,className:\"modal-add\",dialogClassName:\"modal-lg modal-dialog-scrollable\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",children:t('activities.alert_detail')}),/*#__PURE__*/_jsx(\"span\",{className:\"close\",onClick:this.props.onClickCloseAdd.bind(this,false),children:/*#__PURE__*/_jsx(\"var\",{className:\"icon-cancel-music\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"box-info\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[t('activities.device'),\": \",curItem.name]}),/*#__PURE__*/_jsx(\"div\",{className:\"box-info-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"alert-information\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"span\",{className:\"alert alert-success\",children:[t('activities.opened'),\": \",curItem.start_date_format]})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-danger\",children:[!Libs.isBlank(curItem.message)?/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[t('activities.message'),\":\"]}),\" \",curItem.message]}):\"\",!Libs.isBlank(curItem.description)?/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[t('activities.description'),\":\"]}),\" \",curItem.description]}):\"\"]}),!Libs.isBlank(curItem.solutions)?/*#__PURE__*/_jsxs(\"div\",{className:\"solutions\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[t('activities.solutions'),\":\"]})}),/*#__PURE__*/_jsx(\"p\",{children:curItem.solutions})]}):\"\",/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-4 col-lg-4 col-md-4 col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(FormReactSelect,{label:t('activities.id_error_level'),instanceId:\"id_error_level\",className:\"id_error_level\",name:\"id_error_level\",isDisabled:true,value:dataErrorLevel.filter(function(item){return item.id===curItem.id_error_level;}),onChange:function onChange(e){_this.handleDropdownChange(e,'id_error_level');},optionList:dataErrorLevel,placeHolder:t('common.choose')})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-4 col-lg-4 col-md-4 col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(FormReactSelect,{label:t('activities.id_error_type'),instanceId:\"id_error_type\",className:\"id_error_type\",name:\"id_error_type\",value:dataErrorType.filter(function(item){return item.id===curItem.id_error_type;}),onChange:function onChange(e){_this.handleDropdownChange(e,'id_error_type');},optionList:dataErrorType,isDisabled:true,placeHolder:t('common.choose')})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-4 col-lg-4 col-md-4 col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(FormReactSelect,{label:t('activities.status'),instanceId:\"status\",className:\"status\",name:\"status\",value:dataStatus.filter(function(item){return item.id===curItem.status;}),onChange:function onChange(e){_this.handleDropdownChange(e,'status');},optionList:dataStatus,placeHolder:t('common.choose')})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-12 col-lg-12 col-md-12 col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"reminder\",children:/*#__PURE__*/_jsx(\"ul\",{children:Libs.isArrayData(dataAlertState)?dataAlertState.map(function(item,index){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(RCheckbox,{inputId:\"reminder\"+item.id,inputName:\"reminder\",labelClass:\"no-label\",checked:curItem.id_alert_state===item.id?1:0,onChange:function onChange(e){_this.handleAlertStateInputChange(index);},label:item.label})},index);}):\"\"})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-12 col-lg-12 col-md-12 col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(RTextArea,{label:t('activities.note'),inputClass:\"form-control\",inputId:\"note\",inputName:\"note\",value:curItem.note,onChange:function onChange(e){_this.handleInputChange(e);},maxLength:1000})})})]})]})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-cancel\",onClick:this.props.onClickCloseAdd.bind(this,false),children:t('common.cancel')}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-save\",onClick:this.onSave.bind(this),children:curItem.screen_mode===Constants.SCREEN_MODE.EDIT?t('common.save'):t('common.save')})]})]});}","map":{"version":3,"sources":["/Volumes/Data/sources/solarmon_production/solarmon_frontend/src/containers/views/desktop/ModuleProject/Activities/AddPopup.jsx"],"names":["React","RTextArea","RCheckbox","Modal","Constants","FormReactSelect","Libs","AddPopup","state","curItem","dataErrorLevel","dataStatus","dataErrorType","dataAlertState","t","props","onClickCloseAdd","bind","name","start_date_format","isBlank","message","description","solutions","filter","item","id","id_error_level","e","handleDropdownChange","id_error_type","status","isArrayData","map","index","id_alert_state","handleAlertStateInputChange","label","note","handleInputChange","onSave","screen_mode","SCREEN_MODE","EDIT"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { RTextArea, RCheckbox } from '../../../../../components/Controls';\nimport Modal from 'react-bootstrap4-modal';\nimport Constants from '../../../../../utils/Constants';\nimport FormReactSelect from '../../../../../components/FormReactSelect';\nimport Libs from '../../../../../utils/Libs';\n\n\nexport default function AddPopup() {\n\n    var { curItem, dataErrorLevel, dataStatus, dataErrorType, dataAlertState } = this.state;\n    const { t } = this.props;\n\n    return (\n        <Modal visible={true} className=\"modal-add\" dialogClassName=\"modal-lg modal-dialog-scrollable\" >\n            <div className=\"modal-header\">\n                <h5 className=\"modal-title\">\n                    {t('activities.alert_detail')}\n                </h5>\n                <span className=\"close\" onClick={this.props.onClickCloseAdd.bind(this, false)}><var className=\"icon-cancel-music\"></var></span>\n            </div>\n            <div className=\"modal-body\">\n\n                <div className=\"box-info\">\n                    <h2>{t('activities.device')}: {curItem.name}</h2>\n                    <div className=\"box-info-content\">\n                        <div className=\"alert-information\">\n                            <p><span className=\"alert alert-success\">{t('activities.opened')}: {curItem.start_date_format}</span></p>\n                            <hr></hr>\n                            <div className=\"alert alert-danger\">\n\n                                {!Libs.isBlank(curItem.message) ? <p><strong>{t('activities.message')}:</strong> {curItem.message}</p> : \"\"}\n                                {!Libs.isBlank(curItem.description) ? <p><strong>{t('activities.description')}:</strong> {curItem.description}</p> : \"\"}\n\n                            </div>\n                            {!Libs.isBlank(curItem.solutions) ?\n                                <div className=\"solutions\">\n                                    <p><strong>{t('activities.solutions')}:</strong></p>\n                                    <p>{curItem.solutions}</p>\n                                </div>\n                                : \"\"}\n\n                            <hr></hr>\n                            <div className=\"row\">\n                                <div className=\"col-xl-4 col-lg-4 col-md-4 col-12\">\n                                    <div className=\"mb-3\">\n                                        <FormReactSelect\n                                            label={t('activities.id_error_level')}\n                                            instanceId=\"id_error_level\"\n                                            className=\"id_error_level\"\n                                            name=\"id_error_level\"\n                                            isDisabled={true}\n                                            value={dataErrorLevel.filter(function (item) { return item.id === curItem.id_error_level })}\n                                            onChange={(e) => { this.handleDropdownChange(e, 'id_error_level'); }}\n                                            optionList={dataErrorLevel}\n                                            placeHolder={t('common.choose')}\n                                        />\n                                    </div>\n                                </div>\n\n                                <div className=\"col-xl-4 col-lg-4 col-md-4 col-12\">\n                                    <div className=\"mb-3\">\n                                        <FormReactSelect\n                                            label={t('activities.id_error_type')}\n                                            instanceId=\"id_error_type\"\n                                            className=\"id_error_type\"\n                                            name=\"id_error_type\"\n                                            value={dataErrorType.filter(function (item) { return item.id === curItem.id_error_type })}\n                                            onChange={(e) => { this.handleDropdownChange(e, 'id_error_type'); }}\n                                            optionList={dataErrorType}\n                                            isDisabled={true}\n                                            placeHolder={t('common.choose')}\n                                        />\n                                    </div>\n                                </div>\n\n                                <div className=\"col-xl-4 col-lg-4 col-md-4 col-12\">\n                                    <div className=\"mb-3\">\n                                        <FormReactSelect\n                                            label={t('activities.status')}\n                                            instanceId=\"status\"\n                                            className=\"status\"\n                                            name=\"status\"\n                                            value={dataStatus.filter(function (item) { return item.id === curItem.status })}\n                                            onChange={(e) => { this.handleDropdownChange(e, 'status'); }}\n                                            optionList={dataStatus}\n                                            placeHolder={t('common.choose')}\n                                        />\n                                    </div>\n                                </div>\n\n                                <div className=\"col-xl-12 col-lg-12 col-md-12 col-12\">\n                                    <div className=\"mb-3\">\n                                        <div className=\"reminder\">\n                                            <ul>\n                                                {Libs.isArrayData(dataAlertState) ?\n                                                    dataAlertState.map((item, index) => {\n                                                        return (\n                                                            <li key = {index}>\n                                                                <RCheckbox\n                                                                    inputId={\"reminder\" + item.id}\n                                                                    inputName=\"reminder\"\n                                                                    labelClass=\"no-label\"\n                                                                    checked={curItem.id_alert_state === item.id ? 1: 0}\n                                                                    onChange={(e) => { this.handleAlertStateInputChange(index); }}\n                                                                    label={item.label}\n                                                                />\n                                                            </li>\n                                                        )\n                                                    })\n                                                    : \"\"}\n                                            </ul>\n                                        </div>\n\n                                    </div>\n                                </div>\n\n\n\n\n                                <div className=\"col-xl-12 col-lg-12 col-md-12 col-12\">\n                                    <div className=\"mb-3\">\n                                        <RTextArea label={t('activities.note')}\n                                            inputClass=\"form-control\"\n                                            inputId=\"note\"\n                                            inputName=\"note\"\n                                            value={curItem.note}\n                                            onChange={(e) => { this.handleInputChange(e); }}\n                                            maxLength={1000} />\n                                    </div>\n                                </div>\n\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div className=\"modal-footer\">\n                <button type=\"button\" className=\"btn btn-cancel\" onClick={this.props.onClickCloseAdd.bind(this, false)}>\n                    {t('common.cancel')}\n                </button>\n                <button type=\"button\" className=\"btn btn-save\" onClick={this.onSave.bind(this)}>\n                    {(curItem.screen_mode === Constants.SCREEN_MODE.EDIT) ? t('common.save') : t('common.save')}\n                </button>\n            </div>\n        </Modal>\n\n    )\n}"]},"metadata":{},"sourceType":"module"}