{"ast":null,"code":"import _defineProperty from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import BaseComponent from'../../../BaseComponent';import AccountJsx from'./Account.jsx';import{withTranslation}from'react-i18next';import AccountValidate from'./AccountValidate';import Libs from'../../../../utils/Libs';import Constants from'../../../../utils/Constants';import EmployeeService from'../../../../services/EmployeeService';import'./Account.scss';var Account=/*#__PURE__*/function(_BaseComponent){_inherits(Account,_BaseComponent);var _super=_createSuper(Account);function Account(props,context){var _this;_classCallCheck(this,Account);_this=_super.call(this,props,context);_this.onAddChangePassword=function(){_this.setState({add:true});};_this.onCloseChangePassword=function(){_this.setState({add:false});};_this.onFileAvatarChange=function(event){var t=_this.props.t;var target=event.target;var file=target.files[0];if(!file||file===undefined||file===null)return;var fileName=file.name,fileSize=file.size;var checkExtFile=Libs.checkExtensionFile(fileName,1);var msgAvatarError=null;if(!checkExtFile){msgAvatarError=t('message.msg_err_ext_image_file');}else if(fileSize<=0){msgAvatarError=t('message.msg_err_file_size');}else if(fileSize>Constants.COMMON.MAX_IMAGE_SIZE){msgAvatarError=t('message.msg_err_max_size_upload');}var self=_assertThisInitialized(_this);var curItem=_this.state.curItem;if(!Libs.isBlank(msgAvatarError)){curItem.file_upload='';curItem.file_message=msgAvatarError;_this.setState({curItem:curItem});return;}else{curItem.file_message='';_this.setState({curItem:curItem});}//Read file upload\nvar reader=new FileReader();reader.onload=function(e){curItem.file_upload=e.target.result;curItem.file_name=fileName;self.setState({curItem:curItem});};reader.readAsDataURL(file);};_this.onClickDeleteAvatar=function(event){var curItem=_this.state.curItem;curItem.file_message='';curItem.file_upload='';curItem.avatar_full=null;_this.setState({curItem:curItem});};_this.jsxTemplate=AccountJsx;_this.state={curItem:{max_date:Libs.getCurrentDDMMYYYY()},add:false};return _this;}_createClass(Account,[{key:\"componentDidMount\",value:function componentDidMount(){this.getDetail();}},{key:\"getDetail\",value:/**\r\n     * get employee detail\r\n     * @author Long.Pham 15/06/2021\r\n     */function getDetail(){var self=this,curItem=this.state.curItem;var params={id:this.employee.id_employee,iso_code:this.employee.iso_code};EmployeeService.instance.getDetailEmployee(params,function(status,msg,data){if(status){if(data!=null){self.setState({curItem:Object.assign(curItem,data)});}}else{self.toast(msg,\"error\");}});}},{key:\"onSaveAction\",value:function(){var _onSaveAction=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var curItem,self,screenMode,v,errors,params;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:curItem=this.state.curItem,self=this;screenMode=Constants.SCREEN_MODE.EDIT;v=new AccountValidate(this.props);_context.next=5;return v.FLValidationAll(curItem);case 5:errors=_context.sent;if(!errors){_context.next=9;break;}this.setValidateMessage(errors);return _context.abrupt(\"return\");case 9://remove message validation\nthis.removeAllValidateMessage();curItem.screen_mode=screenMode;curItem.iso_code=this.employee.iso_code;params=Object.assign({},curItem);EmployeeService.instance.saveUpdateProfile(params,function(status,data,msg){if(status){self.toast(msg,\"info\");var info=localStorage.getItem(Constants.COMMON.EMPLOYEE_INFO);var employeeInfo=JSON.parse(Libs.base64Decrypt(info));employeeInfo.first_name=data.first_name;employeeInfo.last_name=data.last_name;employeeInfo.full_name=data.first_name+\" \"+data.last_name;employeeInfo.avatar=data.avatar;var jsonUser=JSON.stringify(employeeInfo);localStorage.setItem(Constants.COMMON.EMPLOYEE_INFO,Libs.base64Encrypt(jsonUser));setTimeout(function(){window.location.reload();},4000);}else if(data){self.setValidateMessage(data);}else if(!Libs.isBlank(msg)){self.toast(msg,\"error\");}},true);case 14:case\"end\":return _context.stop();}}},_callee,this);}));function onSaveAction(){return _onSaveAction.apply(this,arguments);}return onSaveAction;}()/**\r\n     * @description Upload icon  \r\n     * @author Long.Pham 12/05/2021\r\n     */},{key:\"validateOne\",value:/**\r\n     * @description validate a field input\r\n     * @author Long.Pham 12/05/2021\r\n     * @param {*} event \r\n     */function(){var _validateOne=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var target,name,value,param,v,error;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:target=event.target;name=target.name;value=target.value;if(!name){_context2.next=10;break;}param=_defineProperty({},name,value);v=new AccountValidate(this.props);_context2.next=8;return v.validateOne(param,name);case 8:error=_context2.sent;if(error!=null){this.setValidateMessage(error,true);}case 10:case\"end\":return _context2.stop();}}},_callee2,this);}));function validateOne(_x){return _validateOne.apply(this,arguments);}return validateOne;}()},{key:\"render\",value:function render(){return this.jsxTemplate.call(this);}}]);return Account;}(BaseComponent);var HighOrderComponentTranslated=withTranslation('common')(Account);export default HighOrderComponentTranslated;","map":{"version":3,"sources":["/Volumes/Data/sources/solarmon_production/solarmon_frontend/src/containers/views/desktop/Account/Account.js"],"names":["BaseComponent","AccountJsx","withTranslation","AccountValidate","Libs","Constants","EmployeeService","Account","props","context","onAddChangePassword","setState","add","onCloseChangePassword","onFileAvatarChange","event","t","target","file","files","undefined","fileName","name","fileSize","size","checkExtFile","checkExtensionFile","msgAvatarError","COMMON","MAX_IMAGE_SIZE","self","curItem","state","isBlank","file_upload","file_message","reader","FileReader","onload","e","result","file_name","readAsDataURL","onClickDeleteAvatar","avatar_full","jsxTemplate","max_date","getCurrentDDMMYYYY","getDetail","params","id","employee","id_employee","iso_code","instance","getDetailEmployee","status","msg","data","Object","assign","toast","screenMode","SCREEN_MODE","EDIT","v","FLValidationAll","errors","setValidateMessage","removeAllValidateMessage","screen_mode","saveUpdateProfile","info","localStorage","getItem","EMPLOYEE_INFO","employeeInfo","JSON","parse","base64Decrypt","first_name","last_name","full_name","avatar","jsonUser","stringify","setItem","base64Encrypt","setTimeout","window","location","reload","value","param","validateOne","error","call","HighOrderComponentTranslated"],"mappings":"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","sourcesContent":["import BaseComponent from '../../../BaseComponent';\r\nimport AccountJsx from './Account.jsx';\r\nimport { withTranslation } from 'react-i18next';\r\nimport AccountValidate from './AccountValidate';\r\nimport Libs from '../../../../utils/Libs';\r\nimport Constants from '../../../../utils/Constants';\r\nimport EmployeeService from '../../../../services/EmployeeService';\r\nimport './Account.scss';\r\n\r\nclass Account extends BaseComponent {\r\n\r\n    constructor(props, context) {\r\n        super(props, context);\r\n        this.jsxTemplate = AccountJsx;\r\n        this.state = {\r\n            curItem: {\r\n                max_date: Libs.getCurrentDDMMYYYY()\r\n            },\r\n            add: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getDetail();\r\n    }\r\n\r\n    onAddChangePassword = () => {\r\n        this.setState({\r\n            add: true\r\n        })\r\n    }\r\n\r\n    onCloseChangePassword = () => {\r\n        this.setState({\r\n            add: false\r\n        })\r\n    }\r\n\r\n    /**\r\n     * get employee detail\r\n     * @author Long.Pham 15/06/2021\r\n     */\r\n    getDetail() {\r\n        let self = this, curItem = this.state.curItem;\r\n        var params = {\r\n            id: this.employee.id_employee,\r\n            iso_code: this.employee.iso_code\r\n        };\r\n\r\n        EmployeeService.instance.getDetailEmployee(params, (status, msg, data) => {\r\n            if (status) {\r\n                if (data != null) {\r\n                    self.setState({ curItem: Object.assign(curItem, data) });\r\n                }\r\n            } else {\r\n                self.toast(msg, \"error\");\r\n            }\r\n        })\r\n    }\r\n\r\n    async onSaveAction() {\r\n        var curItem = this.state.curItem, self = this;\r\n        var screenMode = Constants.SCREEN_MODE.EDIT;\r\n        let v = new AccountValidate(this.props);\r\n        let errors = await v.FLValidationAll(curItem);\r\n        if (errors) {\r\n            this.setValidateMessage(errors);\r\n            return;\r\n        }\r\n        //remove message validation\r\n        this.removeAllValidateMessage();\r\n        curItem.screen_mode = screenMode;\r\n        curItem.iso_code = this.employee.iso_code;\r\n        var params = Object.assign({}, curItem);\r\n\r\n        EmployeeService.instance.saveUpdateProfile(params, function (status, data, msg) {\r\n            if (status) {\r\n                self.toast(msg, \"info\");\r\n                let info = localStorage.getItem(Constants.COMMON.EMPLOYEE_INFO);\r\n                let employeeInfo = JSON.parse(Libs.base64Decrypt(info));\r\n                employeeInfo.first_name = data.first_name;\r\n                employeeInfo.last_name = data.last_name;\r\n                employeeInfo.full_name = data.first_name + \" \" + data.last_name;\r\n                employeeInfo.avatar = data.avatar;\r\n                let jsonUser = JSON.stringify(employeeInfo);\r\n                localStorage.setItem(Constants.COMMON.EMPLOYEE_INFO, Libs.base64Encrypt(jsonUser));\r\n                setTimeout(function () {\r\n                    window.location.reload();\r\n                }, 4000);\r\n\r\n            }\r\n            else if (data) {\r\n                self.setValidateMessage(data);\r\n            }\r\n            else if (!Libs.isBlank(msg)) {\r\n                self.toast(msg, \"error\");\r\n            }\r\n        }, true);\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * @description Upload icon  \r\n     * @author Long.Pham 12/05/2021\r\n     */\r\n    onFileAvatarChange = (event) => {\r\n        var { t } = this.props;\r\n        var target = event.target;\r\n        var file = target.files[0];\r\n        if (!file || file === undefined || file === null) return;\r\n        var fileName = file.name, fileSize = file.size;\r\n        var checkExtFile = Libs.checkExtensionFile(fileName, 1);\r\n        var msgAvatarError = null;\r\n        if (!checkExtFile) {\r\n            msgAvatarError = t('message.msg_err_ext_image_file')\r\n        }\r\n        else if (fileSize <= 0) {\r\n            msgAvatarError = t('message.msg_err_file_size');\r\n        }\r\n        else if (fileSize > Constants.COMMON.MAX_IMAGE_SIZE) {\r\n            msgAvatarError = t('message.msg_err_max_size_upload');\r\n        }\r\n\r\n        var self = this;\r\n        var { curItem } = this.state;\r\n        if (!Libs.isBlank(msgAvatarError)) {\r\n            curItem.file_upload = '';\r\n            curItem.file_message = msgAvatarError;\r\n            this.setState({\r\n                curItem: curItem\r\n            });\r\n\r\n            return;\r\n        } else {\r\n            curItem.file_message = '';\r\n            this.setState({\r\n                curItem: curItem\r\n            });\r\n        }\r\n\r\n        //Read file upload\r\n        var reader = new FileReader();\r\n        reader.onload = function (e) {\r\n            curItem.file_upload = e.target.result;\r\n            curItem.file_name = fileName;\r\n            self.setState({\r\n                curItem: curItem\r\n            });\r\n        };\r\n        reader.readAsDataURL(file);\r\n    }\r\n\r\n\r\n    /**\r\n     * @description Delete icon upload \r\n     * @author Long.Pham 12/05/2021\r\n     */\r\n    onClickDeleteAvatar = (event) => {\r\n        var { curItem } = this.state;\r\n        curItem.file_message = '';\r\n        curItem.file_upload = '';\r\n        curItem.avatar_full = null;\r\n\r\n        this.setState({\r\n            curItem: curItem\r\n        });\r\n    }\r\n\r\n    /**\r\n     * @description validate a field input\r\n     * @author Long.Pham 12/05/2021\r\n     * @param {*} event \r\n     */\r\n    async validateOne(event) {\r\n        let target = event.target;\r\n        let name = target.name;\r\n        let value = target.value\r\n        if (name) {\r\n            let param = {\r\n                [name]: value\r\n            }\r\n            let v = new AccountValidate(this.props);\r\n            let error = await v.validateOne(param, name);\r\n            if (error != null) {\r\n                this.setValidateMessage(error, true);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return this.jsxTemplate.call(this);\r\n    }\r\n\r\n}\r\n\r\nconst HighOrderComponentTranslated = withTranslation('common')(Account)\r\nexport default HighOrderComponentTranslated;"]},"metadata":{},"sourceType":"module"}