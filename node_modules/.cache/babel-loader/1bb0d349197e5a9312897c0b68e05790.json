{"ast":null,"code":"import _classCallCheck from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{Component}from'react';import SidebarDashBoardJsx from'./SidebarDashBoard.jsx';import{withTranslation}from'react-i18next';import Constants from'../../../utils/Constants';import Libs from'../../../utils/Libs';import ClientProjectService from'../../../services/ClientProjectService';import{withRouter}from\"react-router-dom\";var SidebarDashBoard=/*#__PURE__*/function(_Component){_inherits(SidebarDashBoard,_Component);var _super=_createSuper(SidebarDashBoard);function SidebarDashBoard(props,context){var _this;_classCallCheck(this,SidebarDashBoard);_this=_super.call(this,props,context);_this.setActiveLink=function(hash_id){var des=_this.state.des;var pathname=window.location.pathname;var res=pathname.split(\"/\");var params=['devices','activities','analytics','reports','dashboard','config'];if(res){des=res[res.length-1];if(params.includes(des)){des=des;}else{des=null;}}var info=localStorage.getItem(Constants.COMMON.EMPLOYEE_INFO);var employeeInfo=JSON.parse(Libs.base64Decrypt(info));_this.props.history.push({pathname:(!Libs.isBlank(employeeInfo.type)&&employeeInfo.type=='main'?\"/private/\":\"/project/\")+hash_id+(!Libs.isBlank(des)?\"/\"+des:'')});_this.setState({hash_id:hash_id?hash_id:null,des:des});};_this.showChildMenu=function(index){var dataProjects=_this.state.dataProjects;var item=dataProjects[index];if(Libs.isObjectEmpty(item))return;dataProjects[index].show_child=dataProjects[index].show_child?false:true;_this.setState({dataProjects:dataProjects});};_this.jsxTemplate=SidebarDashBoardJsx;_this.state={permissions:[],dataProjects:[],hash_id:null,des:null};return _this;}_createClass(SidebarDashBoard,[{key:\"componentDidMount\",value:function componentDidMount(){this.getList();}},{key:\"getList\",value:/**\n     * get list project\n     * @author Long.Pham 12/09/2021\n     */function getList(){var self=this;var info=localStorage.getItem(Constants.COMMON.EMPLOYEE_INFO);var employeeInfo=JSON.parse(Libs.base64Decrypt(info));var params={id_language:employeeInfo.id_language,id_employee:employeeInfo.id_employee};ClientProjectService.instance.getProjectSideBar(params,function(data,total_row){if(Libs.isArrayData(data)){self.setState({dataProjects:data});}else{self.setState({dataProjects:[]});}});}},{key:\"render\",value:function render(){return this.jsxTemplate.call(this);}}]);return SidebarDashBoard;}(Component);var HighOrderComponentTranslated=withTranslation('common')(SidebarDashBoard);export default withRouter(HighOrderComponentTranslated);","map":{"version":3,"sources":["/Volumes/Data/sources/solarmon_production/solarmon_frontend/src/containers/common/SidebarDashBoard/SidebarDashBoard.js"],"names":["Component","SidebarDashBoardJsx","withTranslation","Constants","Libs","ClientProjectService","withRouter","SidebarDashBoard","props","context","setActiveLink","hash_id","des","state","pathname","window","location","res","split","params","length","includes","info","localStorage","getItem","COMMON","EMPLOYEE_INFO","employeeInfo","JSON","parse","base64Decrypt","history","push","isBlank","type","setState","showChildMenu","index","dataProjects","item","isObjectEmpty","show_child","jsxTemplate","permissions","getList","self","id_language","id_employee","instance","getProjectSideBar","data","total_row","isArrayData","call","HighOrderComponentTranslated"],"mappings":"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","sourcesContent":["import { Component } from 'react';\nimport SidebarDashBoardJsx from './SidebarDashBoard.jsx';\nimport { withTranslation } from 'react-i18next';\nimport Constants from '../../../utils/Constants';\nimport Libs from '../../../utils/Libs';\nimport ClientProjectService from '../../../services/ClientProjectService';\nimport { withRouter } from \"react-router-dom\";\n\nclass SidebarDashBoard extends Component {\n    constructor(props, context) {\n        super(props, context);\n        this.jsxTemplate = SidebarDashBoardJsx;\n        this.state = {\n            permissions: [],\n            dataProjects: [],\n            hash_id: null,\n            des: null\n        };\n    }\n\n    componentDidMount() {\n        this.getList();\n    }\n\n    setActiveLink = (hash_id) => {\n        var { des } = this.state;\n        var { pathname } = window.location;\n        var res = pathname.split(\"/\");\n        var params = ['devices', 'activities', 'analytics', 'reports', 'dashboard', 'config'];\n        if (res) {\n            des = res[res.length - 1];\n            if (params.includes(des)) {\n                des = des;\n            } else {\n                des = null;\n            }\n        }\n        let info = localStorage.getItem(Constants.COMMON.EMPLOYEE_INFO);\n        let employeeInfo = JSON.parse(Libs.base64Decrypt(info));\n        this.props.history.push({ pathname: (!Libs.isBlank(employeeInfo.type) && employeeInfo.type == 'main' ? \"/private/\" : \"/project/\") + hash_id + (!Libs.isBlank(des) ? (\"/\" + des) : '') });\n        this.setState({\n            hash_id: hash_id ? hash_id : null,\n            des: des\n        });\n    }\n\n    /**\n     * get list project\n     * @author Long.Pham 12/09/2021\n     */\n    getList() {\n        let self = this;\n        let info = localStorage.getItem(Constants.COMMON.EMPLOYEE_INFO);\n        let employeeInfo = JSON.parse(Libs.base64Decrypt(info));\n        var params = {\n            id_language: employeeInfo.id_language,\n            id_employee: employeeInfo.id_employee\n        };\n\n\n        ClientProjectService.instance.getProjectSideBar(params, (data, total_row) => {\n            if (Libs.isArrayData(data)) {\n                self.setState({\n                    dataProjects: data\n                });\n            } else {\n                self.setState({\n                    dataProjects: []\n                });\n            }\n        });\n    }\n\n    showChildMenu = (index) => {\n        var { dataProjects } = this.state;\n        var item = dataProjects[index];\n        if (Libs.isObjectEmpty(item)) return;\n        dataProjects[index].show_child = dataProjects[index].show_child ? false : true;\n        this.setState({\n            dataProjects: dataProjects\n        })\n\n\n    }\n\n    render() {\n        return this.jsxTemplate.call(this)\n    }\n}\n\nconst HighOrderComponentTranslated = withTranslation('common')(SidebarDashBoard)\nexport default withRouter(HighOrderComponentTranslated);"]},"metadata":{},"sourceType":"module"}