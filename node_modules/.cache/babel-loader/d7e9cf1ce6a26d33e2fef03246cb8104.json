{"ast":null,"code":"import React from'react';import RowItem from'./RowItem';import{Paging}from'../../../../../components/Paging';import AddPopup from'./AddPopup';import DeletePopup from'./DeletePopup';import{RCheckbox}from'../../../../../components/Controls';import CMSDatePicker from'../../../../../components/CMSDatePicker/CMSDatePicker';import Libs from'../../../../../utils/Libs';import'./Activities.scss';import MenuPrivateProject from'../../../../common/MenuPrivateProject/MenuPrivateProject';import DeleteAllPopup from'./DeleteAllPopup';import Auth from'../../../../../utils/Auth';import Constants from'../../../../../utils/Constants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Activities(){var _this=this;var t=this.props.t;var _this$state=this.state,curItem=_this$state.curItem,dataList=_this$state.dataList,allLanguage=_this$state.allLanguage,searchParam=_this$state.searchParam,dataErrorLevel=_this$state.dataErrorLevel,dataStatus=_this$state.dataStatus,dataErrorType=_this$state.dataErrorType;var RowItems=null;RowItems=dataList.map(function(item,index){return/*#__PURE__*/_jsx(RowItem,{index:index,dataItem:item,onItemClick:_this.onItemClick,onItemClickDelete:_this.onItemClickDelete,actions:_this.actions,handleCheckItemInputChange:_this.handleCheckItemInputChange,t:t},'row_item_'+index);});var AddPopupLayout=this.state.add?/*#__PURE__*/_jsx(AddPopup,{t:t,allLanguage:allLanguage,curItem:curItem,onClickCloseAdd:this.onClickCloseAdd,auth:this.props.auth,actions:this.actions,iso_code_language:this.employee.lang,dataErrorLevel:dataErrorLevel,dataStatus:dataStatus,dataErrorType:dataErrorType}):'';var DeletePopupLayout=this.state.delete?/*#__PURE__*/_jsx(DeletePopup,{t:t,curItem:curItem,onClickCloseDelete:this.onClickCloseDelete,auth:this.props.auth,actions:this.actions}):'';var DeleteAllPopupLayout=this.state.deleteAll?/*#__PURE__*/_jsx(DeleteAllPopup,{t:t,curItem:curItem,onClickCloseDeleteAll:this.onClickCloseDeleteAll,auth:this.props.auth,actions:this.actions,dataList:dataList}):'';var checkedFilter=Libs.find(dataList,'is_checked',1);return/*#__PURE__*/_jsxs(\"div\",{className:\"activities\",children:[/*#__PURE__*/_jsx(MenuPrivateProject,{hash_id:this.state.hash_id},Math.random()),AddPopupLayout,DeletePopupLayout,DeleteAllPopupLayout,/*#__PURE__*/_jsx(\"div\",{className:\"page-breadcrumb\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(\"h2\",{children:t('activities.title')})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"div\",{onClick:this.downloadData.bind(this),className:\"btn-download\",children:/*#__PURE__*/_jsx(\"span\",{className:\"icon-download\"})})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"search\",onClick:this.onSearch.bind(this),children:/*#__PURE__*/_jsx(\"span\",{className:\"icon icon-search\"})})}),!Libs.isObjectEmpty(checkedFilter)&&Auth.getPermisson(this.actions,Constants.AUTH_MODE.DEL)?/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"div\",{\"data-tip\":t('common.delete_all'),\"data-type\":\"warning\",\"data-class\":\"tooltip-action\",className:\"search\",onClick:this.onItemClickDeleteAll.bind(this),children:/*#__PURE__*/_jsx(\"span\",{className:\"icon-trash-o\"})})}):\"\"]})})]})}),this.state.formSearch?/*#__PURE__*/_jsx(\"div\",{className:\"form-search\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-10\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-xl-3 col-lg-3 col-md-3 col-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(CMSDatePicker,{label:t('common.date_from'),value:searchParam.date_from,inputId:\"date_from\",format:\"DD/MM/YYYY\",dateFormat:\"dd/MM/yyyy\",inputClass:\"form-control\",inputName:\"date_from\",minDate:searchParam.min_date,handleChange:this.handleInputDateChange.bind(this),maxLength:20,showIconCalendar:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(CMSDatePicker,{label:t('common.date_to'),value:searchParam.date_to,inputId:\"date_to\",format:\"DD/MM/YYYY\",dateFormat:\"dd/MM/yyyy\",inputClass:\"form-control\",inputName:\"date_to\",minDate:searchParam.min_date,handleChange:this.handleInputDateChange.bind(this),maxLength:20,showIconCalendar:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(RCheckbox,{inputId:\"is_follow\",inputName:\"is_follow\",labelClass:\"no-label\",checked:searchParam.is_follow,label:\"Follow Alert\",onChange:function onChange(e){_this.handleInputDateChange(e);}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-xl-3 col-lg-3 col-md-3 col-6\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Type\"}),/*#__PURE__*/_jsx(\"ul\",{children:Libs.isArrayData(dataErrorType)?dataErrorType.map(function(item,index){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(RCheckbox,{inputId:\"id_error_type_\"+index,inputName:\"id_error_type\",labelClass:\"no-label\",checked:item.is_checked,label:item.label,onChange:function onChange(e){_this.handleCheckTypeInputChange(e,index);}})},index);}):\"\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-xl-3 col-lg-3 col-md-3 col-6\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Level\"}),/*#__PURE__*/_jsx(\"ul\",{children:Libs.isArrayData(dataErrorLevel)?dataErrorLevel.map(function(item,index){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(RCheckbox,{inputId:\"id_error_level_\"+index,inputName:\"id_error_level\",labelClass:\"no-label\",checked:item.is_checked,label:item.label,onChange:function onChange(e){_this.handleCheckLevelInputChange(e,index);}})},index);}):\"\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-xl-3 col-lg-3 col-md-3 col-6\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"ul\",{children:Libs.isArrayData(dataStatus)?dataStatus.map(function(item,index){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(RCheckbox,{inputId:\"status_\"+index,inputName:\"status\",labelClass:\"no-label\",checked:item.is_checked,label:item.label,onChange:function onChange(e){_this.handleCheckStatusInputChange(e,index);}})},index);}):\"\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-search\",onClick:this.handleSearch.bind(this),children:[\" \",t('common.search'),\" \"]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-reset\",onClick:this.onResetSearch.bind(this),children:[\" \",t('common.reset'),\" \"]})]})})]})}):\"\",/*#__PURE__*/_jsxs(\"div\",{className:\"data-view\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"main-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"header-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header-col width5\"}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(e){return _this.onSort(e,'id');},className:searchParam.sort_column===\"id\"?\"header-col width10 sorting \"+searchParam.order_by:\"header-col width10 sorting\",children:/*#__PURE__*/_jsx(\"p\",{children:\"ID\"})}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(e){return _this.onSort(e,'id_error_type');},className:searchParam.sort_column===\"id_error_type\"?\"header-col width10 sorting \"+searchParam.order_by:\"header-col width10 sorting\",children:/*#__PURE__*/_jsx(\"p\",{children:t('activities.alert_type')})}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(e){return _this.onSort(e,'id_error_level');},className:searchParam.sort_column===\"id_error_level\"?\"header-col width10 sorting \"+searchParam.order_by:\"header-col width10 sorting\",children:/*#__PURE__*/_jsx(\"p\",{children:t('activities.level')})}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(e){return _this.onSort(e,'message');},className:searchParam.sort_column===\"message\"?\"header-col width25 sorting \"+searchParam.order_by:\"header-col width25 sorting\",children:/*#__PURE__*/_jsx(\"p\",{children:t('activities.issus')})}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(e){return _this.onSort(e,'status');},className:searchParam.sort_column===\"status\"?\"header-col width10 sorting \"+searchParam.order_by:\"header-col width10 sorting\",children:/*#__PURE__*/_jsx(\"p\",{children:t('activities.status')})}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(e){return _this.onSort(e,'start_date_format');},className:searchParam.sort_column===\"start_date_format\"?\"header-col width10 sorting \"+searchParam.order_by:\"header-col width10 sorting\",children:/*#__PURE__*/_jsx(\"p\",{children:t('activities.opened')})}),/*#__PURE__*/_jsx(\"div\",{className:\"header-col width10\",children:/*#__PURE__*/_jsx(\"p\",{children:t('activities.open_period')})}),/*#__PURE__*/_jsx(\"div\",{className:\"header-col width5 text-end\",children:/*#__PURE__*/_jsx(\"strong\",{children:t('common.action')})}),/*#__PURE__*/_jsx(\"div\",{className:\"header-col width5 text-end\",children:/*#__PURE__*/_jsx(RCheckbox,{inputId:\"checked_all\",inputName:\"checked_all\",labelClass:\"no-label\",checked:this.state.checked_all,onChange:function onChange(e){_this.handleCheckAllInputChange(e);}})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"main-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"body\",children:!Libs.isBlank(RowItems)?RowItems:/*#__PURE__*/_jsx(\"div\",{className:\"data-empty\",children:t('common.data_empty')})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"main-paging\",children:/*#__PURE__*/_jsx(Paging,{total:parseInt(this.paging.total),current:this.paging.current,currentInput:this.paging.currentInput,inputChangedHandler:this.inputChangedHandler,inputChangedEnter:this.inputChangedEnter,inputChangedBlue:this.inputChangedBlue,onClickReload:function onClickReload(e){return _this.onClickReload.bind(_this);},onSelectPage:function onSelectPage(index){return _this.onSelectPage.bind(_this,index);}})})]});};","map":{"version":3,"sources":["/Volumes/Data/sources/solars/frontend/src/containers/views/desktop/ModulePrivate/Activities/Activities.jsx"],"names":["React","RowItem","Paging","AddPopup","DeletePopup","RCheckbox","CMSDatePicker","Libs","MenuPrivateProject","DeleteAllPopup","Auth","Constants","Activities","t","props","state","curItem","dataList","allLanguage","searchParam","dataErrorLevel","dataStatus","dataErrorType","RowItems","map","item","index","onItemClick","onItemClickDelete","actions","handleCheckItemInputChange","AddPopupLayout","add","onClickCloseAdd","auth","employee","lang","DeletePopupLayout","delete","onClickCloseDelete","DeleteAllPopupLayout","deleteAll","onClickCloseDeleteAll","checkedFilter","find","hash_id","Math","random","downloadData","bind","onSearch","isObjectEmpty","getPermisson","AUTH_MODE","DEL","onItemClickDeleteAll","formSearch","date_from","min_date","handleInputDateChange","date_to","is_follow","e","isArrayData","is_checked","label","handleCheckTypeInputChange","handleCheckLevelInputChange","handleCheckStatusInputChange","handleSearch","onResetSearch","onSort","sort_column","order_by","checked_all","handleCheckAllInputChange","isBlank","parseInt","paging","total","current","currentInput","inputChangedHandler","inputChangedEnter","inputChangedBlue","onClickReload","onSelectPage"],"mappings":"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","sourcesContent":["import React from 'react';\nimport RowItem from './RowItem';\nimport { Paging } from '../../../../../components/Paging';\nimport AddPopup from './AddPopup';\nimport DeletePopup from './DeletePopup';\nimport { RCheckbox } from '../../../../../components/Controls';\nimport CMSDatePicker from '../../../../../components/CMSDatePicker/CMSDatePicker';\n\nimport Libs from '../../../../../utils/Libs';\nimport './Activities.scss';\nimport MenuPrivateProject from '../../../../common/MenuPrivateProject/MenuPrivateProject';\nimport DeleteAllPopup from './DeleteAllPopup';\nimport Auth from '../../../../../utils/Auth';\nimport Constants from '../../../../../utils/Constants';\n\nexport default function Activities() {\n    const { t } = this.props;\n    var { curItem, dataList, allLanguage, searchParam, dataErrorLevel, dataStatus, dataErrorType } = this.state;\n    var RowItems = null;\n    RowItems = dataList.map((item, index) => {\n        return <RowItem\n            key={'row_item_' + index}\n            index={index}\n            dataItem={item}\n            onItemClick={this.onItemClick}\n            onItemClickDelete={this.onItemClickDelete}\n            actions={this.actions}\n            handleCheckItemInputChange={this.handleCheckItemInputChange}\n            t={t}\n        />\n    });\n    var AddPopupLayout = this.state.add\n        ? <AddPopup\n            t={t}\n            allLanguage={allLanguage}\n            curItem={curItem}\n            onClickCloseAdd={this.onClickCloseAdd}\n            auth={this.props.auth}\n            actions={this.actions}\n            iso_code_language={this.employee.lang}\n            dataErrorLevel={dataErrorLevel}\n            dataStatus={dataStatus}\n            dataErrorType={dataErrorType}\n        /> : '';\n\n    var DeletePopupLayout = this.state.delete\n        ? <DeletePopup\n            t={t}\n            curItem={curItem}\n            onClickCloseDelete={this.onClickCloseDelete}\n            auth={this.props.auth}\n            actions={this.actions}\n        /> : '';\n\n\n    var DeleteAllPopupLayout = this.state.deleteAll\n        ? <DeleteAllPopup\n            t={t}\n            curItem={curItem}\n            onClickCloseDeleteAll={this.onClickCloseDeleteAll}\n            auth={this.props.auth}\n            actions={this.actions}\n            dataList={dataList}\n        /> : '';\n\n    var checkedFilter = Libs.find(dataList, 'is_checked', 1);\n\n    return (\n        <div className=\"activities\">\n            <MenuPrivateProject hash_id={this.state.hash_id} key={Math.random()} />\n            {AddPopupLayout}\n            {DeletePopupLayout}\n            {DeleteAllPopupLayout}\n            <div className=\"page-breadcrumb\">\n                <div className=\"row\">\n                    <div className=\"col-md-6\"><h2>{t('activities.title')}</h2>\n                    </div>\n                    <div className=\"col-md-6\">\n\n                        <ul>\n                            <li><div onClick={this.downloadData.bind(this)} className=\"btn-download\"><span className=\"icon-download\"></span></div></li>\n                            <li><div className=\"search\" onClick={this.onSearch.bind(this)}><span className=\"icon icon-search\"></span></div></li>\n                            {!Libs.isObjectEmpty(checkedFilter) && Auth.getPermisson(this.actions, Constants.AUTH_MODE.DEL) ?\n                                <li>\n                                    <div data-tip={t('common.delete_all')} data-type=\"warning\" data-class=\"tooltip-action\" className=\"search\" onClick={this.onItemClickDeleteAll.bind(this)}><span className=\"icon-trash-o\"></span></div></li>\n                                : \"\"}\n                        </ul>\n                    </div>\n                </div>\n            </div>\n\n            {this.state.formSearch ?\n                <div className=\"form-search\">\n                    <div className=\"row\">\n                        <div className=\"col-md-10\">\n                            <div className=\"row\">\n                                <div className=\"col-xl-3 col-lg-3 col-md-3 col-6\">\n                                    <div className=\"mb-3\">\n                                        <CMSDatePicker\n                                            label={t('common.date_from')}\n                                            value={searchParam.date_from}\n                                            inputId=\"date_from\"\n                                            format=\"DD/MM/YYYY\"\n                                            dateFormat=\"dd/MM/yyyy\"\n                                            inputClass=\"form-control\"\n                                            inputName=\"date_from\"\n                                            minDate={searchParam.min_date}\n                                            handleChange={this.handleInputDateChange.bind(this)}\n                                            maxLength={20}\n                                            showIconCalendar={true}\n                                        />\n                                    </div>\n                                    <div className=\"mb-3\">\n                                        <CMSDatePicker\n                                            label={t('common.date_to')}\n                                            value={searchParam.date_to}\n                                            inputId=\"date_to\"\n                                            format=\"DD/MM/YYYY\"\n                                            dateFormat=\"dd/MM/yyyy\"\n                                            inputClass=\"form-control\"\n                                            inputName=\"date_to\"\n                                            minDate={searchParam.min_date}\n                                            handleChange={this.handleInputDateChange.bind(this)}\n                                            maxLength={20}\n                                            showIconCalendar={true}\n                                        />\n                                    </div>\n\n                                    <div className=\"mb-3\">\n                                        <RCheckbox\n                                            inputId={\"is_follow\"}\n                                            inputName=\"is_follow\"\n                                            labelClass=\"no-label\"\n                                            checked={searchParam.is_follow}\n                                            label={\"Follow Alert\"}\n                                            onChange={(e) => { this.handleInputDateChange(e); }}\n                                        />\n                                    </div>\n\n\n\n                                </div>\n\n\n                                <div className=\"col-xl-3 col-lg-3 col-md-3 col-6\">\n                                    <h2>Type</h2>\n                                    <ul>\n                                        {Libs.isArrayData(dataErrorType) ?\n                                            dataErrorType.map((item, index) => {\n                                                return (\n                                                    <li key={index}>\n                                                        <RCheckbox\n                                                            inputId={\"id_error_type_\" + index}\n                                                            inputName=\"id_error_type\"\n                                                            labelClass=\"no-label\"\n                                                            checked={item.is_checked}\n                                                            label={item.label}\n                                                            onChange={(e) => { this.handleCheckTypeInputChange(e, index); }}\n                                                        />\n                                                    </li>\n                                                )\n                                            })\n                                            : \"\"}\n                                    </ul>\n                                </div>\n\n\n                                <div className=\"col-xl-3 col-lg-3 col-md-3 col-6\">\n                                    <h2>Level</h2>\n                                    <ul>\n                                        {Libs.isArrayData(dataErrorLevel) ?\n                                            dataErrorLevel.map((item, index) => {\n                                                return (\n                                                    <li key={index}>\n                                                        <RCheckbox\n                                                            inputId={\"id_error_level_\" + index}\n                                                            inputName=\"id_error_level\"\n                                                            labelClass=\"no-label\"\n                                                            checked={item.is_checked}\n                                                            label={item.label}\n                                                            onChange={(e) => { this.handleCheckLevelInputChange(e, index); }}\n                                                        />\n                                                    </li>\n                                                )\n                                            })\n                                            : \"\"}\n                                    </ul>\n                                </div>\n\n                                <div className=\"col-xl-3 col-lg-3 col-md-3 col-6\">\n                                    <h2>Status</h2>\n                                    <ul>\n                                        {Libs.isArrayData(dataStatus) ?\n                                            dataStatus.map((item, index) => {\n                                                return (\n                                                    <li key={index}>\n                                                        <RCheckbox\n                                                            inputId={\"status_\" + index}\n                                                            inputName=\"status\"\n                                                            labelClass=\"no-label\"\n                                                            checked={item.is_checked}\n                                                            label={item.label}\n                                                            onChange={(e) => { this.handleCheckStatusInputChange(e, index); }}\n                                                        />\n                                                    </li>\n                                                )\n                                            })\n                                            : \"\"}\n                                    </ul>\n                                </div>\n\n\n\n\n\n                            </div>\n                        </div>\n                        <div className=\"col-md-2\">\n                            <div className=\"mb-3\">\n                                <button type=\"button\" className=\"btn btn-search\" onClick={this.handleSearch.bind(this)}> {t('common.search')} </button>\n                                <button type=\"button\" className=\"btn btn-reset\" onClick={this.onResetSearch.bind(this)}> {t('common.reset')} </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                : \"\"}\n\n            <div className=\"data-view\">\n                <div className=\"main-header\">\n                    <div className=\"header-row\">\n                        <div className=\"header-col width5\"></div>\n                        <div onClick={e => this.onSort(e, 'id')} className={searchParam.sort_column === \"id\" ? \"header-col width10 sorting \" + searchParam.order_by : \"header-col width10 sorting\"}><p>ID</p></div>\n\n                        <div onClick={e => this.onSort(e, 'id_error_type')} className={searchParam.sort_column === \"id_error_type\" ? \"header-col width10 sorting \" + searchParam.order_by : \"header-col width10 sorting\"}><p>{t('activities.alert_type')}</p></div>\n                        <div onClick={e => this.onSort(e, 'id_error_level')} className={searchParam.sort_column === \"id_error_level\" ? \"header-col width10 sorting \" + searchParam.order_by : \"header-col width10 sorting\"}><p>{t('activities.level')}</p></div>\n                        <div onClick={e => this.onSort(e, 'message')} className={searchParam.sort_column === \"message\" ? \"header-col width25 sorting \" + searchParam.order_by : \"header-col width25 sorting\"}><p>{t('activities.issus')}</p></div>\n                        <div onClick={e => this.onSort(e, 'status')} className={searchParam.sort_column === \"status\" ? \"header-col width10 sorting \" + searchParam.order_by : \"header-col width10 sorting\"}><p>{t('activities.status')}</p></div>\n                        <div onClick={e => this.onSort(e, 'start_date_format')} className={searchParam.sort_column === \"start_date_format\" ? \"header-col width10 sorting \" + searchParam.order_by : \"header-col width10 sorting\"}><p>{t('activities.opened')}</p></div>\n                        <div className=\"header-col width10\"><p>{t('activities.open_period')}</p></div>\n                        <div className=\"header-col width5 text-end\"><strong>{t('common.action')}</strong></div>\n                        <div className=\"header-col width5 text-end\">\n                            <RCheckbox\n                                inputId=\"checked_all\"\n                                inputName=\"checked_all\"\n                                labelClass=\"no-label\"\n                                checked={this.state.checked_all}\n                                onChange={(e) => { this.handleCheckAllInputChange(e); }}\n                            />\n                        </div>\n                    </div>\n                </div>\n                <div className=\"main-body\">\n                    <div className=\"body\">\n                        {!Libs.isBlank(RowItems) ? RowItems : <div className=\"data-empty\">{t('common.data_empty')}</div>}\n                    </div>\n                </div>\n            </div>\n\n            <div className=\"main-paging\">\n                <Paging\n                    total={parseInt(this.paging.total)}\n                    current={(this.paging.current)}\n                    currentInput={this.paging.currentInput}\n                    inputChangedHandler={this.inputChangedHandler}\n                    inputChangedEnter={this.inputChangedEnter}\n                    inputChangedBlue={this.inputChangedBlue}\n                    onClickReload={(e) => this.onClickReload.bind(this)}\n                    onSelectPage={(index) => this.onSelectPage.bind(this, index)}>\n                </Paging>\n            </div>\n        </div>\n    );\n};"]},"metadata":{},"sourceType":"module"}