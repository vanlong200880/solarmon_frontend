{"ast":null,"code":"import React from'react';import{RText,RCheckbox,RSwitch}from'../../../../../components/Controls';import Modal from'react-bootstrap4-modal';import CMSDatePicker from'../../../../../components/CMSDatePicker/CMSDatePicker';import Libs from'../../../../../utils/Libs';import Constants from'../../../../../utils/Constants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function AddPopup(){var _this=this;var _this$state=this.state,curItem=_this$state.curItem,dataRegency=_this$state.dataRegency,dataRoles=_this$state.dataRoles;var t=this.props.t;var RowRoles=null;if(Libs.isArrayData(dataRoles)){RowRoles=dataRoles.map(function(item,index){return/*#__PURE__*/_jsx(\"li\",{className:\"col-xl-4 col-lg-4 col-md-4 col-6\",children:/*#__PURE__*/_jsx(RCheckbox,{inputId:\"role_\"+item.id,inputName:\"role\",labelClass:\"no-label\",checked:item.is_checked,onChange:function onChange(e){_this.handleRoleInputChange(e,index);},label:item.label})},index);});}return/*#__PURE__*/_jsxs(Modal,{visible:true,className:\"modal-add\",dialogClassName:\"modal-lg modal-dialog-scrollable\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",children:curItem.screen_mode===Constants.SCREEN_MODE.EDIT?t('employee.edit_title'):t('employee.add_title')}),/*#__PURE__*/_jsx(\"span\",{className:\"close\",onClick:this.props.onClickCloseAdd.bind(this,false),children:/*#__PURE__*/_jsx(\"var\",{className:\"icon-cancel-music\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"box-info\",children:[/*#__PURE__*/_jsx(\"h2\",{children:t('common.info')}),/*#__PURE__*/_jsx(\"div\",{className:\"box-info-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-12 col-lg-12 col-md-12vcol-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"control-label\",children:t('employee.status')}),/*#__PURE__*/_jsx(\"div\",{className:\"checkmark\",children:/*#__PURE__*/_jsx(RSwitch,{inputId:\"status\",inputName:\"status\",checked:curItem.status,onChange:function onChange(e){_this.handleInputChange(e);}})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-6 col-lg-6 col-md-6 col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(RText,{label:t('employee.first_name'),inputClass:\"form-control\",required:\"required\",inputId:\"first_name\",inputName:\"first_name\",value:curItem.first_name,onChange:function onChange(e){_this.handleInputChange(e);_this.validateOne(e);},maxLength:100})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-6 col-lg-6 col-md-6 col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(RText,{label:t('employee.last_name'),inputClass:\"form-control\",required:\"required\",inputId:\"last_name\",inputName:\"last_name\",value:curItem.last_name,onChange:function onChange(e){_this.handleInputChange(e);_this.validateOne(e);},maxLength:100})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-6 col-lg-6 col-md-6 col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(RText,{label:t('employee.phone'),inputClass:\"form-control\",required:\"required\",inputId:\"phone\",inputName:\"phone\",value:curItem.phone,onChange:function onChange(e){_this.handleInputChange(e);_this.validateOne(e);},pattern:\"^[0-9-+()._ ]*$\",maxLength:20})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-6 col-lg-6 col-md-6 col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(CMSDatePicker,{label:t('employee.birthday'),value:curItem.birthday,inputId:\"birthday\",format:\"DD/MM/YYYY\",dateFormat:\"dd/MM/yyyy\",inputClass:\"form-control\",inputName:\"birthday\",minDate:curItem.min_date,handleChange:this.handleInputDateChange.bind(this),maxLength:20,showIconCalendar:true})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xs-12 col-sm-12 col-md-12 col-lg-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"file-upload\",children:[/*#__PURE__*/_jsx(\"label\",{children:t('employee.avatar')}),/*#__PURE__*/_jsx(\"ul\",{className:\"row\",children:/*#__PURE__*/_jsx(\"li\",{className:\"col-md-12 col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"item-add-file-upload\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(event){return _this.onFileAvatarChange(event);},type:\"file\",id:\"file_upload\",name:\"file_upload\"}),!curItem.avatar_upload?/*#__PURE__*/_jsx(\"div\",{className:\"add-file-upload\",children:/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"file_upload\",className:\"file-upload\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"icon-picture-o\"}),\" \",/*#__PURE__*/_jsx(\"span\",{children:t('common.upload_image')})]})}):\"\",!Libs.isBlank(curItem.file_upload)?/*#__PURE__*/_jsxs(\"div\",{className:\"view-file-upload\",children:[/*#__PURE__*/_jsx(\"img\",{alt:\"Upload\",src:curItem.file_upload}),/*#__PURE__*/_jsx(\"div\",{className:\"file-upload-action\",children:/*#__PURE__*/_jsx(\"label\",{className:\"edit\",htmlFor:\"file_upload\",children:/*#__PURE__*/_jsx(\"var\",{className:\"icon-pencil-square-o\"})})})]}):!Libs.isBlank(curItem.avatar_full)?/*#__PURE__*/_jsxs(\"div\",{className:\"view-file-upload\",children:[/*#__PURE__*/_jsx(\"img\",{alt:\"Upload\",src:Constants.SERVER_DATA+\"/\"+curItem.avatar_full}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-upload-action\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"edit\",htmlFor:\"file_upload\",children:/*#__PURE__*/_jsx(\"var\",{className:\"icon-pencil-square-o\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"delete\",onClick:function onClick(e){return _this.onClickDeleteAvatar(e);},children:/*#__PURE__*/_jsx(\"var\",{className:\"icon-trash-o\"})})]})]}):\"\"]})})}),!Libs.isBlank(curItem.file_message)?/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:curItem.file_message}):'']})})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"box-info\",children:[/*#__PURE__*/_jsx(\"h2\",{children:t('employee.account_info')}),/*#__PURE__*/_jsx(\"div\",{className:\"box-info-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-12 col-lg-12 col-md-12 col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-6 col-lg-6 col-md-6 col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(RText,{label:t('employee.email'),inputClass:\"form-control\",required:\"required\",inputId:\"email\",inputName:\"email\",value:curItem.email,disabled:curItem.screen_mode===Constants.SCREEN_MODE.EDIT?true:false,onChange:function onChange(e){_this.handleInputChange(e);_this.validateOne(e);},maxLength:200})})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-12 col-lg-12 col-md-12 col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-6 col-lg-6 col-md-6 col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"group-password\",children:[/*#__PURE__*/_jsx(RText,{label:t('employee.password'),inputClass:\"form-control\",required:\"required\",inputId:\"password\",inputName:\"password\",value:curItem.password,onChange:function onChange(e){_this.handleInputChange(e);_this.validateOne(e);},maxLength:60}),/*#__PURE__*/_jsxs(\"span\",{onClick:this.generatePassword.bind(this),className:\"generate-pass\",children:[\" \",t('employee.random')]})]})})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-12 col-lg-12 col-md-12 col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-6 col-lg-6 col-md-6 col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"group-password\",children:/*#__PURE__*/_jsx(RText,{label:t('employee.re_password'),inputClass:\"form-control\",required:\"required\",inputId:\"password_confirm\",inputName:\"password_confirm\",value:curItem.password_confirm,onChange:function onChange(e){_this.handleInputChange(e);_this.validateOne(e);},maxLength:60})})})})})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:!Libs.isBlank(curItem.role_message)?\"box-info input-error-role\":\"box-info\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[t('employee.account_role_info'),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"box-info-content\",children:/*#__PURE__*/_jsx(\"div\",{className:\"list-role\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"row\",children:RowRoles})})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-cancel\",onClick:this.props.onClickCloseAdd.bind(this,false),children:t('common.cancel')}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-save\",onClick:this.onSave.bind(this),children:curItem.screen_mode===Constants.SCREEN_MODE.EDIT?t('common.update'):t('common.create')})]})]});}","map":{"version":3,"sources":["/Volumes/Data/sources/solars/frontend/src/containers/views/desktop/ModuleSystem/Employees/AddPopup.jsx"],"names":["React","RText","RCheckbox","RSwitch","Modal","CMSDatePicker","Libs","Constants","AddPopup","state","curItem","dataRegency","dataRoles","t","props","RowRoles","isArrayData","map","item","index","id","is_checked","e","handleRoleInputChange","label","screen_mode","SCREEN_MODE","EDIT","onClickCloseAdd","bind","status","handleInputChange","first_name","validateOne","last_name","phone","birthday","min_date","handleInputDateChange","event","onFileAvatarChange","avatar_upload","isBlank","file_upload","avatar_full","SERVER_DATA","onClickDeleteAvatar","file_message","email","password","generatePassword","password_confirm","role_message","onSave"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { RText, RCheckbox, RSwitch } from '../../../../../components/Controls';\nimport Modal from 'react-bootstrap4-modal';\nimport CMSDatePicker from '../../../../../components/CMSDatePicker/CMSDatePicker';\nimport Libs from '../../../../../utils/Libs';\nimport Constants from '../../../../../utils/Constants';\n\n\nexport default function AddPopup() {\n\n    var { curItem, dataRegency, dataRoles } = this.state;\n    const { t } = this.props;\n\n    var RowRoles = null;\n    if (Libs.isArrayData(dataRoles)) {\n        RowRoles = dataRoles.map((item, index) => {\n            return (\n                <li className=\"col-xl-4 col-lg-4 col-md-4 col-6\" key={index}>\n                    <RCheckbox\n                        inputId={\"role_\" + item.id}\n                        inputName=\"role\"\n                        labelClass=\"no-label\"\n                        checked={item.is_checked}\n                        onChange={(e) => { this.handleRoleInputChange(e, index); }}\n                        label={item.label}\n                    />\n                </li>\n            );\n        })\n    }\n\n\n\n\n    return (\n        <Modal visible={true} className=\"modal-add\" dialogClassName=\"modal-lg modal-dialog-scrollable\" >\n            <div className=\"modal-header\">\n                <h5 className=\"modal-title\">\n                    {(curItem.screen_mode === Constants.SCREEN_MODE.EDIT) ? t('employee.edit_title') : t('employee.add_title')}\n                </h5>\n                <span className=\"close\" onClick={this.props.onClickCloseAdd.bind(this, false)}><var className=\"icon-cancel-music\"></var></span>\n            </div>\n            <div className=\"modal-body\">\n\n                <div className=\"box-info\">\n                    <h2>{t('common.info')}</h2>\n                    <div className=\"box-info-content\">\n                        <div className=\"row\">\n\n                            <div className=\"col-xl-12 col-lg-12 col-md-12vcol-12\">\n                                <div className=\"mb-3\">\n                                    <p className=\"control-label\">{t('employee.status')}</p>\n                                    <div className=\"checkmark\">\n                                        <RSwitch\n                                            inputId=\"status\"\n                                            inputName=\"status\"\n                                            checked={curItem.status}\n                                            onChange={(e) => { this.handleInputChange(e) }}\n                                        />\n                                    </div>\n                                </div>\n\n                            </div>\n\n                            <div className=\"col-xl-6 col-lg-6 col-md-6 col-12\">\n                                <div className=\"mb-3\">\n                                    <RText label={t('employee.first_name')}\n                                        inputClass=\"form-control\"\n                                        required=\"required\"\n                                        inputId=\"first_name\"\n                                        inputName=\"first_name\"\n                                        value={curItem.first_name}\n                                        onChange={(e) => { this.handleInputChange(e); this.validateOne(e); }}\n                                        maxLength={100} />\n                                </div>\n                            </div>\n\n                            <div className=\"col-xl-6 col-lg-6 col-md-6 col-12\">\n                                <div className=\"mb-3\">\n                                    <RText label={t('employee.last_name')}\n                                        inputClass=\"form-control\"\n                                        required=\"required\"\n                                        inputId=\"last_name\"\n                                        inputName=\"last_name\"\n                                        value={curItem.last_name}\n                                        onChange={(e) => { this.handleInputChange(e); this.validateOne(e); }}\n                                        maxLength={100} />\n                                </div>\n                            </div>\n\n\n\n                            <div className=\"col-xl-6 col-lg-6 col-md-6 col-12\">\n                                <div className=\"mb-3\">\n                                    <RText label={t('employee.phone')}\n                                        inputClass=\"form-control\"\n                                        required=\"required\"\n                                        inputId=\"phone\"\n                                        inputName=\"phone\"\n                                        value={curItem.phone}\n                                        onChange={(e) => { this.handleInputChange(e); this.validateOne(e); }}\n                                        pattern=\"^[0-9-+()._ ]*$\"\n                                        maxLength={20} />\n                                </div>\n                            </div>\n\n                            <div className=\"col-xl-6 col-lg-6 col-md-6 col-12\">\n                                <div className=\"mb-3\">\n                                    <CMSDatePicker\n                                        label={t('employee.birthday')}\n                                        value={curItem.birthday}\n                                        inputId=\"birthday\"\n                                        format=\"DD/MM/YYYY\"\n                                        dateFormat=\"dd/MM/yyyy\"\n                                        inputClass=\"form-control\"\n                                        inputName=\"birthday\"\n                                        minDate={curItem.min_date}\n                                        handleChange={this.handleInputDateChange.bind(this)}\n                                        maxLength={20}\n                                        showIconCalendar={true}\n                                    />\n                                </div>\n                            </div>\n\n\n                            <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\n                                <div className=\"mb-3\">\n                                    <div className=\"file-upload\">\n                                        <label>{t('employee.avatar')}</label>\n                                        <ul className=\"row\">\n                                            <li className=\"col-md-12 col-12\">\n                                                <div className=\"item-add-file-upload\">\n                                                    <input onChange={(event) => this.onFileAvatarChange(event)} type=\"file\" id=\"file_upload\" name=\"file_upload\" />\n                                                    {!curItem.avatar_upload ?\n                                                        <div className=\"add-file-upload\">\n                                                            <label htmlFor=\"file_upload\" className=\"file-upload\">\n                                                                <i className=\"icon-picture-o\"></i> <span>{t('common.upload_image')}</span>\n                                                            </label>\n                                                        </div>\n                                                        : \"\"}\n\n                                                    {!Libs.isBlank(curItem.file_upload) ?\n                                                        <div className=\"view-file-upload\">\n                                                            <img alt=\"Upload\" src={curItem.file_upload} />\n                                                            <div className=\"file-upload-action\">\n                                                                <label className=\"edit\" htmlFor=\"file_upload\"><var className=\"icon-pencil-square-o\"></var></label>\n                                                            </div>\n                                                        </div>\n                                                        : (!Libs.isBlank(curItem.avatar_full) ?\n                                                            <div className=\"view-file-upload\">\n                                                                <img alt=\"Upload\" src={Constants.SERVER_DATA + \"/\"+ curItem.avatar_full} />\n                                                                <div className=\"file-upload-action\">\n                                                                    <label className=\"edit\" htmlFor=\"file_upload\"><var className=\"icon-pencil-square-o\"></var></label>\n                                                                    <span className=\"delete\" onClick={(e) => this.onClickDeleteAvatar(e)} ><var className=\"icon-trash-o\"></var></span>\n                                                                </div>\n                                                            </div>\n                                                            : \"\")}\n\n\n                                                </div>\n                                            </li>\n                                        </ul>\n                                        {!Libs.isBlank(curItem.file_message) ?\n                                            <div className=\"alert alert-danger\">\n                                                {curItem.file_message}\n                                            </div>\n                                            : ''}\n\n                                    </div>\n                                </div>\n                            </div>\n\n\n\n\n\n                        </div>\n                    </div>\n                </div>\n\n\n\n                <div className=\"box-info\">\n                    <h2>{t('employee.account_info')}</h2>\n                    <div className=\"box-info-content\">\n                        <div className=\"row\">\n                            <div className=\"col-xl-12 col-lg-12 col-md-12 col-12\">\n                                <div className=\"row\">\n                                    <div className=\"col-xl-6 col-lg-6 col-md-6 col-12\">\n                                        <div className=\"mb-3\">\n                                            <RText label={t('employee.email')}\n                                                inputClass=\"form-control\"\n                                                required=\"required\"\n                                                inputId=\"email\"\n                                                inputName=\"email\"\n                                                value={curItem.email}\n                                                disabled={curItem.screen_mode === Constants.SCREEN_MODE.EDIT ? true : false}\n                                                onChange={(e) => { this.handleInputChange(e); this.validateOne(e); }}\n                                                maxLength={200} />\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div className=\"col-xl-12 col-lg-12 col-md-12 col-12\">\n                                <div className=\"row\">\n                                    <div className=\"col-xl-6 col-lg-6 col-md-6 col-12\">\n                                        <div className=\"mb-3\">\n                                            <div className=\"group-password\">\n                                                <RText label={t('employee.password')}\n                                                    inputClass=\"form-control\"\n                                                    required=\"required\"\n                                                    inputId=\"password\"\n                                                    inputName=\"password\"\n                                                    value={curItem.password}\n                                                    onChange={(e) => { this.handleInputChange(e); this.validateOne(e); }}\n                                                    maxLength={60} />\n                                                <span onClick={this.generatePassword.bind(this)} className=\"generate-pass\"> {t('employee.random')}</span>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div className=\"col-xl-12 col-lg-12 col-md-12 col-12\">\n                                <div className=\"row\">\n                                    <div className=\"col-xl-6 col-lg-6 col-md-6 col-12\">\n                                        <div className=\"mb-3\">\n                                            <div className=\"group-password\">\n                                                <RText label={t('employee.re_password')}\n                                                    inputClass=\"form-control\"\n                                                    required=\"required\"\n                                                    inputId=\"password_confirm\"\n                                                    inputName=\"password_confirm\"\n                                                    value={curItem.password_confirm}\n                                                    onChange={(e) => { this.handleInputChange(e); this.validateOne(e); }}\n                                                    maxLength={60} />\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n\n\n\n\n\n\n\n                        </div>\n                    </div>\n                </div>\n\n\n                <div className={!Libs.isBlank(curItem.role_message) ? \"box-info input-error-role\" : \"box-info\"}>\n                    <h2>{t('employee.account_role_info')} <span className=\"required\">*</span></h2>\n                    <div className=\"box-info-content\">\n                        <div className=\"list-role\">\n                            <ul className=\"row\">\n                                {RowRoles}\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n\n            </div>\n            <div className=\"modal-footer\">\n                <button type=\"button\" className=\"btn btn-cancel\" onClick={this.props.onClickCloseAdd.bind(this, false)}>{t('common.cancel')}</button>\n                <button type=\"button\" className=\"btn btn-save\" onClick={this.onSave.bind(this)}>\n                    {(curItem.screen_mode === Constants.SCREEN_MODE.EDIT) ? t('common.update') : t('common.create')}\n                </button>\n            </div>\n        </Modal>\n\n    )\n}"]},"metadata":{},"sourceType":"module"}