{"ast":null,"code":"import _regeneratorRuntime from\"/Volumes/Data/sources/solars/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Volumes/Data/sources/solars/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Volumes/Data/sources/solars/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Volumes/Data/sources/solars/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Volumes/Data/sources/solars/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Volumes/Data/sources/solars/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import PVModelSettingJsx from'./PVModelSetting.jsx';import BaseComponent from'../../../../../BaseComponent';import Libs from'../../../../../../utils/Libs';import{withTranslation}from'react-i18next';import Constants from'../../../../../../utils/Constants';import ClientConfigService from'../../../../../../services/ClientConfigService';import{jsx as _jsx}from\"react/jsx-runtime\";var PVModelSetting=/*#__PURE__*/function(_BaseComponent){_inherits(PVModelSetting,_BaseComponent);var _super=_createSuper(PVModelSetting);function PVModelSetting(props,context){var _this;_classCallCheck(this,PVModelSetting);_this=_super.call(this,props,context);_this.state={curItem:{},itemDevice:_this.props.itemDevice};_this.jsxTemplate=PVModelSettingJsx;return _this;}_createClass(PVModelSetting,[{key:\"componentDidMount\",value:function componentDidMount(){this.getDeviceDetail();}},{key:\"getDeviceDetail\",value:function getDeviceDetail(){var self=this,itemDevice=this.props.itemDevice;var params={id:itemDevice.id,id_employee:this.employee.id_employee,id_language:this.employee.id_language};ClientConfigService.instance.getDeviceDetail(params,function(data){if(data){self.setState({curItem:data});}},false);}},{key:\"onSave\",value:function(){var _onSave=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var self,params;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:self=this;params=Object.assign({},this.state.curItem);params.screen_mode=Constants.SCREEN_MODE.EDIT;params.id_language=this.employee.id_language;ClientConfigService.instance.updateDevice(params,function(status,data,msg){if(status){self.toast(msg,\"info\");}else if(data){self.setValidateMessage(data);}else if(!Libs.isBlank(msg)){self.toast(msg,\"error\");}},true);case 5:case\"end\":return _context.stop();}}},_callee,this);}));function onSave(){return _onSave.apply(this,arguments);}return onSave;}()},{key:\"render\",value:function render(){var itemDevice=this.state.itemDevice;switch(parseInt(itemDevice.id_device_group)){case 18:// innvert \ncase 19:// innvert\ncase 20:// innvert\ncase 21:// 6 string \ncase 22:// innvert\ncase 28:// 12 string\ncase 29:// emeter\ncase 30:// emeter\nreturn this.jsxTemplate.call(this);default:return Libs.isObjectEmpty(itemDevice)?/*#__PURE__*/_jsx(\"div\",{className:\"data-empty\",children:\"Device is not selected \"}):/*#__PURE__*/_jsx(\"div\",{className:\"data-empty\",children:\"There is no configuration for this device\"});}}}]);return PVModelSetting;}(BaseComponent);var HighOrderComponentTranslated=withTranslation('common')(PVModelSetting);export default HighOrderComponentTranslated;","map":{"version":3,"sources":["/Volumes/Data/sources/solars/frontend/src/containers/views/desktop/ModuleProject/Config/PVModelSetting/PVModelSetting.js"],"names":["PVModelSettingJsx","BaseComponent","Libs","withTranslation","Constants","ClientConfigService","PVModelSetting","props","context","state","curItem","itemDevice","jsxTemplate","getDeviceDetail","self","params","id","id_employee","employee","id_language","instance","data","setState","Object","assign","screen_mode","SCREEN_MODE","EDIT","updateDevice","status","msg","toast","setValidateMessage","isBlank","parseInt","id_device_group","call","isObjectEmpty","HighOrderComponentTranslated"],"mappings":"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","sourcesContent":["import PVModelSettingJsx from './PVModelSetting.jsx';\nimport BaseComponent from '../../../../../BaseComponent';\nimport Libs from '../../../../../../utils/Libs';\nimport { withTranslation } from 'react-i18next';\nimport Constants from '../../../../../../utils/Constants';\nimport ClientConfigService from '../../../../../../services/ClientConfigService';\n\nclass PVModelSetting extends BaseComponent {\n\n    constructor(props, context) {\n        super(props, context);\n\n        this.state = {\n            curItem: {},\n            itemDevice: this.props.itemDevice\n\n        };\n\n        this.jsxTemplate = PVModelSettingJsx;\n    }\n\n    componentDidMount() {\n        this.getDeviceDetail();\n    }\n    getDeviceDetail() {\n        let self = this, itemDevice = this.props.itemDevice;\n        var params = {\n            id: itemDevice.id,\n            id_employee: this.employee.id_employee,\n            id_language: this.employee.id_language\n        };\n\n        ClientConfigService.instance.getDeviceDetail(params, data => {\n            if (data) {\n                self.setState({\n                    curItem: data\n                });\n            }\n        }, false);\n\n    }\n\n\n    async onSave() {\n        var self = this;\n        var params = Object.assign({}, this.state.curItem);\n        params.screen_mode = Constants.SCREEN_MODE.EDIT ;\n        params.id_language = this.employee.id_language;\n\n        ClientConfigService.instance.updateDevice(params, function (status, data, msg) {\n            if (status) {\n                self.toast(msg, \"info\");\n            }\n            else if (data) {\n                self.setValidateMessage(data);\n            }\n\n            else if (!Libs.isBlank(msg)) {\n                self.toast(msg, \"error\");\n            }\n        }, true);\n    }\n\n    render() {\n        var { itemDevice } = this.state;\n        switch (parseInt(itemDevice.id_device_group)) {\n            case 18: // innvert \n            case 19: // innvert\n            case 20: // innvert\n            case 21: // 6 string \n            case 22: // innvert\n            case 28: // 12 string\n            case 29: // emeter\n            case 30: // emeter\n                return this.jsxTemplate.call(this);\n            default:\n                return Libs.isObjectEmpty(itemDevice) ? <div className=\"data-empty\">Device is not selected </div> : <div className=\"data-empty\">There is no configuration for this device</div>;\n        }\n    }\n}\n\nconst HighOrderComponentTranslated = withTranslation('common')(PVModelSetting)\nexport default HighOrderComponentTranslated;"]},"metadata":{},"sourceType":"module"}