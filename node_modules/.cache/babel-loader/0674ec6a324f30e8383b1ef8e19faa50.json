{"ast":null,"code":"import CMSHttp from '../utils/CMSHttp';\nimport Constants from '../utils/Constants';\nexport default class AnalyticsService {\n  static get instance() {\n    if (!this._instance) {\n      this._instance = new AnalyticsService();\n    }\n\n    return this._instance;\n  }\n  /**\n   * API get chart inverter performance\n   * @author long.pham 2020-11-02\n   * @param {function(data)} callBack\n   * @param {int} id_site \n   * @return Object\n   */\n\n\n  getDataReportMonth(objE, callBack) {\n    try {\n      var http = new CMSHttp(true);\n      http.post(Constants.URL.REPORT.MOTNH, objE, function (status, rs) {\n        if (typeof callBack === 'function') {\n          if (!status || !rs) {\n            //error http => lib http  proccess\n            return;\n          }\n\n          var data = {};\n\n          if (rs.status && typeof rs.data === 'object') {\n            data = rs.data;\n          }\n\n          callBack(data);\n        }\n      });\n    } catch (error) {\n      callBack({});\n    }\n  }\n  /**\n   * API get chart inverter performance\n   * @author long.pham 2020-11-02\n   * @param {function(data)} callBack\n   * @param {int} id_site \n   * @return Object\n   */\n\n\n  getDataReportYear(objE, callBack) {\n    try {\n      var http = new CMSHttp(true);\n      http.post(Constants.URL.REPORT.YEAR, objE, function (status, rs) {\n        if (typeof callBack === 'function') {\n          if (!status || !rs) {\n            //error http => lib http  proccess\n            return;\n          }\n\n          var data = {};\n\n          if (rs.status && typeof rs.data === 'object') {\n            data = rs.data;\n          }\n\n          callBack(data);\n        }\n      });\n    } catch (error) {\n      callBack({});\n    }\n  }\n  /**\n       * @author long.pham 2018-07-27\n       * @param  {RoleEntity} objE\n       * @param  {function(data,total_row,msg)} callBack\n       * @param  {Boolean} isShowProgress\n       */\n  // getListDeviceByProject(objE, callBack) {\n  //     try {\n  //         var http = new CMSHttp(true);\n  //         http.post(Constants.URL.ANALYTICS.LIST_DEVICE, objE, function (status, rs) {\n  //             if (typeof callBack === 'function') {\n  //                 if (!status || !rs) {\n  //                     //lỗi do http nên không làm gì vì đã có http thư viện xử lý\n  //                     return;\n  //                 }\n  //                 var data = [];\n  //                 var total_row = 0;\n  //                 if (rs.status && Array.isArray(rs.data)) {\n  //                     data = rs.data;\n  //                     total_row = rs.total_row;\n  //                 }\n  //                 callBack(data, total_row, \"\");\n  //             }\n  //         });\n  //     } catch (error) {\n  //         var msg = error;\n  //         callBack(false, 0, msg);\n  //     }\n  // }\n\n  /**\n       * @author long.pham 2018-07-27\n       * @param  {RoleEntity} objE\n       * @param  {function(data,total_row,msg)} callBack\n       * @param  {Boolean} isShowProgress\n       */\n  // getChartByListDevice(objE, callBack) {\n  //     try {\n  //         var http = new CMSHttp(true);\n  //         http.post(Constants.URL.ANALYTICS.CHART_PARAMETER_DEVICE, objE, function (status, rs) {\n  //             if (typeof callBack === 'function') {\n  //                 if (!status || !rs) {\n  //                     //lỗi do http nên không làm gì vì đã có http thư viện xử lý\n  //                     return;\n  //                 }\n  //                 var data = [];\n  //                 var total_row = 0;\n  //                 if (rs.status && Array.isArray(rs.data)) {\n  //                     data = rs.data;\n  //                     total_row = rs.total_row;\n  //                 }\n  //                 callBack(data, total_row, \"\");\n  //             }\n  //         });\n  //     } catch (error) {\n  //         var msg = error;\n  //         callBack(false, 0, msg);\n  //     }\n  // }\n\n  /**\n   * API get chart mini site inverter performance\n   * @author long.pham 2020-11-02\n   * @param {function(data)} callBack\n   * @param {int} id_site \n   * @return Object\n   */\n  // getChartAlarm(objE, callBack) {\n  //     try {\n  //         var http = new CMSHttp(true);\n  //         http.post(Constants.URL.ANALYTICS.CHART_ALARM, objE, function (status, rs) {\n  //             if (typeof callBack === 'function') {\n  //                 if (!status || !rs) {\n  //                     //error http => lib http  proccess\n  //                     return;\n  //                 }\n  //                 var data = {};\n  //                 if (rs.status && typeof rs.data === 'object') {\n  //                     data = rs.data;\n  //                 }\n  //                 callBack(data);\n  //             }\n  //         })\n  //     } catch (error) {\n  //         callBack({});\n  //     }\n  // }\n\n\n}","map":{"version":3,"sources":["/Volumes/Data/sources/solars/frontend/src/services/ReportService.js"],"names":["CMSHttp","Constants","AnalyticsService","instance","_instance","getDataReportMonth","objE","callBack","http","post","URL","REPORT","MOTNH","status","rs","data","error","getDataReportYear","YEAR"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,kBAApB;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AAEA,eAAe,MAAMC,gBAAN,CAAuB;AAEf,aAARC,QAAQ,GAAG;AAClB,QAAI,CAAC,KAAKC,SAAV,EAAqB;AACjB,WAAKA,SAAL,GAAiB,IAAIF,gBAAJ,EAAjB;AACH;;AACD,WAAO,KAAKE,SAAZ;AACH;AAED;AACJ;AACA;AACA;AACA;AACA;AACA;;;AACKC,EAAAA,kBAAkB,CAACC,IAAD,EAAOC,QAAP,EAAiB;AAChC,QAAI;AACA,UAAIC,IAAI,GAAG,IAAIR,OAAJ,CAAY,IAAZ,CAAX;AACAQ,MAAAA,IAAI,CAACC,IAAL,CAAUR,SAAS,CAACS,GAAV,CAAcC,MAAd,CAAqBC,KAA/B,EAAsCN,IAAtC,EAA4C,UAAUO,MAAV,EAAkBC,EAAlB,EAAsB;AAC9D,YAAI,OAAOP,QAAP,KAAoB,UAAxB,EAAoC;AAChC,cAAI,CAACM,MAAD,IAAW,CAACC,EAAhB,EAAoB;AAChB;AACA;AACH;;AACD,cAAIC,IAAI,GAAG,EAAX;;AACA,cAAID,EAAE,CAACD,MAAH,IAAa,OAAOC,EAAE,CAACC,IAAV,KAAmB,QAApC,EAA8C;AAC1CA,YAAAA,IAAI,GAAGD,EAAE,CAACC,IAAV;AACH;;AACDR,UAAAA,QAAQ,CAACQ,IAAD,CAAR;AACH;AACJ,OAZD;AAaH,KAfD,CAeE,OAAOC,KAAP,EAAc;AACZT,MAAAA,QAAQ,CAAC,EAAD,CAAR;AACH;AACJ;AAGD;AACJ;AACA;AACA;AACA;AACA;AACA;;;AACKU,EAAAA,iBAAiB,CAACX,IAAD,EAAOC,QAAP,EAAiB;AAC/B,QAAI;AACA,UAAIC,IAAI,GAAG,IAAIR,OAAJ,CAAY,IAAZ,CAAX;AACAQ,MAAAA,IAAI,CAACC,IAAL,CAAUR,SAAS,CAACS,GAAV,CAAcC,MAAd,CAAqBO,IAA/B,EAAqCZ,IAArC,EAA2C,UAAUO,MAAV,EAAkBC,EAAlB,EAAsB;AAC7D,YAAI,OAAOP,QAAP,KAAoB,UAAxB,EAAoC;AAChC,cAAI,CAACM,MAAD,IAAW,CAACC,EAAhB,EAAoB;AAChB;AACA;AACH;;AACD,cAAIC,IAAI,GAAG,EAAX;;AACA,cAAID,EAAE,CAACD,MAAH,IAAa,OAAOC,EAAE,CAACC,IAAV,KAAmB,QAApC,EAA8C;AAC1CA,YAAAA,IAAI,GAAGD,EAAE,CAACC,IAAV;AACH;;AACDR,UAAAA,QAAQ,CAACQ,IAAD,CAAR;AACH;AACJ,OAZD;AAaH,KAfD,CAeE,OAAOC,KAAP,EAAc;AACZT,MAAAA,QAAQ,CAAC,EAAD,CAAR;AACH;AACJ;AAID;AACJ;AACA;AACA;AACA;AACA;AACI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAKA;AACJ;AACA;AACA;AACA;AACA;AACI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA;AACJ;AACA;AACA;AACA;AACA;AACA;AACI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AA/JkC","sourcesContent":["import CMSHttp from '../utils/CMSHttp';\nimport Constants from '../utils/Constants';\n\nexport default class AnalyticsService {\n    static _instance;\n    static get instance() {\n        if (!this._instance) {\n            this._instance = new AnalyticsService();\n        }\n        return this._instance;\n    }\n\n    /**\n     * API get chart inverter performance\n     * @author long.pham 2020-11-02\n     * @param {function(data)} callBack\n     * @param {int} id_site \n     * @return Object\n     */\n     getDataReportMonth(objE, callBack) {\n        try {\n            var http = new CMSHttp(true);\n            http.post(Constants.URL.REPORT.MOTNH, objE, function (status, rs) {\n                if (typeof callBack === 'function') {\n                    if (!status || !rs) {\n                        //error http => lib http  proccess\n                        return;\n                    }\n                    var data = {};\n                    if (rs.status && typeof rs.data === 'object') {\n                        data = rs.data;\n                    }\n                    callBack(data);\n                }\n            })\n        } catch (error) {\n            callBack({});\n        }\n    }\n\n\n    /**\n     * API get chart inverter performance\n     * @author long.pham 2020-11-02\n     * @param {function(data)} callBack\n     * @param {int} id_site \n     * @return Object\n     */\n     getDataReportYear(objE, callBack) {\n        try {\n            var http = new CMSHttp(true);\n            http.post(Constants.URL.REPORT.YEAR, objE, function (status, rs) {\n                if (typeof callBack === 'function') {\n                    if (!status || !rs) {\n                        //error http => lib http  proccess\n                        return;\n                    }\n                    var data = {};\n                    if (rs.status && typeof rs.data === 'object') {\n                        data = rs.data;\n                    }\n                    callBack(data);\n                }\n            })\n        } catch (error) {\n            callBack({});\n        }\n    }\n\n\n\n    /**\n         * @author long.pham 2018-07-27\n         * @param  {RoleEntity} objE\n         * @param  {function(data,total_row,msg)} callBack\n         * @param  {Boolean} isShowProgress\n         */\n    // getListDeviceByProject(objE, callBack) {\n    //     try {\n    //         var http = new CMSHttp(true);\n    //         http.post(Constants.URL.ANALYTICS.LIST_DEVICE, objE, function (status, rs) {\n    //             if (typeof callBack === 'function') {\n    //                 if (!status || !rs) {\n    //                     //lỗi do http nên không làm gì vì đã có http thư viện xử lý\n    //                     return;\n    //                 }\n    //                 var data = [];\n    //                 var total_row = 0;\n    //                 if (rs.status && Array.isArray(rs.data)) {\n    //                     data = rs.data;\n    //                     total_row = rs.total_row;\n    //                 }\n    //                 callBack(data, total_row, \"\");\n    //             }\n    //         });\n    //     } catch (error) {\n    //         var msg = error;\n    //         callBack(false, 0, msg);\n    //     }\n    // }\n\n\n\n\n    /**\n         * @author long.pham 2018-07-27\n         * @param  {RoleEntity} objE\n         * @param  {function(data,total_row,msg)} callBack\n         * @param  {Boolean} isShowProgress\n         */\n    // getChartByListDevice(objE, callBack) {\n    //     try {\n    //         var http = new CMSHttp(true);\n    //         http.post(Constants.URL.ANALYTICS.CHART_PARAMETER_DEVICE, objE, function (status, rs) {\n    //             if (typeof callBack === 'function') {\n    //                 if (!status || !rs) {\n    //                     //lỗi do http nên không làm gì vì đã có http thư viện xử lý\n    //                     return;\n    //                 }\n    //                 var data = [];\n    //                 var total_row = 0;\n    //                 if (rs.status && Array.isArray(rs.data)) {\n    //                     data = rs.data;\n    //                     total_row = rs.total_row;\n    //                 }\n    //                 callBack(data, total_row, \"\");\n    //             }\n    //         });\n    //     } catch (error) {\n    //         var msg = error;\n    //         callBack(false, 0, msg);\n    //     }\n    // }\n\n\n\n    /**\n     * API get chart mini site inverter performance\n     * @author long.pham 2020-11-02\n     * @param {function(data)} callBack\n     * @param {int} id_site \n     * @return Object\n     */\n    // getChartAlarm(objE, callBack) {\n    //     try {\n    //         var http = new CMSHttp(true);\n    //         http.post(Constants.URL.ANALYTICS.CHART_ALARM, objE, function (status, rs) {\n    //             if (typeof callBack === 'function') {\n    //                 if (!status || !rs) {\n    //                     //error http => lib http  proccess\n    //                     return;\n    //                 }\n    //                 var data = {};\n    //                 if (rs.status && typeof rs.data === 'object') {\n    //                     data = rs.data;\n    //                 }\n    //                 callBack(data);\n    //             }\n    //         })\n    //     } catch (error) {\n    //         callBack({});\n    //     }\n    // }\n}\n"]},"metadata":{},"sourceType":"module"}