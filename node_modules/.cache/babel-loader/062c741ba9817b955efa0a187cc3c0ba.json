{"ast":null,"code":"import { Component } from 'react';\nimport SidebarDashBoardJsx from './SidebarDashBoard.jsx';\nimport { withTranslation } from 'react-i18next';\nimport Constants from '../../../utils/Constants';\nimport Libs from '../../../utils/Libs';\nimport ClientProjectService from '../../../services/ClientProjectService';\nimport { withRouter } from \"react-router-dom\";\n\nclass SidebarDashBoard extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.setActiveLink = hash_id => {\n      var {\n        des\n      } = this.state;\n      var {\n        pathname\n      } = window.location;\n      var res = pathname.split(\"/\");\n      var params = ['devices', 'activities', 'analytics', 'reports', 'dashboard', 'config'];\n\n      if (res) {\n        des = res[res.length - 1];\n\n        if (params.includes(des)) {\n          des = des;\n        } else {\n          des = null;\n        }\n      }\n\n      let info = localStorage.getItem(Constants.COMMON.EMPLOYEE_INFO);\n      let employeeInfo = JSON.parse(Libs.base64Decrypt(info));\n      this.props.history.push({\n        pathname: (!Libs.isBlank(employeeInfo.type) && employeeInfo.type == 'main' ? \"/private/\" : \"/project/\") + hash_id + (!Libs.isBlank(des) ? \"/\" + des : '')\n      });\n      this.setState({\n        hash_id: hash_id ? hash_id : null,\n        des: des\n      });\n    };\n\n    this.showChildMenu = index => {\n      var {\n        dataProjects\n      } = this.state;\n      var item = dataProjects[index];\n      if (Libs.isObjectEmpty(item)) return;\n      dataProjects[index].show_child = dataProjects[index].show_child ? false : true;\n      this.setState({\n        dataProjects: dataProjects\n      });\n    };\n\n    this.jsxTemplate = SidebarDashBoardJsx;\n    this.state = {\n      permissions: [],\n      dataProjects: [],\n      hash_id: null,\n      des: null\n    };\n  }\n\n  componentDidMount() {\n    this.getList();\n  }\n\n  /**\n   * get list project\n   * @author Long.Pham 12/09/2021\n   */\n  getList() {\n    let self = this;\n    let info = localStorage.getItem(Constants.COMMON.EMPLOYEE_INFO);\n    let employeeInfo = JSON.parse(Libs.base64Decrypt(info));\n    var params = {\n      id_language: employeeInfo.id_language,\n      id_employee: employeeInfo.id_employee\n    };\n    ClientProjectService.instance.getProjectSideBar(params, (data, total_row) => {\n      if (Libs.isArrayData(data)) {\n        self.setState({\n          dataProjects: data\n        });\n      } else {\n        self.setState({\n          dataProjects: []\n        });\n      }\n    });\n  }\n\n  render() {\n    return this.jsxTemplate.call(this);\n  }\n\n}\n\nconst HighOrderComponentTranslated = withTranslation('common')(SidebarDashBoard);\nexport default _c = withRouter(HighOrderComponentTranslated);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/Volumes/Data/sources/solarmon_production/solarmon_frontend/src/containers/common/SidebarDashBoard/SidebarDashBoard.js"],"names":["Component","SidebarDashBoardJsx","withTranslation","Constants","Libs","ClientProjectService","withRouter","SidebarDashBoard","constructor","props","context","setActiveLink","hash_id","des","state","pathname","window","location","res","split","params","length","includes","info","localStorage","getItem","COMMON","EMPLOYEE_INFO","employeeInfo","JSON","parse","base64Decrypt","history","push","isBlank","type","setState","showChildMenu","index","dataProjects","item","isObjectEmpty","show_child","jsxTemplate","permissions","componentDidMount","getList","self","id_language","id_employee","instance","getProjectSideBar","data","total_row","isArrayData","render","call","HighOrderComponentTranslated"],"mappings":"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","sourcesContent":["import { Component } from 'react';\nimport SidebarDashBoardJsx from './SidebarDashBoard.jsx';\nimport { withTranslation } from 'react-i18next';\nimport Constants from '../../../utils/Constants';\nimport Libs from '../../../utils/Libs';\nimport ClientProjectService from '../../../services/ClientProjectService';\nimport { withRouter } from \"react-router-dom\";\n\nclass SidebarDashBoard extends Component {\n    constructor(props, context) {\n        super(props, context);\n        this.jsxTemplate = SidebarDashBoardJsx;\n        this.state = {\n            permissions: [],\n            dataProjects: [],\n            hash_id: null,\n            des: null\n        };\n    }\n\n    componentDidMount() {\n        this.getList();\n    }\n\n    setActiveLink = (hash_id) => {\n        var { des } = this.state;\n        var { pathname } = window.location;\n        var res = pathname.split(\"/\");\n        var params = ['devices', 'activities', 'analytics', 'reports', 'dashboard', 'config'];\n        if (res) {\n            des = res[res.length - 1];\n            if (params.includes(des)) {\n                des = des;\n            } else {\n                des = null;\n            }\n        }\n        let info = localStorage.getItem(Constants.COMMON.EMPLOYEE_INFO);\n        let employeeInfo = JSON.parse(Libs.base64Decrypt(info));\n        this.props.history.push({ pathname: (!Libs.isBlank(employeeInfo.type) && employeeInfo.type == 'main' ? \"/private/\" : \"/project/\") + hash_id + (!Libs.isBlank(des) ? (\"/\" + des) : '') });\n        this.setState({\n            hash_id: hash_id ? hash_id : null,\n            des: des\n        });\n    }\n\n    /**\n     * get list project\n     * @author Long.Pham 12/09/2021\n     */\n    getList() {\n        let self = this;\n        let info = localStorage.getItem(Constants.COMMON.EMPLOYEE_INFO);\n        let employeeInfo = JSON.parse(Libs.base64Decrypt(info));\n        var params = {\n            id_language: employeeInfo.id_language,\n            id_employee: employeeInfo.id_employee\n        };\n\n\n        ClientProjectService.instance.getProjectSideBar(params, (data, total_row) => {\n            if (Libs.isArrayData(data)) {\n                self.setState({\n                    dataProjects: data\n                });\n            } else {\n                self.setState({\n                    dataProjects: []\n                });\n            }\n        });\n    }\n\n    showChildMenu = (index) => {\n        var { dataProjects } = this.state;\n        var item = dataProjects[index];\n        if (Libs.isObjectEmpty(item)) return;\n        dataProjects[index].show_child = dataProjects[index].show_child ? false : true;\n        this.setState({\n            dataProjects: dataProjects\n        })\n\n\n    }\n\n    render() {\n        return this.jsxTemplate.call(this)\n    }\n}\n\nconst HighOrderComponentTranslated = withTranslation('common')(SidebarDashBoard)\nexport default withRouter(HighOrderComponentTranslated);"]},"metadata":{},"sourceType":"module"}