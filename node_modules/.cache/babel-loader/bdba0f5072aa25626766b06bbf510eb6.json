{"ast":null,"code":"import React from'react';import{RText}from'../../../../../components/Controls';import Modal from'react-bootstrap4-modal';import Constants from'../../../../../utils/Constants';import FormReactSelect from'../../../../../components/FormReactSelect';import CMSDatePicker from'../../../../../components/CMSDatePicker/CMSDatePicker';import Libs from'../../../../../utils/Libs';import'./Project.scss';import RowItemDevice from'./RowItemDevice';import DeleteDevicePopup from'./DeleteDevicePopup';import AddDeviceSharePopup from'./AddDeviceShare/AddDeviceSharePopup';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function AddDevicePopup(){var _this=this;var _this$state=this.state,curItemProject=_this$state.curItemProject,curItem=_this$state.curItem,curItemDelete=_this$state.curItemDelete,dataDeviceType=_this$state.dataDeviceType,dataDeviceGroup=_this$state.dataDeviceGroup,dataList=_this$state.dataList;var t=this.props.t;var RowItems=null;RowItems=dataList.map(function(item,index){return/*#__PURE__*/_jsx(RowItemDevice,{index:index,dataItem:item,onItemClick:_this.onItemClick,onItemClickDelete:_this.onItemClickDelete,onIsVirtualChange:_this.onIsVirtualChange,onStatusChange:_this.onStatusChange,actions:_this.props.actions,auth:_this.props.auth,onClickDeleteDevice:_this.onClickDeleteDevice,t:t},'row_item_'+index);});var LayoutDeleteDevice=this.state.showDeleteDevice?/*#__PURE__*/_jsx(DeleteDevicePopup,{t:t,auth:this.props.auth,actions:this.actions,curItemDelete:curItemDelete,onClickCloseDeleteDevice:this.onClickCloseDeleteDevice}):\"\";var LayoutDeviceShare=this.state.showDeviceShare?/*#__PURE__*/_jsx(AddDeviceSharePopup,{t:t,auth:this.props.auth,actions:this.actions,curItemProject:curItemProject,onClickCloseDeviceShare:this.onClickCloseDeviceShare}):\"\";return/*#__PURE__*/_jsxs(\"div\",{className:\"main-multi-modal\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-device-share\",children:LayoutDeviceShare}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-delete-device\",children:LayoutDeleteDevice}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-list-device\",children:/*#__PURE__*/_jsxs(Modal,{visible:true,className:\"modal-device\",dialogClassName:\"modal-xl screen-full modal-dialog-scrollable\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",children:curItemProject.name}),/*#__PURE__*/_jsx(\"span\",{className:\"close\",onClick:this.props.onClickCloseAddDevice.bind(this,false),children:/*#__PURE__*/_jsx(\"var\",{className:\"icon-cancel-music\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"box-info\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[t('device.device_title'),/*#__PURE__*/_jsx(\"div\",{onClick:this.onClickDeviceShare.bind(this),className:\"add-device-share\",children:\"Add device share\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"box-info-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-11\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-3 col-lg-3 col-md-3 col-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(RText,{label:t('device.id_device'),inputClass:\"form-control\",required:\"required\",inputId:\"id_device\",inputName:\"id_device\",value:curItem.id_device,onChange:function onChange(e){_this.handleInputChange(e);_this.validateOne(e);},maxLength:200})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-3 col-lg-3 col-md-3 col-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(RText,{label:t('device.device_name'),inputClass:\"form-control\",required:\"required\",inputId:\"name\",inputName:\"name\",value:curItem.name,onChange:function onChange(e){_this.handleInputChange(e);_this.validateOne(e);},maxLength:200})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-3 col-lg-3 col-md-3 col-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(RText,{label:t('device.model'),inputClass:\"form-control\",required:\"required\",inputId:\"model\",inputName:\"model\",value:curItem.model,onChange:function onChange(e){_this.handleInputChange(e);_this.validateOne(e);},maxLength:200})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-3 col-lg-3 col-md-3 col-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(RText,{label:t('device.serial_number'),inputClass:\"form-control\",required:\"required\",inputId:\"serial_number\",inputName:\"serial_number\",value:curItem.serial_number,onChange:function onChange(e){_this.handleInputChange(e);_this.validateOne(e);},maxLength:200})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-3 col-lg-3 col-md-3 col-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(FormReactSelect,{label:t('device.id_device_type'),instanceId:\"id_device_type\",className:\"id_device_type\",name:\"id_device_type\",required:\"required\",value:dataDeviceType.filter(function(item){return item.id===curItem.id_device_type;}),onChange:function onChange(e){_this.handleDropdownChange(e,'id_device_type');},optionList:dataDeviceType,placeHolder:t('common.choose')})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-3 col-lg-3 col-md-3 col-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(FormReactSelect,{label:t('device.id_device_group'),instanceId:\"id_device_group\",className:\"id_device_group\",name:\"id_device_group\",required:\"required\",value:dataDeviceGroup.filter(function(item){return item.id===curItem.id_device_group;}),onChange:function onChange(e){_this.handleDropdownChange(e,'id_device_group');},optionList:dataDeviceGroup,placeHolder:t('common.choose')})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-3 col-lg-3 col-md-3 col-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(CMSDatePicker,{label:t('device.installed_at'),value:curItem.installed_at,inputId:\"installed_at\",format:\"DD/MM/YYYY\",dateFormat:\"dd/MM/yyyy\",inputClass:\"form-control\",inputName:\"installed_at\",minDate:curItem.min_date,handleChange:function handleChange(e){_this.handleInputDateChange(e);_this.validateOne(e);},maxLength:20,showIconCalendar:true})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-2 col-lg-2 col-md-2 col-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(RText,{label:t('device.manufacturer'),inputClass:\"form-control\",inputId:\"manufacturer\",inputName:\"manufacturer\",value:curItem.manufacturer,onChange:function onChange(e){_this.handleInputChange(e);_this.validateOne(e);},maxLength:200})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-1 col-lg-1 col-md-1 col-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(RText,{label:t('device.menu_order'),inputClass:\"form-control\",inputId:\"menu_order\",inputName:\"menu_order\",value:curItem.menu_order,pattern:\"^[0-9]*$\",onChange:function onChange(e){_this.handleInputChange(e);_this.validateOne(e);},maxLength:200})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-1\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-save btn-margin-top\",onClick:this.onSave.bind(this),children:curItem.screen_mode===Constants.SCREEN_MODE.EDIT?t('common.update'):t('common.create')})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"list-device\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"data-view\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"main-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"header-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header-col width20\",children:/*#__PURE__*/_jsx(\"p\",{children:t('device.device_name')})}),/*#__PURE__*/_jsx(\"div\",{className:\"header-col width10\",children:/*#__PURE__*/_jsx(\"p\",{children:t('device.model')})}),/*#__PURE__*/_jsx(\"div\",{className:\"header-col width10\",children:/*#__PURE__*/_jsx(\"p\",{children:t('device.serial_number')})}),/*#__PURE__*/_jsx(\"div\",{className:\"header-col width10\",children:/*#__PURE__*/_jsx(\"p\",{children:t('device.id_device_type')})}),/*#__PURE__*/_jsx(\"div\",{className:\"header-col width10\",children:/*#__PURE__*/_jsx(\"p\",{children:t('device.manufacturer')})}),/*#__PURE__*/_jsx(\"div\",{className:\"header-col width10 text-center\",children:/*#__PURE__*/_jsx(\"p\",{children:t('device.is_share')})}),/*#__PURE__*/_jsx(\"div\",{className:\"header-col width10 sorting text-center\",children:/*#__PURE__*/_jsx(\"p\",{children:t('device.is_virtual')})}),/*#__PURE__*/_jsx(\"div\",{className:\"header-col width10 sorting text-center\",children:/*#__PURE__*/_jsx(\"p\",{children:t('device.status')})}),/*#__PURE__*/_jsx(\"div\",{className:\"header-col width10 text-end\",children:/*#__PURE__*/_jsx(\"strong\",{children:t('common.action')})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"main-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"body\",children:!Libs.isBlank(RowItems)?RowItems:/*#__PURE__*/_jsx(\"div\",{className:\"data-empty\",children:t('common.data_empty')})})})]})})]})]})})]})})]});}","map":{"version":3,"sources":["/Volumes/Data/sources/solarmon_production/solarmon_frontend/src/containers/views/desktop/ModuleSystem/Project/AddDevicePopup.jsx"],"names":["React","RText","Modal","Constants","FormReactSelect","CMSDatePicker","Libs","RowItemDevice","DeleteDevicePopup","AddDeviceSharePopup","AddDevicePopup","state","curItemProject","curItem","curItemDelete","dataDeviceType","dataDeviceGroup","dataList","t","props","RowItems","map","item","index","onItemClick","onItemClickDelete","onIsVirtualChange","onStatusChange","actions","auth","onClickDeleteDevice","LayoutDeleteDevice","showDeleteDevice","onClickCloseDeleteDevice","LayoutDeviceShare","showDeviceShare","onClickCloseDeviceShare","name","onClickCloseAddDevice","bind","onClickDeviceShare","id_device","e","handleInputChange","validateOne","model","serial_number","filter","id","id_device_type","handleDropdownChange","id_device_group","installed_at","min_date","handleInputDateChange","manufacturer","menu_order","onSave","screen_mode","SCREEN_MODE","EDIT","isBlank"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { RText } from '../../../../../components/Controls';\nimport Modal from 'react-bootstrap4-modal';\nimport Constants from '../../../../../utils/Constants';\nimport FormReactSelect from '../../../../../components/FormReactSelect';\nimport CMSDatePicker from '../../../../../components/CMSDatePicker/CMSDatePicker';\nimport Libs from '../../../../../utils/Libs';\nimport './Project.scss';\nimport RowItemDevice from './RowItemDevice';\nimport DeleteDevicePopup from './DeleteDevicePopup';\nimport AddDeviceSharePopup from './AddDeviceShare/AddDeviceSharePopup';\n\nexport default function AddDevicePopup() {\n\n    var { curItemProject, curItem, curItemDelete, dataDeviceType, dataDeviceGroup, dataList } = this.state;\n    const { t } = this.props;\n\n    var RowItems = null;\n    RowItems = dataList.map((item, index) => {\n        return <RowItemDevice\n            key={'row_item_' + index}\n            index={index}\n            dataItem={item}\n            onItemClick={this.onItemClick}\n            onItemClickDelete={this.onItemClickDelete}\n            onIsVirtualChange={this.onIsVirtualChange}\n            onStatusChange = {this.onStatusChange}\n            actions={this.props.actions}\n            auth={this.props.auth}\n            onClickDeleteDevice={this.onClickDeleteDevice}\n            t={t}\n        />\n    });\n\n\n    var LayoutDeleteDevice = this.state.showDeleteDevice ?\n        <DeleteDevicePopup\n            t={t}\n            auth={this.props.auth}\n            actions={this.actions}\n            curItemDelete={curItemDelete}\n            onClickCloseDeleteDevice={this.onClickCloseDeleteDevice}\n        />\n        : \"\";\n\n    var LayoutDeviceShare = this.state.showDeviceShare ?\n        <AddDeviceSharePopup\n            t={t}\n            auth={this.props.auth}\n            actions={this.actions}\n            curItemProject={curItemProject}\n            onClickCloseDeviceShare={this.onClickCloseDeviceShare}\n        />\n        : \"\";\n\n\n\n    return (\n        <div className=\"main-multi-modal\">\n            <div className=\"modal-device-share\">\n                {LayoutDeviceShare}\n            </div>\n            <div className=\"modal-delete-device\">\n                {LayoutDeleteDevice}\n            </div>\n            <div className=\"modal-list-device\">\n                <Modal visible={true} className=\"modal-device\" dialogClassName=\"modal-xl screen-full modal-dialog-scrollable\" >\n                    <div className=\"modal-header\">\n                        <h5 className=\"modal-title\">\n                            {curItemProject.name}\n                        </h5>\n                        <span className=\"close\" onClick={this.props.onClickCloseAddDevice.bind(this, false)}><var className=\"icon-cancel-music\"></var></span>\n                    </div>\n                    <div className=\"modal-body\">\n                        <div className=\"box-info\">\n                            <h2>{t('device.device_title')}\n                                <div onClick={this.onClickDeviceShare.bind(this)} className=\"add-device-share\">Add device share</div>\n                            </h2>\n\n                            <div className=\"box-info-content\">\n                                <div className=\"row\">\n                                    <div className=\"col-md-11\">\n                                        <div className=\"row\">\n                                            <div className=\"col-xl-3 col-lg-3 col-md-3 col-6\">\n                                                <div className=\"mb-3\">\n                                                    <RText label={t('device.id_device')}\n                                                        inputClass=\"form-control\"\n                                                        required=\"required\"\n                                                        inputId=\"id_device\"\n                                                        inputName=\"id_device\"\n                                                        value={curItem.id_device}\n                                                        onChange={(e) => { this.handleInputChange(e); this.validateOne(e); }}\n                                                        maxLength={200} />\n                                                </div>\n                                            </div>\n\n                                            <div className=\"col-xl-3 col-lg-3 col-md-3 col-6\">\n                                                <div className=\"mb-3\">\n                                                    <RText label={t('device.device_name')}\n                                                        inputClass=\"form-control\"\n                                                        required=\"required\"\n                                                        inputId=\"name\"\n                                                        inputName=\"name\"\n                                                        value={curItem.name}\n                                                        onChange={(e) => { this.handleInputChange(e); this.validateOne(e); }}\n                                                        maxLength={200} />\n                                                </div>\n                                            </div>\n\n                                            <div className=\"col-xl-3 col-lg-3 col-md-3 col-6\">\n                                                <div className=\"mb-3\">\n                                                    <RText label={t('device.model')}\n                                                        inputClass=\"form-control\"\n                                                        required=\"required\"\n                                                        inputId=\"model\"\n                                                        inputName=\"model\"\n                                                        value={curItem.model}\n                                                        onChange={(e) => { this.handleInputChange(e); this.validateOne(e); }}\n                                                        maxLength={200} />\n                                                </div>\n                                            </div>\n\n\n                                            <div className=\"col-xl-3 col-lg-3 col-md-3 col-6\">\n                                                <div className=\"mb-3\">\n                                                    <RText label={t('device.serial_number')}\n                                                        inputClass=\"form-control\"\n                                                        required=\"required\"\n                                                        inputId=\"serial_number\"\n                                                        inputName=\"serial_number\"\n                                                        value={curItem.serial_number}\n                                                        onChange={(e) => { this.handleInputChange(e); this.validateOne(e); }}\n                                                        maxLength={200} />\n                                                </div>\n                                            </div>\n\n                                            <div className=\"col-xl-3 col-lg-3 col-md-3 col-6\">\n                                                <div className=\"mb-3\">\n                                                    <FormReactSelect\n                                                        label={t('device.id_device_type')}\n                                                        instanceId=\"id_device_type\"\n                                                        className=\"id_device_type\"\n                                                        name=\"id_device_type\"\n                                                        required=\"required\"\n                                                        value={dataDeviceType.filter(function (item) { return item.id === curItem.id_device_type })}\n                                                        onChange={(e) => { this.handleDropdownChange(e, 'id_device_type'); }}\n                                                        optionList={dataDeviceType}\n                                                        placeHolder={t('common.choose')}\n                                                    />\n                                                </div>\n                                            </div>\n\n                                            <div className=\"col-xl-3 col-lg-3 col-md-3 col-6\">\n                                                <div className=\"mb-3\">\n                                                    <FormReactSelect\n                                                        label={t('device.id_device_group')}\n                                                        instanceId=\"id_device_group\"\n                                                        className=\"id_device_group\"\n                                                        name=\"id_device_group\"\n                                                        required=\"required\"\n                                                        value={dataDeviceGroup.filter(function (item) { return item.id === curItem.id_device_group })}\n                                                        onChange={(e) => { this.handleDropdownChange(e, 'id_device_group'); }}\n                                                        optionList={dataDeviceGroup}\n                                                        placeHolder={t('common.choose')}\n                                                    />\n                                                </div>\n                                            </div>\n\n                                            <div className=\"col-xl-3 col-lg-3 col-md-3 col-6\">\n                                                <div className=\"mb-3\">\n                                                    <CMSDatePicker\n                                                        label={t('device.installed_at')}\n                                                        value={curItem.installed_at}\n                                                        inputId=\"installed_at\"\n                                                        format=\"DD/MM/YYYY\"\n                                                        dateFormat=\"dd/MM/yyyy\"\n                                                        inputClass=\"form-control\"\n                                                        inputName=\"installed_at\"\n                                                        minDate={curItem.min_date}\n                                                        handleChange={(e) => { this.handleInputDateChange(e); this.validateOne(e); }}\n                                                        maxLength={20}\n                                                        showIconCalendar={true}\n                                                    />\n                                                </div>\n                                            </div>\n\n                                            <div className=\"col-xl-2 col-lg-2 col-md-2 col-6\">\n                                                <div className=\"mb-3\">\n                                                    <RText label={t('device.manufacturer')}\n                                                        inputClass=\"form-control\"\n                                                        inputId=\"manufacturer\"\n                                                        inputName=\"manufacturer\"\n                                                        value={curItem.manufacturer}\n                                                        onChange={(e) => { this.handleInputChange(e); this.validateOne(e); }}\n                                                        maxLength={200} />\n                                                </div>\n                                            </div>\n\n                                            <div className=\"col-xl-1 col-lg-1 col-md-1 col-6\">\n                                                <div className=\"mb-3\">\n                                                    <RText label={t('device.menu_order')}\n                                                        inputClass=\"form-control\"\n                                                        inputId=\"menu_order\"\n                                                        inputName=\"menu_order\"\n                                                        value={curItem.menu_order}\n                                                        pattern=\"^[0-9]*$\"\n                                                        onChange={(e) => { this.handleInputChange(e); this.validateOne(e); }}\n                                                        maxLength={200} />\n                                                </div>\n                                            </div>\n\n\n                                        </div>\n                                    </div>\n                                    <div className=\"col-md-1\">\n                                        <button type=\"button\" className=\"btn btn-save btn-margin-top\" onClick={this.onSave.bind(this)}>\n                                            {(curItem.screen_mode === Constants.SCREEN_MODE.EDIT) ? t('common.update') : t('common.create')}\n                                        </button>\n                                    </div>\n                                </div>\n\n                                <div className=\"list-device\">\n                                    <div className=\"data-view\">\n                                        <div className=\"main-header\">\n                                            <div className=\"header-row\">\n                                                <div className=\"header-col width20\"><p>{t('device.device_name')}</p></div>\n                                                <div className=\"header-col width10\"><p>{t('device.model')}</p></div>\n                                                <div className=\"header-col width10\"><p>{t('device.serial_number')}</p></div>\n                                                <div className=\"header-col width10\"><p>{t('device.id_device_type')}</p></div>\n                                                <div className=\"header-col width10\"><p>{t('device.manufacturer')}</p></div>\n                                                <div className=\"header-col width10 text-center\"><p>{t('device.is_share')}</p></div>\n                                                <div className=\"header-col width10 sorting text-center\"><p>{t('device.is_virtual')}</p></div>\n                                                <div className=\"header-col width10 sorting text-center\"><p>{t('device.status')}</p></div>\n                                                <div className=\"header-col width10 text-end\"><strong>{t('common.action')}</strong></div>\n                                            </div>\n                                        </div>\n                                        <div className=\"main-body\">\n                                            <div className=\"body\">\n                                                {!Libs.isBlank(RowItems) ? RowItems : <div className=\"data-empty\">{t('common.data_empty')}</div>}\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                </div>\n\n                            </div>\n\n                        </div>\n\n                    </div>\n                </Modal>\n            </div>\n\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}