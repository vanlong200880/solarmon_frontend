{"ast":null,"code":"import _classCallCheck from\"/Volumes/Data/sources/solars/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Volumes/Data/sources/solars/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Volumes/Data/sources/solars/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Volumes/Data/sources/solars/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Volumes/Data/sources/solars/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import ConfigJsx from'./Config.jsx';import BaseComponent from'../../../../BaseComponent';import Libs from'../../../../../utils/Libs';import{withTranslation}from'react-i18next';import Constants from'../../../../../utils/Constants';import ClientConfigService from'../../../../../services/ClientConfigService';var Config=/*#__PURE__*/function(_BaseComponent){_inherits(Config,_BaseComponent);var _super=_createSuper(Config);function Config(props,context){var _this;_classCallCheck(this,Config);_this=_super.call(this,props,context);_this.handleDeviceInputChange=function(index){var _this$state=_this.state,dataListDevice=_this$state.dataListDevice,curItem=_this$state.curItem;if(!Libs.isArrayData(dataListDevice))return;var item=dataListDevice[index];if(Libs.isObjectEmpty(item))return;for(var i=0;i<dataListDevice.length;i++){dataListDevice[i].is_checked=0;}dataListDevice[index].is_checked=1;_this.setState({dataListDevice:dataListDevice,itemDevice:item,curItem:curItem});};_this.onTabSetting=function(type){var curItem=_this.state.curItem;curItem.type=type;_this.setState({curItem:curItem});};_this.reloadData=function(){_this.forceUpdate();};_this.handleDropdownChange=function(item,name){var self=_assertThisInitialized(_this);var curItem=self.state.curItem;if(Libs.isObjectEmpty(item)){curItem.type=2;}else{var value=item.value;curItem[name]=value;}self.setState({curItem:curItem});};_this.state={hash_id:!Libs.isObjectEmpty(_this.params)?_this.params.id:null,curItem:{type:1},itemDevice:{},dataListDevice:[],dataList:[],searchParam:{limit:Constants.COMMON.LIMIT,offset:0,index:1}};_this.jsxTemplate=ConfigJsx;return _this;}_createClass(Config,[{key:\"componentDidMount\",value:function componentDidMount(){this.getListAllDeviceByProject();}},{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){var self=this;if(nextProps.match.params.id!==this.props.match.params.id){this.setState({hash_id:nextProps.match.params.id},function(){self.getListAllDeviceByProject();});}}},{key:\"getListAllDeviceByProject\",value:function getListAllDeviceByProject(){var self=this;var params={hash_id:this.state.hash_id,id_employee:this.employee.id_employee,id_language:this.employee.id_language};ClientConfigService.instance.getListAllDeviceByProject(params,function(data,total_row){if(Libs.isArrayData(data)){self.setState({dataListDevice:data,itemDevice:{}});}else{self.setState({dataListDevice:[],itemDevice:{}});}self.forceUpdate();});}},{key:\"render\",value:function render(){return this.jsxTemplate.call(this);}}]);return Config;}(BaseComponent);var HighOrderComponentTranslated=withTranslation('common')(Config);export default HighOrderComponentTranslated;","map":{"version":3,"sources":["/Volumes/Data/sources/solars/frontend/src/containers/views/desktop/ModuleProject/Config/Config.js"],"names":["ConfigJsx","BaseComponent","Libs","withTranslation","Constants","ClientConfigService","Config","props","context","handleDeviceInputChange","index","state","dataListDevice","curItem","isArrayData","item","isObjectEmpty","i","length","is_checked","setState","itemDevice","onTabSetting","type","reloadData","forceUpdate","handleDropdownChange","name","self","value","hash_id","params","id","dataList","searchParam","limit","COMMON","LIMIT","offset","jsxTemplate","getListAllDeviceByProject","nextProps","match","id_employee","employee","id_language","instance","data","total_row","call","HighOrderComponentTranslated"],"mappings":"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","sourcesContent":["import ConfigJsx from './Config.jsx';\nimport BaseComponent from '../../../../BaseComponent';\nimport Libs from '../../../../../utils/Libs';\nimport { withTranslation } from 'react-i18next';\nimport Constants from '../../../../../utils/Constants';\nimport ClientConfigService from '../../../../../services/ClientConfigService';\nclass Config extends BaseComponent {\n\n    constructor(props, context) {\n        super(props, context);\n\n        this.state = {\n            hash_id: !Libs.isObjectEmpty(this.params) ? this.params.id : null,\n            curItem: {\n                type: 1\n            },\n            itemDevice: {},\n\n            dataListDevice: [],\n            dataList: [],\n            searchParam: {\n                limit: Constants.COMMON.LIMIT,\n                offset: 0,\n                index: 1,\n            },\n        };\n\n\n        this.jsxTemplate = ConfigJsx;\n\n    }\n\n    componentDidMount() {\n        \n        this.getListAllDeviceByProject();\n    }\n\n    componentWillReceiveProps(nextProps) {\n        let self = this;\n        if (nextProps.match.params.id !== this.props.match.params.id) {\n            this.setState({\n                hash_id: nextProps.match.params.id\n            }, () => {\n                self.getListAllDeviceByProject();\n            });\n        }\n    }\n\n    handleDeviceInputChange = (index) => {\n        var { dataListDevice, curItem: curItem } = this.state;\n        if (!Libs.isArrayData(dataListDevice)) return;\n        var item = dataListDevice[index];\n        if (Libs.isObjectEmpty(item)) return;\n        for (var i = 0; i < dataListDevice.length; i++) {\n            dataListDevice[i].is_checked = 0;\n        }\n        dataListDevice[index].is_checked = 1;\n        this.setState({ dataListDevice: dataListDevice, itemDevice: item, curItem: curItem })\n    }\n    getListAllDeviceByProject() {\n        let self = this;\n        let params = {\n            hash_id: this.state.hash_id,\n            id_employee: this.employee.id_employee,\n            id_language: this.employee.id_language\n        };\n\n        ClientConfigService.instance.getListAllDeviceByProject(params, (data, total_row) => {\n            if (Libs.isArrayData(data)) {\n                self.setState({\n                    dataListDevice: data,\n                    itemDevice: {}\n                });\n            } else {\n                self.setState({\n                    dataListDevice: [],\n                    itemDevice: {}\n                });\n            }\n            self.forceUpdate();\n        });\n    }\n    onTabSetting = (type) => {\n        var { curItem } = this.state;\n        curItem.type = type;\n        this.setState({\n            curItem: curItem\n        })\n    }\n\n    reloadData = () => {\n        this.forceUpdate();\n    }\n\n    handleDropdownChange = (item, name) => {\n        var self = this;\n        let curItem = self.state.curItem;\n\n        if (Libs.isObjectEmpty(item)) {\n            curItem.type = 2;\n        } else {\n            var value = item.value;\n            curItem[name] = value;\n        }\n\n        self.setState({\n            curItem: curItem\n        });\n    }\n\n    render() {\n        return this.jsxTemplate.call(this)\n    }\n}\n\nconst HighOrderComponentTranslated = withTranslation('common')(Config)\nexport default HighOrderComponentTranslated;"]},"metadata":{},"sourceType":"module"}