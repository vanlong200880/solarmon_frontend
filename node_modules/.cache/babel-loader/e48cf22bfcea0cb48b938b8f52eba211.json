{"ast":null,"code":"import React from'react';import Modal from'react-bootstrap4-modal';import{RButton}from'../../../../../../components/Controls';import CMSDatePicker from'../../../../../../components/CMSDatePicker/CMSDatePicker';import{Calendar,momentLocalizer}from'react-big-calendar';import moment from'moment';import DeleteCalendarPopup from'./DeleteCalendarPopup';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ControlCalendar(){var _this=this;var _this$state=this.state,curItem=_this$state.curItem,eventsList=_this$state.eventsList,searchParam=_this$state.searchParam;moment.locale('en-GB');var t=this.props.t;var localizer=momentLocalizer(moment);var DeleteCalendarPopupLayout=this.state.deleteItemCalendar?/*#__PURE__*/_jsx(DeleteCalendarPopup,{t:t,curItem:this.state.itemCalendar,closeDeleteCalendar:this.closeDeleteCalendar,auth:this.props.auth,actions:this.actions}):'';return/*#__PURE__*/_jsxs(\"div\",{className:\"main-cal\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"del\",children:DeleteCalendarPopupLayout}),/*#__PURE__*/_jsx(\"div\",{className:\"cal\",children:/*#__PURE__*/_jsxs(Modal,{visible:true,className:\"modal-control-calendar\",dialogClassName:\"modal-xl modal-dialog-scrollable\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"modal-title\",children:[t('device.control_calendar'),\": Device \",curItem.name,\" \"]}),/*#__PURE__*/_jsx(\"span\",{className:\"close\",onClick:this.props.onCloseControlCalender.bind(this,false),children:/*#__PURE__*/_jsx(\"var\",{className:\"icon-cancel-music\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"add-date\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(CMSDatePicker,{value:searchParam.date_from,inputId:\"date_from\",format:\"DD/MM/YYYY HH:mm\",dateFormat:\"dd/MM/yyyy HH:mm\",inputClass:\"form-control\",inputName:\"date_from\",minDate:searchParam.min_date,handleChange:function handleChange(e){_this.handleInputDateChange(e);_this.validateOne(e);},maxLength:20,showIconCalendar:true,timeIntervals:60,showTimeSelect:true})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-1 text-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"to\",children:\"To\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(CMSDatePicker,{value:searchParam.date_to,inputId:\"date_to\",format:\"DD/MM/YYYY HH:mm\",dateFormat:\"dd/MM/yyyy HH:mm\",inputClass:\"form-control\",inputName:\"date_to\",minDate:searchParam.date_from,handleChange:function handleChange(e){_this.handleInputDateChange(e);_this.validateOne(e);},maxLength:20,showIconCalendar:true,timeIntervals:60,showTimeSelect:true})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-1\",children:/*#__PURE__*/_jsx(RButton,{onClick:this.onClickAddControlCalendarAction.bind(this),className:\"btn btn-save\",text:t('device.add'),title:t('device.add')})})]})}),/*#__PURE__*/_jsx(Calendar,{localizer:localizer,events:eventsList,startAccessor:\"start\",endAccessor:\"end\",step:60,style:{height:500},defaultView:\"month\",onSelectEvent:this.onSelectEvent.bind(this)})]})]})})]});}","map":{"version":3,"sources":["/Volumes/Data/sources/solarmon_production/solarmon_frontend/src/containers/views/desktop/ModulePrivate/Control/Manual/ControlCalendar.jsx"],"names":["React","Modal","RButton","CMSDatePicker","Calendar","momentLocalizer","moment","DeleteCalendarPopup","ControlCalendar","state","curItem","eventsList","searchParam","locale","t","props","localizer","DeleteCalendarPopupLayout","deleteItemCalendar","itemCalendar","closeDeleteCalendar","auth","actions","name","onCloseControlCalender","bind","date_from","min_date","e","handleInputDateChange","validateOne","date_to","onClickAddControlCalendarAction","height","onSelectEvent"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Modal from 'react-bootstrap4-modal';\nimport { RButton } from '../../../../../../components/Controls';\nimport CMSDatePicker from '../../../../../../components/CMSDatePicker/CMSDatePicker';\nimport { Calendar, momentLocalizer } from 'react-big-calendar'\nimport moment from 'moment';\nimport DeleteCalendarPopup from './DeleteCalendarPopup';\n\nexport default function ControlCalendar() {\n    var { curItem, eventsList, searchParam } = this.state;\n    moment.locale('en-GB');\n    var { t } = this.props;\n    const localizer = momentLocalizer(moment);\n\n    var DeleteCalendarPopupLayout = this.state.deleteItemCalendar\n        ? <DeleteCalendarPopup\n            t={t}\n            curItem={this.state.itemCalendar}\n            closeDeleteCalendar={this.closeDeleteCalendar}\n            auth={this.props.auth}\n            actions={this.actions}\n        /> : '';\n\n    return (\n        <div className=\"main-cal\">\n            <div className=\"del\">{DeleteCalendarPopupLayout}</div>\n            <div className=\"cal\">\n                <Modal visible={true} className=\"modal-control-calendar\" dialogClassName=\"modal-xl modal-dialog-scrollable\">\n                    <div className=\"modal-header\">\n                        <h5 className=\"modal-title\">{t('device.control_calendar')}: Device {curItem.name} </h5>\n                        <span className=\"close\" onClick={this.props.onCloseControlCalender.bind(this, false)}><var className=\"icon-cancel-music\"></var></span>\n                    </div>\n                    <div className=\"modal-body\">\n                        <div className=\"add-date\">\n                            <div className=\"row\">\n                                <div className=\"col-md-3\">\n                                    <div className=\"mb-3\">\n                                        <CMSDatePicker\n                                            value={searchParam.date_from}\n                                            inputId=\"date_from\"\n                                            format=\"DD/MM/YYYY HH:mm\"\n                                            dateFormat=\"dd/MM/yyyy HH:mm\"\n                                            inputClass=\"form-control\"\n                                            inputName=\"date_from\"\n                                            minDate={searchParam.min_date}\n                                            handleChange={(e) => { this.handleInputDateChange(e); this.validateOne(e); }}\n                                            maxLength={20}\n                                            showIconCalendar={true}\n                                            timeIntervals={60}\n                                            showTimeSelect={true}\n\n                                        />\n                                    </div>\n\n                                </div>\n                                <div className=\"col-md-1 text-center\"><span className=\"to\">To</span></div>\n\n                                <div className=\"col-md-3\">\n                                    <div className=\"mb-3\">\n                                        <CMSDatePicker\n                                            value={searchParam.date_to}\n                                            inputId=\"date_to\"\n                                            format=\"DD/MM/YYYY HH:mm\"\n                                            dateFormat=\"dd/MM/yyyy HH:mm\"\n                                            inputClass=\"form-control\"\n                                            inputName=\"date_to\"\n                                            minDate={searchParam.date_from}\n                                            handleChange={(e) => { this.handleInputDateChange(e); this.validateOne(e); }}\n                                            maxLength={20}\n                                            showIconCalendar={true}\n                                            timeIntervals={60}\n                                            showTimeSelect={true}\n                                        />\n                                    </div>\n\n                                </div>\n\n                                <div className=\"col-md-1\">\n                                    <RButton\n                                        onClick={this.onClickAddControlCalendarAction.bind(this)}\n                                        className=\"btn btn-save\"\n                                        text={t('device.add')}\n                                        title={t('device.add')} />\n                                </div>\n\n                            </div>\n                        </div>\n                        <Calendar\n                            localizer={localizer}\n                            events={eventsList}\n                            startAccessor=\"start\"\n                            endAccessor=\"end\"\n                            step={60}\n                            style={{ height: 500 }}\n                            defaultView='month'\n                            onSelectEvent={this.onSelectEvent.bind(this)}\n                        />\n                    </div>\n                </Modal>\n            </div>\n\n\n\n        </div>\n\n    )\n}"]},"metadata":{},"sourceType":"module"}