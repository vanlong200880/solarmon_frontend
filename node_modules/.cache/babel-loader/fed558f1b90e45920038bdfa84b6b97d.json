{"ast":null,"code":"import React from'react';import Libs from'../../../../../../utils/Libs';import FormReactSelect from'../../../../../../components/FormReactSelect';import CMSDatePicker from'../../../../../../components/CMSDatePicker/CMSDatePicker';import{RCheckbox}from'../../../../../../components/Controls';import'./ChartDeviceDiagnostics.scss';import Highcharts from'highcharts';import HighchartsReact from'highcharts-react-official';import HighchartsExporting from'highcharts/modules/exporting';import bellcurve from\"highcharts/modules/histogram-bellcurve\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";bellcurve(Highcharts);if(typeof Highcharts==='object'){HighchartsExporting(Highcharts);}export default function ChartDeviceDiagnostics(){var _this=this;var t=this.props.t;var _this$state=this.state,curItem=_this$state.curItem,dataListDevice=_this$state.dataListDevice,chartParams=_this$state.chartParams,dataFilter=_this$state.dataFilter,chartToolOption=_this$state.chartToolOption,dataDiagnostics=_this$state.dataDiagnostics,dataStringIndex=_this$state.dataStringIndex;var itemFilters=null;if(Libs.isArrayData(dataFilter)){itemFilters=dataFilter.map(function(item,index){return/*#__PURE__*/_jsx(\"a\",{onClick:_this.onClickFilter.bind(_this,item.id),className:item.id==chartParams.id_filter?\"item active\":\"item\",children:item.text},index);});}var itemTimes=null;if(!Libs.isObjectEmpty(chartParams)){switch(chartParams.id_filter){case'today':itemTimes=/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(CMSDatePicker,{value:chartParams.end_date,inputId:\"today\",format:\"MM/DD/YYYY\",dateFormat:\"dd/MM/yyyy\",inputClass:\"form-control\",inputName:\"end_date\",maxDate:chartParams.max_date,handleChange:this.handleInputDateChange.bind(this),maxLength:20,showIconCalendar:true})});break;case'3_day':itemTimes=/*#__PURE__*/_jsx(\"div\",{className:\"show-3day\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-1\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-5\",children:/*#__PURE__*/_jsx(CMSDatePicker,{value:chartParams.start_date,inputId:\"start_3day\",format:\"DD/MM/YYYY\",dateFormat:\"dd/MM/yyyy\",inputClass:\"form-control\",inputName:\"start_date\",maxDate:chartParams.start_max_date,handleChange:this.handleInputDateChange.bind(this),maxLength:20,showIconCalendar:false})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-1 line-date text-center\",children:/*#__PURE__*/_jsx(\"span\",{children:\" - \"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-5\",children:/*#__PURE__*/_jsx(CMSDatePicker,{value:chartParams.end_date,inputId:\"end_3day\",format:\"DD/MM/YYYY\",dateFormat:\"dd/MM/yyyy\",inputClass:\"form-control\",inputName:\"end_date\",maxDate:chartParams.max_date,handleChange:this.handleInputDateChange.bind(this),maxLength:20,showIconCalendar:false})})]})});break;case'last_month':case'this_month':itemTimes=/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(CMSDatePicker,{value:chartParams.end_date,inputId:\"this_month\",format:\"MM/yyyy\",dateFormat:\"MM/yyyy\",inputClass:\"form-control\",inputName:\"end_date\",maxDate:chartParams.max_date,handleChange:this.handleInputDateChange.bind(this),maxLength:20,showIconCalendar:true,showMonthYearPicker:true,showFullMonthYearPicker:true,showTwoColumnMonthYearPicker:true,showCustomMonth:false})});break;case'12_month':itemTimes=/*#__PURE__*/_jsx(\"div\",{className:\"show-12month\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-1\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-5\",children:/*#__PURE__*/_jsx(CMSDatePicker,{value:chartParams.start_date,inputId:\"start_12month\",format:\"MM/yyyy\",dateFormat:\"MM/yyyy\",inputClass:\"form-control\",inputName:\"start_date\",maxDate:chartParams.max_start_date,handleChange:this.handleInputDateChange.bind(this),maxLength:20,showIconCalendar:false,showCustomMonth:true,showMonthYearPicker:true,showFullMonthYearPicker:true,showTwoColumnMonthYearPicker:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-1 line-date text-center\",children:/*#__PURE__*/_jsx(\"span\",{children:\" - \"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-5\",children:/*#__PURE__*/_jsx(CMSDatePicker,{value:chartParams.end_date,inputId:\"end_12month\",format:\"MM/yyyy\",dateFormat:\"MM/yyyy\",inputClass:\"form-control\",inputName:\"end_date\",maxDate:chartParams.max_date,handleChange:this.handleInputDateChange.bind(this),maxLength:20,showIconCalendar:false,showCustomMonth:true,showMonthYearPicker:true,showFullMonthYearPicker:true,showTwoColumnMonthYearPicker:true})})]})});break;}}return/*#__PURE__*/_jsxs(\"div\",{id:\"main-chart-view\",className:\"chart-view chart-diagnostics\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"list-parameter\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"title\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Devices\"}),/*#__PURE__*/_jsx(\"div\",{className:\"list-device\",children:/*#__PURE__*/_jsx(\"ul\",{children:Libs.isArrayData(dataListDevice)?dataListDevice.map(function(item,index){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(RCheckbox,{inputId:\"device_\"+index,inputName:\"device_\"+index,labelClass:\"no-label\",checked:item.is_checked,onChange:function onChange(e){_this.handleDeviceInputChange(e,index);},label:item.name})},index);}):\"\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"main-chart-view\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"box-chart\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"chart-filter\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-2 col-lg-2 col-md-2\",children:/*#__PURE__*/_jsx(FormReactSelect,{instanceId:\"type_diagnostics\",className:\"type_diagnostics\",name:\"type_diagnostics\",value:dataDiagnostics.filter(function(item){return item.id===curItem.type_diagnostics;}),onChange:function onChange(e){_this.handleDropdownChange(e,'type_diagnostics');},optionList:dataDiagnostics,placeHolder:t('common.choose')})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-2 col-lg-2 col-md-2\",children:/*#__PURE__*/_jsx(FormReactSelect,{instanceId:\"type_string_index\",className:\"type_string_index\",name:\"type_string_index\",value:dataStringIndex.filter(function(item){return item.id===curItem.type_string_index;}),onChange:function onChange(e){_this.handleDropdownChange(e,'type_string_index');},optionList:dataStringIndex,placeHolder:t('common.choose')})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-xl-8 col-lg-8 col-md-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:chartParams.show_filter?\"filter on\":\"filter\",children:[chartParams.id_filter=='today'?/*#__PURE__*/_jsx(\"div\",{className:\"filter-raw\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"main-raw\",children:[/*#__PURE__*/_jsx(\"span\",{onClick:curItem.data_send_time!=2?this.changeViewMinute.bind(this,1):'',className:curItem.data_send_time!=1?\"disabled\":chartParams.data_send_time==1?\"active\":\"\",children:\"5 Minutes\"}),/*#__PURE__*/_jsx(\"span\",{onClick:this.changeViewMinute.bind(this,2),className:chartParams.data_send_time==2?\"active\":\"\",children:\"15 Minutes\"}),/*#__PURE__*/_jsx(\"span\",{onClick:this.changeViewMinute.bind(this,3),className:chartParams.data_send_time==3?\"active\":\"\",children:\"1 hour\"})]})}):\"\",/*#__PURE__*/_jsxs(\"a\",{ref:this.wrapperRef,onClick:this.onClickShowFilter.bind(this),className:\"view\",children:[chartParams.text_filter,\" \",/*#__PURE__*/_jsx(\"span\",{className:\"icon-down-open-big\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"filter-dropdown\",children:itemFilters})]}),/*#__PURE__*/_jsx(\"div\",{className:\"time-filter\",children:itemTimes})]})]})}),/*#__PURE__*/_jsx(\"div\",{ref:this.myRef,className:\"chart-content\",children:!Libs.isObjectEmpty(chartToolOption)?/*#__PURE__*/_jsx(HighchartsReact,{highcharts:Highcharts,allowChartUpdate:true,immutable:true,options:chartToolOption}):\"\"})]})})]});};","map":{"version":3,"sources":["/Volumes/Data/sources/solarmon_production/solarmon_frontend/src/containers/views/desktop/ModulePrivate/Analytics/ChartDeviceDiagnostics/ChartDeviceDiagnostics.jsx"],"names":["React","Libs","FormReactSelect","CMSDatePicker","RCheckbox","Highcharts","HighchartsReact","HighchartsExporting","bellcurve","ChartDeviceDiagnostics","t","props","state","curItem","dataListDevice","chartParams","dataFilter","chartToolOption","dataDiagnostics","dataStringIndex","itemFilters","isArrayData","map","item","index","onClickFilter","bind","id","id_filter","text","itemTimes","isObjectEmpty","end_date","max_date","handleInputDateChange","start_date","start_max_date","max_start_date","is_checked","e","handleDeviceInputChange","name","filter","type_diagnostics","handleDropdownChange","type_string_index","show_filter","data_send_time","changeViewMinute","wrapperRef","onClickShowFilter","text_filter","myRef"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Libs from '../../../../../../utils/Libs';\nimport FormReactSelect from '../../../../../../components/FormReactSelect';\nimport CMSDatePicker from '../../../../../../components/CMSDatePicker/CMSDatePicker';\nimport { RCheckbox } from '../../../../../../components/Controls';\nimport './ChartDeviceDiagnostics.scss';\nimport Highcharts from 'highcharts';\nimport HighchartsReact from 'highcharts-react-official';\nimport HighchartsExporting from 'highcharts/modules/exporting';\nimport bellcurve from \"highcharts/modules/histogram-bellcurve\";\nbellcurve(Highcharts);\nif (typeof Highcharts === 'object') {\n    HighchartsExporting(Highcharts)\n}\n\n\nexport default function ChartDeviceDiagnostics() {\n    const { t } = this.props;\n    var { curItem, dataListDevice, chartParams, dataFilter, chartToolOption, dataDiagnostics, dataStringIndex} = this.state;\n\n\n    var itemFilters = null;\n    if (Libs.isArrayData(dataFilter)) {\n        itemFilters = dataFilter.map((item, index) => {\n            return <a key={index} onClick={this.onClickFilter.bind(this, item.id)} className={item.id == chartParams.id_filter ? \"item active\" : \"item\"}>{item.text}</a>\n        })\n    }\n\n    var itemTimes = null;\n    if (!Libs.isObjectEmpty(chartParams)) {\n        switch (chartParams.id_filter) {\n            case 'today':\n                itemTimes = <div>\n                    <CMSDatePicker\n                        value={chartParams.end_date}\n                        inputId=\"today\"\n                        format=\"MM/DD/YYYY\"\n                        dateFormat=\"dd/MM/yyyy\"\n                        inputClass=\"form-control\"\n                        inputName=\"end_date\"\n                        maxDate={chartParams.max_date}\n                        handleChange={this.handleInputDateChange.bind(this)}\n                        maxLength={20}\n                        showIconCalendar={true}\n                    />\n                </div>\n                break;\n            case '3_day':\n                itemTimes = <div className=\"show-3day\">\n                    <div className=\"row\">\n                        <div className=\"col-md-1\"></div>\n                        <div className=\"col-md-5\">\n                            <CMSDatePicker\n                                value={chartParams.start_date}\n                                inputId=\"start_3day\"\n                                format=\"DD/MM/YYYY\"\n                                dateFormat=\"dd/MM/yyyy\"\n                                inputClass=\"form-control\"\n                                inputName=\"start_date\"\n                                maxDate={chartParams.start_max_date}\n                                handleChange={this.handleInputDateChange.bind(this)}\n                                maxLength={20}\n                                showIconCalendar={false}\n                            />\n                        </div>\n                        <div className=\"col-md-1 line-date text-center\">\n                            <span> - </span>\n                        </div>\n                        <div className=\"col-md-5\">\n                            <CMSDatePicker\n                                value={chartParams.end_date}\n                                inputId=\"end_3day\"\n                                format=\"DD/MM/YYYY\"\n                                dateFormat=\"dd/MM/yyyy\"\n                                inputClass=\"form-control\"\n                                inputName=\"end_date\"\n                                maxDate={chartParams.max_date}\n                                handleChange={this.handleInputDateChange.bind(this)}\n                                maxLength={20}\n                                showIconCalendar={false}\n                            />\n                        </div>\n                    </div>\n                </div>\n                break;\n            case 'last_month':\n            case 'this_month':\n                itemTimes = <div>\n                    <CMSDatePicker\n                        value={chartParams.end_date}\n                        inputId=\"this_month\"\n                        format=\"MM/yyyy\"\n                        dateFormat=\"MM/yyyy\"\n                        inputClass=\"form-control\"\n                        inputName=\"end_date\"\n                        maxDate={chartParams.max_date}\n                        handleChange={this.handleInputDateChange.bind(this)}\n                        maxLength={20}\n                        showIconCalendar={true}\n                        showMonthYearPicker={true}\n                        showFullMonthYearPicker={true}\n                        showTwoColumnMonthYearPicker={true}\n                        showCustomMonth={false}\n                    />\n                </div>\n                break;\n            case '12_month':\n                itemTimes = <div className=\"show-12month\">\n                    <div className=\"row\">\n                        <div className=\"col-md-1\"></div>\n                        <div className=\"col-md-5\">\n                            <CMSDatePicker\n                                value={chartParams.start_date}\n                                inputId=\"start_12month\"\n                                format=\"MM/yyyy\"\n                                dateFormat=\"MM/yyyy\"\n                                inputClass=\"form-control\"\n                                inputName=\"start_date\"\n                                maxDate={chartParams.max_start_date}\n                                handleChange={this.handleInputDateChange.bind(this)}\n                                maxLength={20}\n                                showIconCalendar={false}\n                                showCustomMonth={true}\n                                showMonthYearPicker={true}\n                                showFullMonthYearPicker={true}\n                                showTwoColumnMonthYearPicker={true}\n                            />\n                        </div>\n                        <div className=\"col-md-1 line-date text-center\">\n                            <span> - </span>\n                        </div>\n                        <div className=\"col-md-5\">\n                            <CMSDatePicker\n                                value={chartParams.end_date}\n                                inputId=\"end_12month\"\n                                format=\"MM/yyyy\"\n                                dateFormat=\"MM/yyyy\"\n                                inputClass=\"form-control\"\n                                inputName=\"end_date\"\n                                maxDate={chartParams.max_date}\n                                handleChange={this.handleInputDateChange.bind(this)}\n                                maxLength={20}\n                                showIconCalendar={false}\n                                showCustomMonth={true}\n                                showMonthYearPicker={true}\n                                showFullMonthYearPicker={true}\n                                showTwoColumnMonthYearPicker={true}\n                            />\n                        </div>\n                    </div>\n                </div>\n                break;\n        }\n    }\n\n\n    return (\n        <div id=\"main-chart-view\" className=\"chart-view chart-diagnostics\">\n            <div className=\"list-parameter\">\n                <div className=\"title\">\n                    <h2>Devices</h2>\n                    <div className=\"list-device\">\n                        <ul>\n                            {Libs.isArrayData(dataListDevice) ?\n                                dataListDevice.map((item, index) => {\n                                    return (\n                                        <li key={index}>\n                                            <RCheckbox\n                                                inputId={\"device_\" + index}\n                                                inputName={\"device_\" + index}\n                                                labelClass=\"no-label\"\n                                                checked={item.is_checked}\n                                                onChange={(e) => { this.handleDeviceInputChange(e, index); }}\n                                                label={item.name}\n                                            />\n                                        </li>\n                                    );\n                                })\n                                : \"\"}\n                        </ul>\n                    </div>\n\n                </div>\n            </div>\n\n            <div className=\"main-chart-view\">\n                <div className=\"box-chart\">\n                    <div className=\"chart-filter\">\n                        <div className=\"row\">\n                            <div className=\"col-xl-2 col-lg-2 col-md-2\">\n                                <FormReactSelect\n                                    instanceId=\"type_diagnostics\"\n                                    className=\"type_diagnostics\"\n                                    name=\"type_diagnostics\"\n                                    value={dataDiagnostics.filter(function (item) { return item.id === curItem.type_diagnostics })}\n                                    onChange={(e) => { this.handleDropdownChange(e, 'type_diagnostics'); }}\n                                    optionList={dataDiagnostics}\n                                    placeHolder={t('common.choose')}\n                                />\n\n                            </div>\n\n                            <div className=\"col-xl-2 col-lg-2 col-md-2\">\n                                <FormReactSelect\n                                    instanceId=\"type_string_index\"\n                                    className=\"type_string_index\"\n                                    name=\"type_string_index\"\n                                    value={dataStringIndex.filter(function (item) { return item.id === curItem.type_string_index })}\n                                    onChange={(e) => { this.handleDropdownChange(e, 'type_string_index'); }}\n                                    optionList={dataStringIndex}\n                                    placeHolder={t('common.choose')}\n                                />\n\n\n\n                            </div>\n\n                            <div className=\"col-xl-8 col-lg-8 col-md-8\">\n                                <div className={chartParams.show_filter ? \"filter on\" : \"filter\"}>\n                                    {chartParams.id_filter == 'today' ?\n                                        <div className=\"filter-raw\">\n                                            <div className=\"main-raw\">\n                                                <span onClick={curItem.data_send_time != 2 ? this.changeViewMinute.bind(this, 1) : ''} className={curItem.data_send_time != 1 ? \"disabled\" : (chartParams.data_send_time == 1 ? \"active\" : \"\")}>5 Minutes</span>\n                                                <span onClick={this.changeViewMinute.bind(this, 2)} className={chartParams.data_send_time == 2 ? \"active\" : \"\"}>15 Minutes</span>\n                                                <span onClick={this.changeViewMinute.bind(this, 3)} className={chartParams.data_send_time == 3 ? \"active\" : \"\"}>1 hour</span>\n                                            </div>\n                                        </div>\n                                        : \"\"}\n                                    <a ref={this.wrapperRef} onClick={this.onClickShowFilter.bind(this)} className=\"view\">{chartParams.text_filter} <span className=\"icon-down-open-big\"></span></a>\n                                    <div className=\"filter-dropdown\">\n                                        {itemFilters}\n                                    </div>\n                                </div>\n\n                                <div className=\"time-filter\">\n                                    {itemTimes}\n                                </div>\n\n\n                            </div>\n                        </div>\n                    </div>\n\n\n                    <div ref={this.myRef} className=\"chart-content\">\n                        {!Libs.isObjectEmpty(chartToolOption) ? <HighchartsReact highcharts={Highcharts} allowChartUpdate={true} immutable={true} options={chartToolOption} /> : \"\"}\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};"]},"metadata":{},"sourceType":"module"}