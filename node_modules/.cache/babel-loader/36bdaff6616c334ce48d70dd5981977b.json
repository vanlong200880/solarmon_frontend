{"ast":null,"code":"import _classCallCheck from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import ReportsJsx from'./Reports.jsx';import BaseComponent from'../../../../BaseComponent';import Libs from'../../../../../utils/Libs';import{withTranslation}from'react-i18next';import ReportService from'../../../../../services/ReportService';import moment from'moment';var Reports=/*#__PURE__*/function(_BaseComponent){_inherits(Reports,_BaseComponent);var _super=_createSuper(Reports);function Reports(props,context){var _this;_classCallCheck(this,Reports);_this=_super.call(this,props,context);_this.handleDropdownChange=function(item,name){var self=_assertThisInitialized(_this);var searchParam=self.state.searchParam;if(Libs.isObjectEmpty(item)){searchParam.type='';}else{var value=item.value;searchParam[name]=value;}self.setState({searchParam:searchParam},function(){if(searchParam.type==1){self.getDataReportYear();}else{self.getDataReportMonth();}});};_this.jsxTemplate=ReportsJsx;_this.state={hash_id:!Libs.isObjectEmpty(_this.params)?_this.params.id:null,curItem:{},dataList:[],dataType:[{id:1,value:1,label:\"Year\"},{id:2,value:2,label:\"Month\"}],searchParam:{type:2,max_date:moment().format('MM/YYYY'),start_date:moment().add(-11,'M').format('MM/YYYY'),end_date:moment().format('MM/YYYY')},chartMonthOption:{},chartOptionAlarm:{},chartOption1:{},chartOption2:{}};_this.handleInputDateChange=_this.handleInputDateChange.bind(_assertThisInitialized(_this));return _this;}_createClass(Reports,[{key:\"componentDidMount\",value:function componentDidMount(){var searchParam=this.state.searchParam;if(searchParam.type==2){this.getDataReportMonth();}else{this.getDataReportYear();}}},{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){var self=this,searchParam=this.state.searchParam;if(nextProps.match.params.id!==this.props.match.params.id){this.setState({hash_id:nextProps.match.params.id},function(){if(searchParam.type==2){self.getDataReportMonth();}else{self.getDataReportYear();}});}}/**\n     * setValue method to Input\n     * @author Long.Pham 20/05/2021\n     */},{key:\"handleInputDateChange\",value:function handleInputDateChange(event){var target=event.target,self=this;var name=target.name;var value=target.value;if(target.type==='checkbox'){value=target.checked?1:0;}if(name){var searchParam=this.state.searchParam;if(searchParam.type===1){if(name==='start_date'){var startDate=value.split(\"/\");var endDate=null;if(startDate.length>0){endDate=startDate[0]+\"/01/\"+startDate[1];}if(Libs.isBlank(endDate)){return;}var dateIsAfter=moment(Libs.addMonths(endDate,11)).isAfter(moment());if(dateIsAfter){searchParam.end_date=moment().format('MM/YYYY');}else{searchParam.end_date=moment(Libs.addMonths(endDate,11)).format('MM/YYYY');}}}searchParam[name]=value;this.setState({searchParam:searchParam},function(){if(searchParam.type===1){self.getDataReportYear();}else{self.getDataReportMonth();}});}}},{key:\"getDataReportMonth\",value:function getDataReportMonth(){var _this2=this;var _this$state=this.state,hash_id=_this$state.hash_id,searchParam=_this$state.searchParam,self=this;if(Libs.isBlank(hash_id))return;var params=Object.assign({},searchParam);params.start_date='01/'+searchParam.start_date;params.end_date='01/'+searchParam.end_date;params.hash_id=hash_id;params.id_employee=this.employee.id_employee;params.id_language=this.employee.id_language;params.type='customer';ReportService.instance.getDataReportMonth(params,function(data){if(data){var chartMonthOption={credits:{enabled:false},exporting:{enabled:false},chart:{zoomType:'xy'},title:{text:null},colors:['#78c1f5','#e2a76c'],xAxis:[],yAxis:[{min:0,lineWidth:1,gridLineWidth:1,labels:{format:'{value}',enabled:true},title:{text:'kWh',enabled:true}}],tooltip:{shared:true},legend:{layout:'horizontal',align:'center',verticalAlign:'bottom',borderWidth:0,showInLegend:false,enabled:false},plotOptions:{column:{dataLabels:{enabled:true},enableMouseTracking:false}},series:[]};var dataEnergyMonth=data.dataEnergyMonth;if(Libs.isArrayData(dataEnergyMonth)){var categories=[],seriesData=[],series=[],xAxis=[];dataEnergyMonth.map(function(item,index){categories.push(parseInt(item.day));seriesData.push(item.activeEnergy);});xAxis.push({categories:categories,crosshair:true});series.push({name:'',type:'column',data:seriesData,tooltip:{valueSuffix:' kWh'}});chartMonthOption.xAxis=xAxis;chartMonthOption.series=series;}_this2.setState({curItem:data,chartMonthOption:chartMonthOption},function(){self.forceUpdate();});}},false);}},{key:\"getDataReportYear\",value:function getDataReportYear(){var _this3=this;var _this$state2=this.state,hash_id=_this$state2.hash_id,searchParam=_this$state2.searchParam,chartOptionAlarm=_this$state2.chartOptionAlarm,self=this;var t=this.props.t;if(Libs.isBlank(hash_id))return;var params=Object.assign({},searchParam);// if (searchParam.type == 1) {\n//     params.start_date = searchParam.start_date;\n//     params.end_date = searchParam.end_date;\n// }\nparams.start_date='01/'+searchParam.start_date;params.end_date='01/'+searchParam.end_date;// params.start_date = '01/07/2021';\n// params.end_date = '30/10/2021';\nparams.hash_id=hash_id;params.id_employee=this.employee.id_employee;params.id_language=this.employee.id_language;params.type='customer';ReportService.instance.getDataReportYear(params,function(data){if(data){var dataAlarms=data.dataAlarms;var chartOptionAlarm={credits:{enabled:false},exporting:{enabled:false},chart:{zoomType:'xy',height:340},title:{text:null},colors:['#f5893b','#66bc51','#004ec3'],xAxis:[],yAxis:[{min:0,lineWidth:1,gridLineWidth:1,labels:{format:'{value}',enabled:true},title:{text:'kWh',enabled:false}}],tooltip:{shared:true},legend:{layout:'horizontal',align:'center',verticalAlign:'bottom',borderWidth:0,showInLegend:false},plotOptions:{stacking:'normal',spline:{dataLabels:{enabled:true},enableMouseTracking:false}},series:[]};var chartOption1={credits:{enabled:false},exporting:{enabled:false},chart:{zoomType:'xy',height:340},title:{text:null},colors:['#78c1f5','#f58634'],xAxis:[],yAxis:[{min:0,lineWidth:1,gridLineWidth:1,labels:{format:'{value}',enabled:true},title:{text:t('report.energy_yield'),enabled:false}},{// Secondary yAxis\ntitle:{text:t('report.PVSyst_energy_yield'),enabled:false},labels:{format:'{value}'},opposite:true}],tooltip:{// shared: true\n},legend:{layout:'horizontal',align:'center',verticalAlign:'bottom',borderWidth:0,showInLegend:false},plotOptions:{stacking:'normal',line:{dataLabels:{enabled:true},enableMouseTracking:false},column:{dataLabels:{enabled:true,rotation:270,x:0,y:100,style:{fontSize:\"8px\"}},enableMouseTracking:false}},series:[]};var chartOption2={credits:{enabled:false},exporting:{enabled:false},chart:{zoomType:'xy',height:340},title:{text:null},colors:['#78c1f5','#f58634'],xAxis:[{categories:['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],crosshair:true}],yAxis:[{min:0,lineWidth:1,gridLineWidth:1,labels:{format:'{value}',enabled:true},title:{text:t('report.energy_yield'),enabled:false}},{// Secondary yAxis\ntitle:{text:t('report.PVSyst_energy_yield'),enabled:false},labels:{format:'{value}'},opposite:true}],tooltip:{shared:true},legend:{layout:'horizontal',align:'center',verticalAlign:'bottom',borderWidth:0,showInLegend:false},series:[]};if(Libs.isArrayData(dataAlarms)){var dataItem=[],categories=[],series=[],xAxis=[];for(var i=0,len=dataAlarms.length;i<len;i++){categories.push(dataAlarms[i].time_full);dataItem.push([dataAlarms[i].time_full,dataAlarms[i].total_alarm]);}xAxis.push({categories:categories,crosshair:true});series.push({name:'Alarms',type:'spline',data:dataItem,tooltip:{valueSuffix:''}});chartOptionAlarm.xAxis=xAxis;chartOptionAlarm.series=series;}else{chartOptionAlarm.xAxis=[];chartOptionAlarm.series=[];data.dataAlarms=[];}var dataEnergyMonth=data.dataEnergyMonth;var seriesRowET1=[],seriesRow1=[],series1=[],categories1=[],xAxis1=[];var seriesRowET2=[],seriesRow2=[],series2=[],categories2=[],xAxis2=[];if(Libs.isArrayData(dataEnergyMonth)){for(var i=0,len=dataEnergyMonth.length;i<len;i++){categories1.push(dataEnergyMonth[i].time_full);seriesRowET1.push([dataEnergyMonth[i].time_full,dataEnergyMonth[i].estimate_energy]);seriesRow1.push([dataEnergyMonth[i].time_full,dataEnergyMonth[i].activeEnergy]);categories2.push(dataEnergyMonth[i].time_full);seriesRowET2.push([dataEnergyMonth[i].time_full,dataEnergyMonth[i].sum_estimate_energy==0?null:dataEnergyMonth[i].sum_estimate_energy]);seriesRow2.push([dataEnergyMonth[i].time_full,dataEnergyMonth[i].sum_activeEnergy==0?null:dataEnergyMonth[i].sum_activeEnergy]);}xAxis1.push({categories:categories1,crosshair:true});series1.push({name:t('report.PVSyst_energy_yield')+' (kWh)',type:'column',zIndex:1,data:seriesRowET1,tooltip:{valueSuffix:'kWh'},dataLabels:{enabled:true,rotation:-90,color:'#000',align:'center',format:'{point.y}',y:20,style:{fontSize:'8px',fontFamily:'Verdana, sans-serif'}}});series1.push({name:t('report.energy_yield')+' (kWh)',type:'column',yAxis:0,zIndex:2,data:seriesRow1,tooltip:{valueSuffix:' kWh'},dataLabels:{enabled:true,rotation:-90,color:'#000',align:'center',format:'{point.y}',y:20,style:{fontSize:'8px',fontFamily:'Verdana, sans-serif'}}});chartOption1.series=series1;chartOption1.xAxis=xAxis1;xAxis2.push({categories:categories2,crosshair:true});series2.push({name:t('report.PVSyst_energy_yield')+' (kWh)',type:'column',zIndex:2,data:seriesRowET2,tooltip:{valueSuffix:'kWh'},dataLabels:{enabled:true,rotation:-90,color:'#000',align:'center',format:'{point.y}',y:20,style:{fontSize:'8px',fontFamily:'Verdana, sans-serif'}}});series2.push({name:t('report.energy_yield')+' (kWh)',type:'column',yAxis:0,zIndex:1,data:seriesRow2,tooltip:{valueSuffix:' kWh'},dataLabels:{enabled:true,rotation:-90,color:'#000',align:'center',format:'{point.y}',y:20,style:{fontSize:'8px',fontFamily:'Verdana, sans-serif'}}});chartOption2.series=series2;chartOption2.xAxis=xAxis2;}else{data.dataEnergyMonth=[];}_this3.setState({curItem:data,chartOptionAlarm:chartOptionAlarm,chartOption1:chartOption1,chartOption2:chartOption2},function(){});}},false);}},{key:\"render\",value:function render(){return this.jsxTemplate.call(this);}}]);return Reports;}(BaseComponent);var HighOrderComponentTranslated=withTranslation('common')(Reports);export default HighOrderComponentTranslated;","map":{"version":3,"sources":["/Volumes/Data/sources/solarmon_production/solarmon_frontend/src/containers/views/desktop/ModuleProject/Reports/Reports.js"],"names":["ReportsJsx","BaseComponent","Libs","withTranslation","ReportService","moment","Reports","props","context","handleDropdownChange","item","name","self","searchParam","state","isObjectEmpty","type","value","setState","getDataReportYear","getDataReportMonth","jsxTemplate","hash_id","params","id","curItem","dataList","dataType","label","max_date","format","start_date","add","end_date","chartMonthOption","chartOptionAlarm","chartOption1","chartOption2","handleInputDateChange","bind","nextProps","match","event","target","checked","startDate","split","endDate","length","isBlank","dateIsAfter","addMonths","isAfter","Object","assign","id_employee","employee","id_language","instance","data","credits","enabled","exporting","chart","zoomType","title","text","colors","xAxis","yAxis","min","lineWidth","gridLineWidth","labels","tooltip","shared","legend","layout","align","verticalAlign","borderWidth","showInLegend","plotOptions","column","dataLabels","enableMouseTracking","series","dataEnergyMonth","isArrayData","categories","seriesData","map","index","push","parseInt","day","activeEnergy","crosshair","valueSuffix","forceUpdate","t","dataAlarms","height","stacking","spline","opposite","line","rotation","x","y","style","fontSize","dataItem","i","len","time_full","total_alarm","seriesRowET1","seriesRow1","series1","categories1","xAxis1","seriesRowET2","seriesRow2","series2","categories2","xAxis2","estimate_energy","sum_estimate_energy","sum_activeEnergy","zIndex","color","fontFamily","call","HighOrderComponentTranslated"],"mappings":"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","sourcesContent":["import ReportsJsx from './Reports.jsx';\nimport BaseComponent from '../../../../BaseComponent';\nimport Libs from '../../../../../utils/Libs';\nimport { withTranslation } from 'react-i18next';\nimport ReportService from '../../../../../services/ReportService';\nimport moment from 'moment';\n\nclass Reports extends BaseComponent {\n\n    constructor(props, context) {\n        super(props, context);\n        this.jsxTemplate = ReportsJsx;\n        this.state = {\n            hash_id: !Libs.isObjectEmpty(this.params) ? this.params.id : null,\n            curItem: {},\n            dataList: [],\n            dataType: [\n                {\n                    id: 1,\n                    value: 1,\n                    label: \"Year\"\n                },\n                {\n                    id: 2,\n                    value: 2,\n                    label: \"Month\"\n                }\n            ],\n\n            searchParam: {\n                type: 2,\n                max_date: moment().format('MM/YYYY'),\n                start_date: moment().add(-11, 'M').format('MM/YYYY'),\n                end_date: moment().format('MM/YYYY')\n            },\n            chartMonthOption: {},\n            chartOptionAlarm: {},\n            chartOption1: {},\n            chartOption2: {}\n        };\n\n        this.handleInputDateChange = this.handleInputDateChange.bind(this);\n\n    }\n\n    componentDidMount() {\n        var { searchParam } = this.state;\n        if (searchParam.type == 2) {\n            this.getDataReportMonth();\n        } else {\n            this.getDataReportYear();\n        }\n\n    }\n\n    componentWillReceiveProps(nextProps) {\n        let self = this, searchParam = this.state.searchParam;\n        if (nextProps.match.params.id !== this.props.match.params.id) {\n            this.setState({\n                hash_id: nextProps.match.params.id\n            }, () => {\n                if (searchParam.type == 2) {\n                    self.getDataReportMonth();\n                } else {\n                    self.getDataReportYear();\n                }\n            });\n        }\n    }\n\n    /**\n     * setValue method to Input\n     * @author Long.Pham 20/05/2021\n     */\n    handleInputDateChange(event) {\n        let target = event.target, self = this;\n        let name = target.name;\n        let value = target.value;\n        if (target.type === 'checkbox') {\n            value = target.checked ? 1 : 0;\n        }\n\n        if (name) {\n            let { searchParam } = this.state;\n            if (searchParam.type === 1) {\n                if (name === 'start_date') {\n                    var startDate = value.split(\"/\");\n                    var endDate = null;\n                    if (startDate.length > 0) {\n                        endDate = startDate[0] + \"/01/\" + startDate[1];\n                    }\n                    if (Libs.isBlank(endDate)) { return }\n\n                    const dateIsAfter = moment(Libs.addMonths(endDate, 11)).isAfter(moment());\n                    if (dateIsAfter) {\n                        searchParam.end_date = moment().format('MM/YYYY');\n                    } else {\n                        searchParam.end_date = moment(Libs.addMonths(endDate, 11)).format('MM/YYYY');\n                    }\n                }\n            }\n\n            searchParam[name] = value;\n            this.setState({ searchParam }, () => {\n                if (searchParam.type === 1) {\n                    self.getDataReportYear();\n                } else {\n                    self.getDataReportMonth();\n                }\n\n            });\n        }\n    }\n\n    getDataReportMonth() {\n        var { hash_id, searchParam } = this.state, self = this;\n        if (Libs.isBlank(hash_id)) return;\n        var params = Object.assign({}, searchParam);\n        params.start_date = '01/' + searchParam.start_date;\n        params.end_date = '01/' + searchParam.end_date;\n\n        params.hash_id = hash_id;\n        params.id_employee = this.employee.id_employee;\n        params.id_language = this.employee.id_language;\n        params.type = 'customer';\n\n        ReportService.instance.getDataReportMonth(params, data => {\n            if (data) {\n                var chartMonthOption = {\n                    credits: { enabled: false },\n                    exporting: { enabled: false },\n                    chart: {\n                        zoomType: 'xy'\n                    },\n                    title: {\n                        text: null,\n\n                    },\n                    colors: ['#78c1f5', '#e2a76c'],\n                    xAxis: [],\n                    yAxis: [{\n                        min: 0,\n                        lineWidth: 1,\n                        gridLineWidth: 1,\n                        labels: {\n                            format: '{value}',\n                            enabled: true\n                        },\n                        title: {\n                            text: 'kWh',\n                            enabled: true\n                        }\n                    }],\n                    tooltip: {\n                        shared: true\n                    },\n                    legend: {\n\n                        layout: 'horizontal',\n                        align: 'center',\n                        verticalAlign: 'bottom',\n                        borderWidth: 0,\n                        showInLegend: false,\n                        enabled: false\n\n                    },\n                    plotOptions: {\n                        column: {\n                            dataLabels: {\n                                enabled: true\n                            },\n                            enableMouseTracking: false\n                        },\n                    },\n\n                    series: []\n                };\n\n                var dataEnergyMonth = data.dataEnergyMonth;\n                if (Libs.isArrayData(dataEnergyMonth)) {\n                    var categories = [], seriesData = [], series = [], xAxis = [];\n                    dataEnergyMonth.map((item, index) => {\n                        categories.push(parseInt(item.day));\n                        seriesData.push(item.activeEnergy);\n                    });\n\n                    xAxis.push(\n                        {\n                            categories: categories,\n                            crosshair: true\n                        }\n                    );\n\n                    series.push(\n                        {\n                            name: '',\n                            type: 'column',\n                            data: seriesData,\n                            tooltip: {\n                                valueSuffix: ' kWh'\n                            }\n                        }\n                    );\n\n                    chartMonthOption.xAxis = xAxis;\n                    chartMonthOption.series = series;\n                }\n\n                this.setState({\n                    curItem: data,\n                    chartMonthOption: chartMonthOption\n                }, () => {\n                    self.forceUpdate();\n                });\n            }\n        }, false);\n\n    }\n\n\n    getDataReportYear() {\n        var { hash_id, searchParam, chartOptionAlarm } = this.state, self = this;\n        var { t } = this.props;\n        if (Libs.isBlank(hash_id)) return;\n        var params = Object.assign({}, searchParam);\n        // if (searchParam.type == 1) {\n        //     params.start_date = searchParam.start_date;\n        //     params.end_date = searchParam.end_date;\n        // }\n\n        params.start_date = '01/' + searchParam.start_date;\n        params.end_date = '01/' + searchParam.end_date;\n\n        // params.start_date = '01/07/2021';\n        // params.end_date = '30/10/2021';\n\n        params.hash_id = hash_id;\n        params.id_employee = this.employee.id_employee;\n        params.id_language = this.employee.id_language;\n        params.type = 'customer';\n\n        ReportService.instance.getDataReportYear(params, data => {\n            if (data) {\n                var dataAlarms = data.dataAlarms;\n                var chartOptionAlarm = {\n                    credits: { enabled: false },\n                    exporting: { enabled: false },\n                    chart: {\n                        zoomType: 'xy',\n                        height: 340\n                    },\n                    title: {\n                        text: null,\n\n                    },\n                    colors: ['#f5893b', '#66bc51', '#004ec3'],\n                    xAxis: [],\n                    yAxis: [{\n                        min: 0,\n                        lineWidth: 1,\n                        gridLineWidth: 1,\n                        labels: {\n                            format: '{value}',\n                            enabled: true\n                        },\n                        title: {\n                            text: 'kWh',\n                            enabled: false\n                        }\n                    }],\n                    tooltip: {\n                        shared: true\n                    },\n                    legend: {\n\n                        layout: 'horizontal',\n                        align: 'center',\n                        verticalAlign: 'bottom',\n                        borderWidth: 0,\n                        showInLegend: false\n\n                    },\n\n                    plotOptions: {\n                        stacking: 'normal',\n                        spline: {\n                            dataLabels: {\n                                enabled: true\n                            },\n                            enableMouseTracking: false\n                        },\n                    },\n\n                    series: []\n                };\n\n                var chartOption1 = {\n                    credits: { enabled: false },\n                    exporting: { enabled: false },\n                    chart: {\n                        zoomType: 'xy',\n                        height: 340\n                    },\n                    title: {\n                        text: null,\n\n                    },\n                    colors: ['#78c1f5', '#f58634'],\n                    xAxis: [],\n                    yAxis: [{\n                        min: 0,\n                        lineWidth: 1,\n                        gridLineWidth: 1,\n                        labels: {\n                            format: '{value}',\n                            enabled: true\n                        },\n                        title: {\n                            text: t('report.energy_yield'),\n                            enabled: false\n                        }\n                    }, { // Secondary yAxis\n\n                        title: {\n                            text: t('report.PVSyst_energy_yield'),\n                            enabled: false\n                        },\n                        labels: {\n                            format: '{value}',\n                        },\n                        opposite: true\n                    }],\n                    tooltip: {\n                        // shared: true\n                    },\n                    legend: {\n\n                        layout: 'horizontal',\n                        align: 'center',\n                        verticalAlign: 'bottom',\n                        borderWidth: 0,\n                        showInLegend: false\n\n                    },\n                    plotOptions: {\n                        stacking: 'normal',\n                        line: {\n                            dataLabels: {\n                                enabled: true\n                            },\n                            enableMouseTracking: false\n                        },\n\n                        column: {\n                            dataLabels: {\n                                enabled: true,\n                                rotation: 270,\n                                x: 0,\n                                y: 100,\n                                style: {\n                                    fontSize: \"8px\"\n                                }\n                            },\n                            enableMouseTracking: false\n                        },\n                    },\n\n                    series: []\n                };\n\n                var chartOption2 = {\n                    credits: { enabled: false },\n                    exporting: { enabled: false },\n                    chart: {\n                        zoomType: 'xy',\n                        height: 340\n                    },\n                    title: {\n                        text: null,\n\n                    },\n                    colors: ['#78c1f5', '#f58634'],\n                    xAxis: [{\n                        categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',\n                            'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n                        crosshair: true\n                    }],\n                    yAxis: [{\n                        min: 0,\n                        lineWidth: 1,\n                        gridLineWidth: 1,\n                        labels: {\n                            format: '{value}',\n                            enabled: true\n                        },\n                        title: {\n                            text: t('report.energy_yield'),\n                            enabled: false\n                        }\n                    }, { // Secondary yAxis\n\n                        title: {\n                            text: t('report.PVSyst_energy_yield'),\n                            enabled: false\n                        },\n                        labels: {\n                            format: '{value}',\n                        },\n                        opposite: true\n                    }],\n                    tooltip: {\n                        shared: true\n                    },\n                    legend: {\n\n                        layout: 'horizontal',\n                        align: 'center',\n                        verticalAlign: 'bottom',\n                        borderWidth: 0,\n                        showInLegend: false\n\n                    },\n\n                    series: []\n                };\n\n                if (Libs.isArrayData(dataAlarms)) {\n                    var dataItem = [], categories = [], series = [], xAxis = [];\n                    for (var i = 0, len = dataAlarms.length; i < len; i++) {\n                        categories.push(dataAlarms[i].time_full);\n                        dataItem.push([dataAlarms[i].time_full, dataAlarms[i].total_alarm]);\n                    }\n\n                    xAxis.push(\n                        {\n                            categories: categories,\n                            crosshair: true\n                        }\n                    );\n\n                    series.push({\n                        name: 'Alarms',\n                        type: 'spline',\n                        data: dataItem,\n                        tooltip: {\n                            valueSuffix: ''\n                        }\n                    });\n\n                    chartOptionAlarm.xAxis = xAxis;\n                    chartOptionAlarm.series = series;\n                } else {\n                    chartOptionAlarm.xAxis = [];\n                    chartOptionAlarm.series = [];\n                    data.dataAlarms = [];\n                }\n\n\n                var dataEnergyMonth = data.dataEnergyMonth;\n                var seriesRowET1 = [], seriesRow1 = [], series1 = [], categories1 = [], xAxis1 = [];\n                var seriesRowET2 = [], seriesRow2 = [], series2 = [], categories2 = [], xAxis2 = [];\n                if (Libs.isArrayData(dataEnergyMonth)) {\n\n                    for (var i = 0, len = dataEnergyMonth.length; i < len; i++) {\n                        categories1.push(dataEnergyMonth[i].time_full);\n                        seriesRowET1.push([dataEnergyMonth[i].time_full, dataEnergyMonth[i].estimate_energy]);\n                        seriesRow1.push([dataEnergyMonth[i].time_full, dataEnergyMonth[i].activeEnergy]);\n\n                        categories2.push(dataEnergyMonth[i].time_full);\n                        seriesRowET2.push([dataEnergyMonth[i].time_full, dataEnergyMonth[i].sum_estimate_energy == 0 ? null : dataEnergyMonth[i].sum_estimate_energy]);\n                        seriesRow2.push([dataEnergyMonth[i].time_full, dataEnergyMonth[i].sum_activeEnergy == 0 ? null : dataEnergyMonth[i].sum_activeEnergy]);\n                    }\n\n                    xAxis1.push({\n                        categories: categories1,\n                        crosshair: true\n                    });\n\n                    series1.push({\n                        name: t('report.PVSyst_energy_yield') +' (kWh)',\n                        type: 'column',\n                        zIndex: 1,\n                        data: seriesRowET1,\n                        tooltip: {\n                            valueSuffix: 'kWh'\n                        },\n                        dataLabels: {\n                            enabled: true,\n                            rotation: -90,\n                            color: '#000',\n                            align: 'center',\n                            format: '{point.y}',\n                            y: 20,\n                            style: {\n                                fontSize: '8px',\n                                fontFamily: 'Verdana, sans-serif'\n                            }\n                        }\n                    });\n\n                    series1.push({\n                        name: t('report.energy_yield') + ' (kWh)',\n                        type: 'column',\n                        yAxis: 0,\n                        zIndex: 2,\n                        data: seriesRow1,\n                        tooltip: {\n                            valueSuffix: ' kWh'\n                        },\n                        dataLabels: {\n                            enabled: true,\n                            rotation: -90,\n                            color: '#000',\n                            align: 'center',\n                            format: '{point.y}',\n                            y: 20,\n                            style: {\n                                fontSize: '8px',\n                                fontFamily: 'Verdana, sans-serif'\n                            }\n                        }\n                    });\n                    chartOption1.series = series1;\n                    chartOption1.xAxis = xAxis1;\n\n                    xAxis2.push({\n                        categories: categories2,\n                        crosshair: true\n                    });\n\n                    series2.push({\n                        name: t('report.PVSyst_energy_yield') +' (kWh)',\n                        type: 'column',\n                        zIndex: 2,\n                        data: seriesRowET2,\n                        tooltip: {\n                            valueSuffix: 'kWh'\n                        },\n                        dataLabels: {\n                            enabled: true,\n                            rotation: -90,\n                            color: '#000',\n                            align: 'center',\n                            format: '{point.y}',\n                            y: 20,\n                            style: {\n                                fontSize: '8px',\n                                fontFamily: 'Verdana, sans-serif'\n                            }\n                        }\n                    });\n\n                    series2.push({\n                        name: t('report.energy_yield') +' (kWh)',\n                        type: 'column',\n                        yAxis: 0,\n                        zIndex: 1,\n                        data: seriesRow2,\n                        tooltip: {\n                            valueSuffix: ' kWh'\n                        },\n                        dataLabels: {\n                            enabled: true,\n                            rotation: -90,\n                            color: '#000',\n                            align: 'center',\n                            format: '{point.y}',\n                            y: 20,\n                            style: {\n                                fontSize: '8px',\n                                fontFamily: 'Verdana, sans-serif'\n                            }\n                        }\n                    });\n\n                    chartOption2.series = series2;\n                    chartOption2.xAxis = xAxis2;\n\n                } else {\n                    data.dataEnergyMonth = [];\n                }\n                this.setState({\n                    curItem: data,\n                    chartOptionAlarm: chartOptionAlarm,\n                    chartOption1: chartOption1,\n                    chartOption2: chartOption2\n                }, () => {\n\n                });\n            }\n        }, false);\n    }\n\n\n\n\n    handleDropdownChange = (item, name) => {\n        var self = this;\n        let searchParam = self.state.searchParam;\n\n        if (Libs.isObjectEmpty(item)) {\n            searchParam.type = '';\n        } else {\n            var value = item.value;\n            searchParam[name] = value;\n        }\n\n        self.setState({\n            searchParam: searchParam\n        }, () => {\n            if (searchParam.type == 1) {\n                self.getDataReportYear();\n            } else {\n                self.getDataReportMonth();\n            }\n\n        });\n    }\n\n\n    render() {\n        return this.jsxTemplate.call(this)\n    }\n}\n\nconst HighOrderComponentTranslated = withTranslation('common')(Reports)\nexport default HighOrderComponentTranslated;"]},"metadata":{},"sourceType":"module"}