{"ast":null,"code":"import _classCallCheck from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import ReactTooltip from'react-tooltip';import Constants from'../../../../../utils/Constants';import Libs from'../../../../../utils/Libs';import Auth from'../../../../../utils/Auth';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RowItem=/*#__PURE__*/function(_Component){_inherits(RowItem,_Component);var _super=_createSuper(RowItem);function RowItem(){var _this;_classCallCheck(this,RowItem);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.onClickViewDevice=function(){if(!_this.props.onClickViewDevice||typeof _this.props.onClickViewDevice!=='function')return;_this.props.onClickViewDevice(_this.props.index);return;};_this.onClickChartDevice=function(){if(!_this.props.onClickViewDevice||typeof _this.props.onClickChartDevice!=='function')return;_this.props.onClickChartDevice(_this.props.index);return;};_this.viewAlertDevice=function(){if(!_this.props.viewAlertDevice||typeof _this.props.viewAlertDevice!=='function')return;_this.props.viewAlertDevice(_this.props.index);return;};return _this;}_createClass(RowItem,[{key:\"render\",value:function render(){var _this2=this;var item=this.props.dataItem;var t=this.props.t;var alerts=item.alerts;console.log(item);return/*#__PURE__*/_jsxs(\"div\",{className:\"body-row\",children:[/*#__PURE__*/_jsx(ReactTooltip,{}),/*#__PURE__*/_jsx(\"div\",{style:{width:\"100px\"},className:\"body-col width5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"device-status text-center\",children:Libs.isArrayData(alerts)?alerts.map(function(v,i){return/*#__PURE__*/_jsxs(\"a\",{onClick:_this2.viewAlertDevice.bind(_this2),\"data-tip\":v.name,\"data-type\":\"warning\",\"data-class\":\"tooltip-action\",children:[/*#__PURE__*/_jsx(\"img\",{src:Constants.SERVER_DATA+\"/\"+v.thumbnail}),/*#__PURE__*/_jsx(\"span\",{className:\"count-alert\",children:v.total_alert})]},i);}):/*#__PURE__*/_jsx(\"a\",{onClick:this.viewAlertDevice.bind(this),children:item.id_device_type==1?/*#__PURE__*/_jsx(\"img\",{src:item.power_now>0&&item.id_device_type==1?\"/greencheck.png\":\"/off.png\"}):/*#__PURE__*/_jsx(\"img\",{src:\"/greencheck.png\"})})})}),/*#__PURE__*/_jsx(\"div\",{style:{width:\"150px\"},className:\"body-col width10 text-break\",children:/*#__PURE__*/_jsx(\"p\",{style:{cursor:\"pointer\"},onClick:this.onClickViewDevice.bind(this),children:/*#__PURE__*/_jsx(\"strong\",{children:item.name})})}),/*#__PURE__*/_jsx(\"div\",{style:{width:\"150px\"},className:\"body-col width10 text-break\",children:/*#__PURE__*/_jsxs(\"p\",{children:[item.model,\" \"]})}),/*#__PURE__*/_jsx(\"div\",{style:{width:\"250px\"},className:\"body-col width15 text-break\",children:/*#__PURE__*/_jsx(\"p\",{children:item.serial_number})}),/*#__PURE__*/_jsx(\"div\",{style:{width:\"150px\"},className:\"body-col width10 text-break\",children:/*#__PURE__*/_jsx(\"p\",{children:item.device_type_name})}),/*#__PURE__*/_jsx(\"div\",{style:{width:\"150px\"},className:\"body-col width10\",children:!Libs.isBlank(item.power_now)?/*#__PURE__*/_jsxs(\"p\",{children:[Libs.formatNum(item.power_now,'#,###.##'),\" kW\"]}):\"\"}),/*#__PURE__*/_jsx(\"div\",{style:{width:\"150px\"},className:\"body-col width10\",children:!Libs.isBlank(item.energy_today)?/*#__PURE__*/_jsxs(\"p\",{children:[Libs.formatNum(item.energy_today,'#,###.##'),\" kWh\"]}):\"\"}),/*#__PURE__*/_jsx(\"div\",{style:{width:\"150px\"},className:\"body-col width10\",children:!Libs.isBlank(item.last_month)?/*#__PURE__*/_jsxs(\"p\",{children:[Libs.formatNum(item.last_month,'#,###.##'),\" kWh\"]}):\"\"}),/*#__PURE__*/_jsx(\"div\",{style:{width:\"150px\"},className:\"body-col width10\",children:!Libs.isBlank(item.lifetime)?/*#__PURE__*/_jsx(\"p\",{children:Libs.formatElectricalUnit(item.lifetime,'h')}):\"\"}),/*#__PURE__*/_jsx(\"div\",{style:{width:\"150px\"},className:\"body-col width10\",children:/*#__PURE__*/_jsx(\"p\",{children:item.last_updated})}),/*#__PURE__*/_jsx(\"div\",{style:{width:\"150px\"},className:\"body-col width10\",children:/*#__PURE__*/_jsx(\"div\",{className:\"functions\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{onClick:Auth.getPermisson(this.props.actions,Constants.AUTH_MODE.VIEW)?this.onClickChartDevice.bind(this):'',\"data-tip\":t('device.chart'),\"data-type\":\"warning\",\"data-class\":\"tooltip-action\",children:/*#__PURE__*/_jsx(\"var\",{className:\"icon-graph-bar\",\"aria-hidden\":\"true\"})}),/*#__PURE__*/_jsx(\"li\",{onClick:Auth.getPermisson(this.props.actions,Constants.AUTH_MODE.VIEW)?this.onClickViewDevice.bind(this):'',\"data-tip\":t('common.view'),\"data-type\":\"warning\",\"data-class\":\"tooltip-action\",children:/*#__PURE__*/_jsx(\"var\",{className:\"icon-eye\",\"aria-hidden\":\"true\"})})]})})})]},item.id);}}]);return RowItem;}(Component);export default RowItem;","map":{"version":3,"sources":["/Volumes/Data/sources/solarmon_production/solarmon_frontend/src/containers/views/desktop/ModulePrivate/Device/RowItem.js"],"names":["React","Component","ReactTooltip","Constants","Libs","Auth","RowItem","onClickViewDevice","props","index","onClickChartDevice","viewAlertDevice","item","dataItem","t","alerts","console","log","width","isArrayData","map","v","i","bind","name","SERVER_DATA","thumbnail","total_alert","id_device_type","power_now","cursor","model","serial_number","device_type_name","isBlank","formatNum","energy_today","last_month","lifetime","formatElectricalUnit","last_updated","getPermisson","actions","AUTH_MODE","VIEW","id"],"mappings":"wrBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,YAAP,KAAyB,eAAzB,CACA,MAAOC,CAAAA,SAAP,KAAsB,gCAAtB,CACA,MAAOC,CAAAA,IAAP,KAAiB,2BAAjB,CACA,MAAOC,CAAAA,IAAP,KAAiB,2BAAjB,C,2FAEMC,CAAAA,O,+TACFC,iB,CAAoB,UAAM,CACtB,GAAI,CAAC,MAAKC,KAAL,CAAWD,iBAAZ,EAAiC,MAAO,OAAKC,KAAL,CAAWD,iBAAlB,GAAwC,UAA7E,CAAyF,OACzF,MAAKC,KAAL,CAAWD,iBAAX,CAA6B,MAAKC,KAAL,CAAWC,KAAxC,EACA,OACH,C,OAEDC,kB,CAAqB,UAAM,CACvB,GAAI,CAAC,MAAKF,KAAL,CAAWD,iBAAZ,EAAiC,MAAO,OAAKC,KAAL,CAAWE,kBAAlB,GAAyC,UAA9E,CAA0F,OAC1F,MAAKF,KAAL,CAAWE,kBAAX,CAA8B,MAAKF,KAAL,CAAWC,KAAzC,EACA,OACH,C,OAEDE,e,CAAkB,UAAM,CACpB,GAAI,CAAC,MAAKH,KAAL,CAAWG,eAAZ,EAA+B,MAAO,OAAKH,KAAL,CAAWG,eAAlB,GAAsC,UAAzE,CAAqF,OACrF,MAAKH,KAAL,CAAWG,eAAX,CAA2B,MAAKH,KAAL,CAAWC,KAAtC,EACA,OACH,C,yDAED,iBAAS,iBACL,GAAIG,CAAAA,IAAI,CAAG,KAAKJ,KAAL,CAAWK,QAAtB,CACA,GAAQC,CAAAA,CAAR,CAAc,KAAKN,KAAnB,CAAQM,CAAR,CACA,GAAIC,CAAAA,MAAM,CAAGH,IAAI,CAACG,MAAlB,CAEAC,OAAO,CAACC,GAAR,CAAYL,IAAZ,EACA,mBACI,aAAK,SAAS,CAAC,UAAf,wBACI,KAAC,YAAD,IADJ,cAEI,YAAK,KAAK,CAAE,CAACM,KAAK,CAAE,OAAR,CAAZ,CAA+B,SAAS,CAAC,iBAAzC,uBACI,YAAK,SAAS,CAAC,2BAAf,UACKd,IAAI,CAACe,WAAL,CAAiBJ,MAAjB,EACGA,MAAM,CAACK,GAAP,CAAW,SAACC,CAAD,CAAIC,CAAJ,CAAU,CACjB,mBACI,WAAW,OAAO,CAAE,MAAI,CAACX,eAAL,CAAqBY,IAArB,CAA0B,MAA1B,CAApB,CAAqD,WAAUF,CAAC,CAACG,IAAjE,CAAuE,YAAU,SAAjF,CAA2F,aAAW,gBAAtG,wBACI,YAAK,GAAG,CAAErB,SAAS,CAACsB,WAAV,CAAwB,GAAxB,CAA8BJ,CAAC,CAACK,SAA1C,EADJ,cAEI,aAAM,SAAS,CAAC,aAAhB,UAA+BL,CAAC,CAACM,WAAjC,EAFJ,GAAQL,CAAR,CADJ,CAMH,CAPD,CADH,cAUG,UAAG,OAAO,CAAE,KAAKX,eAAL,CAAqBY,IAArB,CAA0B,IAA1B,CAAZ,UACKX,IAAI,CAACgB,cAAL,EAAuB,CAAvB,cACG,YAAK,GAAG,CAAEhB,IAAI,CAACiB,SAAL,CAAiB,CAAjB,EAAsBjB,IAAI,CAACgB,cAAL,EAAuB,CAA7C,CAAiD,iBAAjD,CAAqE,UAA/E,EADH,cAGG,YAAK,GAAG,CAAC,iBAAT,EAJR,EAXR,EADJ,EAFJ,cAyBI,YAAK,KAAK,CAAE,CAACV,KAAK,CAAE,OAAR,CAAZ,CAA+B,SAAS,CAAC,6BAAzC,uBAAuE,UAAG,KAAK,CAAE,CAAEY,MAAM,CAAE,SAAV,CAAV,CAAiC,OAAO,CAAE,KAAKvB,iBAAL,CAAuBgB,IAAvB,CAA4B,IAA5B,CAA1C,uBAA8E,wBAASX,IAAI,CAACY,IAAd,EAA9E,EAAvE,EAzBJ,cA0BI,YAAK,KAAK,CAAE,CAACN,KAAK,CAAE,OAAR,CAAZ,CAA+B,SAAS,CAAC,6BAAzC,uBAAuE,qBAAIN,IAAI,CAACmB,KAAT,OAAvE,EA1BJ,cA2BI,YAAK,KAAK,CAAE,CAACb,KAAK,CAAE,OAAR,CAAZ,CAA+B,SAAS,CAAC,6BAAzC,uBAAuE,mBAAIN,IAAI,CAACoB,aAAT,EAAvE,EA3BJ,cA4BI,YAAK,KAAK,CAAE,CAACd,KAAK,CAAE,OAAR,CAAZ,CAA+B,SAAS,CAAC,6BAAzC,uBAAuE,mBAAIN,IAAI,CAACqB,gBAAT,EAAvE,EA5BJ,cA6BI,YAAK,KAAK,CAAE,CAACf,KAAK,CAAE,OAAR,CAAZ,CAA+B,SAAS,CAAC,kBAAzC,UACK,CAACd,IAAI,CAAC8B,OAAL,CAAatB,IAAI,CAACiB,SAAlB,CAAD,cAAgC,qBAAIzB,IAAI,CAAC+B,SAAL,CAAevB,IAAI,CAACiB,SAApB,CAA+B,UAA/B,CAAJ,SAAhC,CAAyF,EAD9F,EA7BJ,cAgCI,YAAK,KAAK,CAAE,CAACX,KAAK,CAAE,OAAR,CAAZ,CAA+B,SAAS,CAAC,kBAAzC,UACK,CAACd,IAAI,CAAC8B,OAAL,CAAatB,IAAI,CAACwB,YAAlB,CAAD,cAAmC,qBAAIhC,IAAI,CAAC+B,SAAL,CAAevB,IAAI,CAACwB,YAApB,CAAkC,UAAlC,CAAJ,UAAnC,CAAgG,EADrG,EAhCJ,cAmCI,YAAK,KAAK,CAAE,CAAClB,KAAK,CAAE,OAAR,CAAZ,CAA+B,SAAS,CAAC,kBAAzC,UACK,CAACd,IAAI,CAAC8B,OAAL,CAAatB,IAAI,CAACyB,UAAlB,CAAD,cAAiC,qBAAIjC,IAAI,CAAC+B,SAAL,CAAevB,IAAI,CAACyB,UAApB,CAAgC,UAAhC,CAAJ,UAAjC,CAA4F,EADjG,EAnCJ,cAuCI,YAAK,KAAK,CAAE,CAACnB,KAAK,CAAE,OAAR,CAAZ,CAA+B,SAAS,CAAC,kBAAzC,UACK,CAACd,IAAI,CAAC8B,OAAL,CAAatB,IAAI,CAAC0B,QAAlB,CAAD,cAA+B,mBAAIlC,IAAI,CAACmC,oBAAL,CAA0B3B,IAAI,CAAC0B,QAA/B,CAAyC,GAAzC,CAAJ,EAA/B,CAAwF,EAD7F,EAvCJ,cA4CI,YAAK,KAAK,CAAE,CAACpB,KAAK,CAAE,OAAR,CAAZ,CAA+B,SAAS,CAAC,kBAAzC,uBACI,mBAAIN,IAAI,CAAC4B,YAAT,EADJ,EA5CJ,cAkDI,YAAK,KAAK,CAAE,CAACtB,KAAK,CAAE,OAAR,CAAZ,CAA+B,SAAS,CAAC,kBAAzC,uBACI,YAAK,SAAS,CAAC,WAAf,uBACI,mCACI,WAAI,OAAO,CAAEb,IAAI,CAACoC,YAAL,CAAkB,KAAKjC,KAAL,CAAWkC,OAA7B,CAAsCvC,SAAS,CAACwC,SAAV,CAAoBC,IAA1D,EAAkE,KAAKlC,kBAAL,CAAwBa,IAAxB,CAA6B,IAA7B,CAAlE,CAAuG,EAApH,CAAwH,WAAUT,CAAC,CAAC,cAAD,CAAnI,CAAqJ,YAAU,SAA/J,CAAyK,aAAW,gBAApL,uBAAqM,YAAK,SAAS,CAAC,gBAAf,CAAgC,cAAY,MAA5C,EAArM,EADJ,cAEI,WAAI,OAAO,CAAET,IAAI,CAACoC,YAAL,CAAkB,KAAKjC,KAAL,CAAWkC,OAA7B,CAAsCvC,SAAS,CAACwC,SAAV,CAAoBC,IAA1D,EAAkE,KAAKrC,iBAAL,CAAuBgB,IAAvB,CAA4B,IAA5B,CAAlE,CAAsG,EAAnH,CAAuH,WAAUT,CAAC,CAAC,aAAD,CAAlI,CAAmJ,YAAU,SAA7J,CAAuK,aAAW,gBAAlL,uBAAmM,YAAK,SAAS,CAAC,UAAf,CAA0B,cAAY,MAAtC,EAAnM,EAFJ,GADJ,EADJ,EAlDJ,GAA+BF,IAAI,CAACiC,EAApC,CADJ,CA8DH,C,qBAvFiB5C,S,EAyFtB,cAAeK,CAAAA,OAAf","sourcesContent":["import React, { Component } from 'react';\nimport ReactTooltip from 'react-tooltip';\nimport Constants from '../../../../../utils/Constants';\nimport Libs from '../../../../../utils/Libs';\nimport Auth from '../../../../../utils/Auth';\n\nclass RowItem extends Component {\n    onClickViewDevice = () => {\n        if (!this.props.onClickViewDevice || typeof this.props.onClickViewDevice !== 'function') return;\n        this.props.onClickViewDevice(this.props.index);\n        return;\n    }\n\n    onClickChartDevice = () => {\n        if (!this.props.onClickViewDevice || typeof this.props.onClickChartDevice !== 'function') return;\n        this.props.onClickChartDevice(this.props.index);\n        return;\n    }\n\n    viewAlertDevice = () => {\n        if (!this.props.viewAlertDevice || typeof this.props.viewAlertDevice !== 'function') return;\n        this.props.viewAlertDevice(this.props.index);\n        return;\n    }\n\n    render() {\n        var item = this.props.dataItem;\n        const { t } = this.props;\n        var alerts = item.alerts;\n\n        console.log(item)\n        return (\n            <div className=\"body-row\" key={item.id}>\n                <ReactTooltip />\n                <div style={{width: \"100px\"}}  className=\"body-col width5\">\n                    <div className=\"device-status text-center\">\n                        {Libs.isArrayData(alerts) ?\n                            alerts.map((v, i) => {\n                                return (\n                                    <a key={i} onClick={this.viewAlertDevice.bind(this)} data-tip={v.name} data-type=\"warning\" data-class=\"tooltip-action\">\n                                        <img src={Constants.SERVER_DATA + \"/\" + v.thumbnail} />\n                                        <span className=\"count-alert\">{v.total_alert}</span>\n                                    </a>\n                                )\n                            })\n                            :\n                            <a onClick={this.viewAlertDevice.bind(this)} >\n                                {item.id_device_type == 1 ?\n                                    <img src={item.power_now > 0 && item.id_device_type == 1 ? \"/greencheck.png\" : \"/off.png\"} />\n                                    :\n                                    <img src=\"/greencheck.png\" />}\n                            </a>\n                        }\n\n                    </div>\n\n                </div>\n                <div style={{width: \"150px\"}}  className=\"body-col width10 text-break\"><p style={{ cursor: \"pointer\" }} onClick={this.onClickViewDevice.bind(this)} ><strong>{item.name}</strong></p></div>\n                <div style={{width: \"150px\"}}  className=\"body-col width10 text-break\"><p>{item.model} </p></div>\n                <div style={{width: \"250px\"}}  className=\"body-col width15 text-break\"><p>{item.serial_number}</p></div>\n                <div style={{width: \"150px\"}}  className=\"body-col width10 text-break\"><p>{item.device_type_name}</p></div>\n                <div style={{width: \"150px\"}}  className=\"body-col width10\">\n                    {!Libs.isBlank(item.power_now) ? <p>{Libs.formatNum(item.power_now, '#,###.##')} kW</p> : \"\"}\n                </div>\n                <div style={{width: \"150px\"}}  className=\"body-col width10\">\n                    {!Libs.isBlank(item.energy_today) ? <p>{Libs.formatNum(item.energy_today, '#,###.##')} kWh</p> : \"\"}\n                </div>\n                <div style={{width: \"150px\"}}  className=\"body-col width10\">\n                    {!Libs.isBlank(item.last_month) ? <p>{Libs.formatNum(item.last_month, '#,###.##')} kWh</p> : \"\"}\n                </div>\n\n                <div style={{width: \"150px\"}}  className=\"body-col width10\">\n                    {!Libs.isBlank(item.lifetime) ? <p>{Libs.formatElectricalUnit(item.lifetime, 'h')}</p> : \"\"}\n                </div>\n\n\n                <div style={{width: \"150px\"}}  className=\"body-col width10\">\n                    <p>{item.last_updated}</p>\n                </div>\n\n\n\n                <div style={{width: \"150px\"}}  className=\"body-col width10\">\n                    <div className=\"functions\">\n                        <ul>\n                            <li onClick={Auth.getPermisson(this.props.actions, Constants.AUTH_MODE.VIEW) ? this.onClickChartDevice.bind(this) : ''} data-tip={t('device.chart')} data-type=\"warning\" data-class=\"tooltip-action\"><var className=\"icon-graph-bar\" aria-hidden=\"true\"></var></li>\n                            <li onClick={Auth.getPermisson(this.props.actions, Constants.AUTH_MODE.VIEW) ? this.onClickViewDevice.bind(this) : ''} data-tip={t('common.view')} data-type=\"warning\" data-class=\"tooltip-action\"><var className=\"icon-eye\" aria-hidden=\"true\"></var></li>\n                        </ul>\n                    </div>\n                </div>\n\n            </div>\n        );\n    }\n}\nexport default RowItem;\n"]},"metadata":{},"sourceType":"module"}