{"ast":null,"code":"var _jsxFileName = \"/Volumes/Data/sources/solarmon_production/solarmon_frontend/src/containers/views/desktop/ModuleProject/Dashboard/MapView.jsx\";\nimport React from 'react';\nimport { Paging } from '../../../../../components/Paging';\nimport Libs from '../../../../../utils/Libs';\nimport { NavLink } from 'react-router-dom';\nimport Constants from '../../../../../utils/Constants';\nimport { GoogleMap, LoadScript, Marker, InfoWindow } from '@react-google-maps/api';\nimport './MapView.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function MapView() {\n  const {\n    t\n  } = this.props;\n  var {\n    dataList,\n    showInfoWindow,\n    showIconHover\n  } = this.state;\n  var positionCenter = {\n    lat: 10.801660,\n    lng: 106.647058\n  };\n  var rowItemMaps = null;\n  var icon = \"/house-place-orange.png\";\n  var iconHover = \"/house-place.png\";\n\n  if (Libs.isArrayData(dataList)) {\n    var count = 0;\n    rowItemMaps = dataList.map((item, index) => {\n      if (!Libs.isBlank(item.lat) && !Libs.isBlank(item.lat)) {\n        if (count == 0) {\n          positionCenter.lat = parseFloat(item.lat);\n          positionCenter.lng = parseFloat(item.lng);\n        }\n\n        count++;\n        var irradiance = item.irradiance;\n        var alerts = item.alerts;\n        return /*#__PURE__*/_jsxDEV(Marker, {\n          index: index,\n          position: {\n            lat: parseFloat(item.lat),\n            lng: parseFloat(item.lng)\n          },\n          onClick: this.handleMouseOver.bind(this, item),\n          onMouseOver: this.onMouseoverMarker.bind(this, item),\n          onMouseOut: this.mouseMoveOutOfMarker.bind(this, item),\n          icon: showIconHover == item ? iconHover : icon,\n          zIndex: index,\n          children: showInfoWindow && showInfoWindow == item && /*#__PURE__*/_jsxDEV(InfoWindow, {\n            onCloseClick: this.handleMouseExit.bind(this, item),\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info-window\",\n              children: [/*#__PURE__*/_jsxDEV(NavLink, {\n                to: \"/project/\" + item.hash_id + \"/activities\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  width: \"300\",\n                  src: !Libs.isBlank(item.thumbnail) ? Constants.SERVER_DATA + \"/\" + item.thumbnail : \"/thumbnail.jpg\",\n                  alt: item.name,\n                  title: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 48,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 47,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"info-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Project name:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 53,\n                    columnNumber: 24\n                  }, this), \" \", /*#__PURE__*/_jsxDEV(NavLink, {\n                    to: \"/project/\" + item.hash_id + \"/activities\",\n                    children: item.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 53,\n                    columnNumber: 55\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 53,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Site name:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 54,\n                    columnNumber: 24\n                  }, this), \" \", item.site_name]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 54,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Address:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 55,\n                    columnNumber: 24\n                  }, this), \" \", item.address]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 55,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 56,\n                  columnNumber: 19\n                }, this), Libs.isArrayData(irradiance) ? irradiance.map((v, k) => {\n                  return /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"irradiance-item\",\n                    children: irradiance.length > 1 ? /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: [\"Irradiance\", ++k, \": \"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 64,\n                        columnNumber: 35\n                      }, this), v.irradiancePoA, \" W/m\", /*#__PURE__*/_jsxDEV(\"sup\", {\n                        className: \"sub\",\n                        children: \"2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 64,\n                        columnNumber: 90\n                      }, this), \" \", /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 64,\n                        columnNumber: 119\n                      }, this), \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 64,\n                      columnNumber: 29\n                    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Irradiance:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 66,\n                        columnNumber: 35\n                      }, this), \" \", v.irradiancePoA, \" W/m\", /*#__PURE__*/_jsxDEV(\"sup\", {\n                        className: \"sub\",\n                        children: \"2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 66,\n                        columnNumber: 85\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 66,\n                      columnNumber: 29\n                    }, this)\n                  }, k, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 62,\n                    columnNumber: 25\n                  }, this);\n                }) : /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Irradiance:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 72,\n                    columnNumber: 24\n                  }, this), \" 0 W/m\", /*#__PURE__*/_jsxDEV(\"sup\", {\n                    className: \"sub\",\n                    children: \"2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 72,\n                    columnNumber: 58\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 72,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Today:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 75,\n                    columnNumber: 22\n                  }, this), \" \", Libs.formatNum(item.energy_today, '#,###.##'), \" kWh\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Lifetime:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 76,\n                    columnNumber: 22\n                  }, this), \" \", Libs.formatNum(item.lifetime, '#,###.##'), \" kWh\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 76,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Revenue:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 77,\n                    columnNumber: 22\n                  }, this), \" \", Libs.formatNum(item.revenue, '#,###.##'), \" vn\\u0111\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 77,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 79,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Installed power:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 81,\n                    columnNumber: 22\n                  }, this), \" \", item.installed_power_client]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Commisioning date:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 82,\n                    columnNumber: 22\n                  }, this), \" \", item.commisioning_date]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 82,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Instaled date:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 83,\n                    columnNumber: 22\n                  }, this), \" \", item.installed_date]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Last updated:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 84,\n                    columnNumber: 22\n                  }, this), \" \", item.last_updated]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"project-status text-center\",\n                  children: Libs.isArrayData(alerts) ? alerts.map((v, i) => {\n                    return /*#__PURE__*/_jsxDEV(NavLink, {\n                      to: \"/project/\" + item.hash_id + \"/activities\",\n                      \"data-tip\": v.name,\n                      \"data-type\": \"warning\",\n                      \"data-class\": \"tooltip-action\",\n                      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                        src: Constants.SERVER_DATA + \"/\" + v.thumbnail\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 93,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"count-alert\",\n                        children: v.total_alert\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 94,\n                        columnNumber: 29\n                      }, this)]\n                    }, i, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 92,\n                      columnNumber: 27\n                    }, this);\n                  }) : /*#__PURE__*/_jsxDEV(NavLink, {\n                    to: \"/project/\" + item.hash_id + \"/activities\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: \"/greencheck.png\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 100,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 99,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 13\n          }, this)\n        }, 'row_item_' + index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 16\n        }, this);\n      }\n    });\n  }\n\n  let mapOptionsCreator = {\n    mapTypeControlOptions: {\n      position: 'BOTTOM_RIGHT'\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"view-map\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-breadcrumb\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: t('dashboard.title')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 37\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: this.state.mode === 'grid' ? 'active' : '',\n                onClick: this.onClickChangeMode.bind(this, 'grid'),\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"icon-list-unordered\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 131\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: this.state.mode === 'map' ? 'active' : '',\n                onClick: this.onClickChangeMode.bind(this, 'map'),\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"icon-map-streamline-user\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 129\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"data-view-map\",\n      children: /*#__PURE__*/_jsxDEV(LoadScript, {\n        id: \"script-loader\",\n        googleMapsApiKey: Constants.GOOLGE_APP.KEY,\n        children: /*#__PURE__*/_jsxDEV(GoogleMap, {\n          id: \"post_view_map\",\n          options: mapOptionsCreator,\n          zoom: 14,\n          center: positionCenter,\n          children: rowItemMaps\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-paging\",\n      children: /*#__PURE__*/_jsxDEV(Paging, {\n        total: parseInt(this.paging.total),\n        current: this.paging.current,\n        currentInput: this.paging.currentInput,\n        inputChangedHandler: this.inputChangedHandler,\n        inputChangedEnter: this.inputChangedEnter,\n        inputChangedBlue: this.inputChangedBlue,\n        onClickReload: e => this.onClickReload.bind(this),\n        onSelectPage: index => this.onSelectPage.bind(this, index)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 124,\n    columnNumber: 5\n  }, this);\n}\n_c = MapView;\n;\n\nvar _c;\n\n$RefreshReg$(_c, \"MapView\");","map":{"version":3,"sources":["/Volumes/Data/sources/solarmon_production/solarmon_frontend/src/containers/views/desktop/ModuleProject/Dashboard/MapView.jsx"],"names":["React","Paging","Libs","NavLink","Constants","GoogleMap","LoadScript","Marker","InfoWindow","MapView","t","props","dataList","showInfoWindow","showIconHover","state","positionCenter","lat","lng","rowItemMaps","icon","iconHover","isArrayData","count","map","item","index","isBlank","parseFloat","irradiance","alerts","handleMouseOver","bind","onMouseoverMarker","mouseMoveOutOfMarker","handleMouseExit","hash_id","thumbnail","SERVER_DATA","name","site_name","address","v","k","length","irradiancePoA","formatNum","energy_today","lifetime","revenue","installed_power_client","commisioning_date","installed_date","last_updated","i","total_alert","mapOptionsCreator","mapTypeControlOptions","position","mode","onClickChangeMode","GOOLGE_APP","KEY","parseInt","paging","total","current","currentInput","inputChangedHandler","inputChangedEnter","inputChangedBlue","e","onClickReload","onSelectPage"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Paging } from '../../../../../components/Paging';\nimport Libs from '../../../../../utils/Libs';\nimport { NavLink } from 'react-router-dom';\nimport Constants from '../../../../../utils/Constants';\nimport { GoogleMap, LoadScript, Marker, InfoWindow } from '@react-google-maps/api';\nimport './MapView.scss';\n\nexport default function MapView() {\n  const { t } = this.props;\n  var { dataList, showInfoWindow, showIconHover } = this.state;\n\n  var positionCenter = {\n    lat: 10.801660, lng: 106.647058\n  };\n\n\n  var rowItemMaps = null;\n  var icon = \"/house-place-orange.png\";\n  var iconHover = \"/house-place.png\";\n\n  if (Libs.isArrayData(dataList)) {\n    var count = 0;\n    rowItemMaps = dataList.map((item, index) => {\n      if (!Libs.isBlank(item.lat) && !Libs.isBlank(item.lat)) {\n        if (count == 0) {\n          positionCenter.lat = parseFloat(item.lat);\n          positionCenter.lng = parseFloat(item.lng);\n        }\n        count++;\n        var irradiance = item.irradiance;\n        var alerts = item.alerts;\n\n        return <Marker\n          key={'row_item_' + index}\n          index={index}\n          position={{ lat: parseFloat(item.lat), lng: parseFloat(item.lng) }}\n          onClick={this.handleMouseOver.bind(this, item)}\n          onMouseOver={this.onMouseoverMarker.bind(this, item)}\n          onMouseOut={this.mouseMoveOutOfMarker.bind(this, item)}\n          icon={showIconHover == item ? iconHover : icon}\n          zIndex={index}\n        >\n          {showInfoWindow && showInfoWindow == item && (\n            <InfoWindow onCloseClick={this.handleMouseExit.bind(this, item)} >\n              <div className=\"info-window\">\n                <NavLink to={\"/project/\" + item.hash_id + \"/activities\"}>\n                  <img width=\"300\" src={!Libs.isBlank(item.thumbnail) ? (Constants.SERVER_DATA + \"/\" + item.thumbnail) : \"/thumbnail.jpg\"} alt={item.name} title={item.name} />\n                </NavLink>\n\n                <div className=\"info-content\">\n                  \n                    <p><strong>Project name:</strong> <NavLink to={\"/project/\" + item.hash_id + \"/activities\"}>{item.name}</NavLink></p>\n                    <p><strong>Site name:</strong> {item.site_name}</p>\n                    <p><strong>Address:</strong> {item.address}</p>\n                  <hr></hr>\n\n\n                  {Libs.isArrayData(irradiance) ?\n                    irradiance.map((v, k) => {\n                      return (\n                        <p key={k} className=\"irradiance-item\">\n                          {irradiance.length > 1 ?\n                            <span><strong>Irradiance{++k}: </strong>{v.irradiancePoA} W/m<sup className=\"sub\">2</sup> <hr></hr> </span>\n                            :\n                            <span><strong>Irradiance:</strong> {v.irradiancePoA} W/m<sup className=\"sub\">2</sup></span>\n                          }\n                        </p>\n                      );\n                    })\n                    :\n                    <p><strong>Irradiance:</strong> 0 W/m<sup className=\"sub\">2</sup></p>\n                  }\n\n                  <p><strong>Today:</strong> {Libs.formatNum(item.energy_today, '#,###.##')} kWh</p>\n                  <p><strong>Lifetime:</strong> {Libs.formatNum(item.lifetime, '#,###.##')} kWh</p>\n                  <p><strong>Revenue:</strong> {Libs.formatNum(item.revenue, '#,###.##')} vnÄ‘</p>\n\n                  <hr></hr>\n\n                  <p><strong>Installed power:</strong> {item.installed_power_client}</p>\n                  <p><strong>Commisioning date:</strong> {item.commisioning_date}</p>\n                  <p><strong>Instaled date:</strong> {item.installed_date}</p>\n                  <p><strong>Last updated:</strong> {item.last_updated}</p>\n\n                  <hr></hr>\n\n                  <div className=\"project-status text-center\">\n                    {Libs.isArrayData(alerts) ?\n                      alerts.map((v, i) => {\n                        return (\n                          <NavLink key={i} to={\"/project/\" + item.hash_id + \"/activities\"} data-tip={v.name} data-type=\"warning\" data-class=\"tooltip-action\">\n                            <img src={Constants.SERVER_DATA + \"/\" + v.thumbnail} />\n                            <span className=\"count-alert\">{v.total_alert}</span>\n                          </NavLink>\n                        )\n                      })\n                      :\n                      <NavLink to={\"/project/\" + item.hash_id + \"/activities\"}>\n                        <img src=\"/greencheck.png\" />\n                      </NavLink>\n                    }\n\n                  </div>\n\n                </div>\n              </div>\n\n            </InfoWindow>\n          )}\n        </Marker>\n      }\n    });\n  }\n\n\n  let mapOptionsCreator = {\n    mapTypeControlOptions: {\n      position: 'BOTTOM_RIGHT'\n    }\n  };\n\n  return (\n    <div className=\"view-map\">\n      <div className=\"page-breadcrumb\">\n        <div className=\"row\">\n          <div className=\"col-md-6\"><h2>{t('dashboard.title')}</h2>\n          </div>\n          <div className=\"col-md-6\">\n            <ul>\n              <li><div className={this.state.mode === 'grid' ? 'active' : ''} onClick={this.onClickChangeMode.bind(this, 'grid')}><span className=\"icon-list-unordered\"></span></div></li>\n              <li><div className={this.state.mode === 'map' ? 'active' : ''} onClick={this.onClickChangeMode.bind(this, 'map')}><span className=\"icon-map-streamline-user\"></span></div></li>\n            </ul>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"data-view-map\">\n        <LoadScript id=\"script-loader\" googleMapsApiKey={Constants.GOOLGE_APP.KEY} >\n          <GoogleMap id='post_view_map'\n            options={mapOptionsCreator}\n            zoom={14}\n            center={positionCenter} >\n            {rowItemMaps}\n          </GoogleMap>\n        </LoadScript>\n      </div>\n\n      <div className=\"main-paging\">\n        <Paging\n          total={parseInt(this.paging.total)}\n          current={(this.paging.current)}\n          currentInput={this.paging.currentInput}\n          inputChangedHandler={this.inputChangedHandler}\n          inputChangedEnter={this.inputChangedEnter}\n          inputChangedBlue={this.inputChangedBlue}\n          onClickReload={(e) => this.onClickReload.bind(this)}\n          onSelectPage={(index) => this.onSelectPage.bind(this, index)}>\n        </Paging>\n      </div>\n    </div>\n  );\n};"]},"metadata":{},"sourceType":"module"}