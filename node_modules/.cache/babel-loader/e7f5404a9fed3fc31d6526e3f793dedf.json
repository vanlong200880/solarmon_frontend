{"ast":null,"code":"import _regeneratorRuntime from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import BaseComponent from'../../../../../BaseComponent';import Libs from'../../../../../../utils/Libs';import OnOffPopupJsx from'./OnOffPopup.jsx';import MainDeviceService from'../../../../../../services/MainDeviceService';var OnOffPopup=/*#__PURE__*/function(_BaseComponent){_inherits(OnOffPopup,_BaseComponent);var _super=_createSuper(OnOffPopup);function OnOffPopup(props){var _this;_classCallCheck(this,OnOffPopup);_this=_super.call(this,props);_this.state={curItem:_this.props.curItem};_this.jsxTemplate=OnOffPopupJsx;return _this;}_createClass(OnOffPopup,[{key:\"onClickOnOffAction\",value:function(){var _onClickOnOffAction=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var params,self;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:params=Object.assign({},this.state.curItem),self=this;params.status_control=params.status_control==1?0:1;params.updated_by=this.employee.first_name+' '+this.employee.last_name;MainDeviceService.instance.updateOnOff(params,function(status,msg){if(status){self.toast(msg,\"info\");self.props.onClickCloseOnOff(true);}else if(!Libs.isBlank(msg)){self.toast(msg,\"error\");}},true);case 4:case\"end\":return _context.stop();}}},_callee,this);}));function onClickOnOffAction(){return _onClickOnOffAction.apply(this,arguments);}return onClickOnOffAction;}()}]);return OnOffPopup;}(BaseComponent);export default OnOffPopup;","map":{"version":3,"sources":["/Volumes/Data/sources/solarmon_production/solarmon_frontend/src/containers/views/desktop/ModulePrivate/Control/Auto/OnOffPopup.js"],"names":["BaseComponent","Libs","OnOffPopupJsx","MainDeviceService","OnOffPopup","props","state","curItem","jsxTemplate","params","Object","assign","self","status_control","updated_by","employee","first_name","last_name","instance","updateOnOff","status","msg","toast","onClickCloseOnOff","isBlank"],"mappings":"yhCACA,MAAOA,CAAAA,aAAP,KAA0B,8BAA1B,CACA,MAAOC,CAAAA,IAAP,KAAiB,8BAAjB,CACA,MAAOC,CAAAA,aAAP,KAA0B,kBAA1B,CACA,MAAOC,CAAAA,iBAAP,KAA8B,8CAA9B,C,GACMC,CAAAA,U,gHACF,oBAAYC,KAAZ,CAAmB,4CACf,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACTC,OAAO,CAAE,MAAKF,KAAL,CAAWE,OADX,CAAb,CAIA,MAAKC,WAAL,CAAmBN,aAAnB,CANe,aAOlB,C,oJAGD,mJACQO,MADR,CACiBC,MAAM,CAACC,MAAP,CAAc,EAAd,CAAkB,KAAKL,KAAL,CAAWC,OAA7B,CADjB,CACwDK,IADxD,CAC+D,IAD/D,CAEIH,MAAM,CAACI,cAAP,CAAwBJ,MAAM,CAACI,cAAP,EAAyB,CAAzB,CAA6B,CAA7B,CAAiC,CAAzD,CACAJ,MAAM,CAACK,UAAP,CAAoB,KAAKC,QAAL,CAAcC,UAAd,CAA2B,GAA3B,CAAiC,KAAKD,QAAL,CAAcE,SAAnE,CACAd,iBAAiB,CAACe,QAAlB,CAA2BC,WAA3B,CAAuCV,MAAvC,CAA+C,SAAUW,MAAV,CAAkBC,GAAlB,CAAuB,CAClE,GAAID,MAAJ,CAAY,CACRR,IAAI,CAACU,KAAL,CAAWD,GAAX,CAAgB,MAAhB,EACAT,IAAI,CAACP,KAAL,CAAWkB,iBAAX,CAA6B,IAA7B,EACH,CAHD,IAGO,IAAI,CAACtB,IAAI,CAACuB,OAAL,CAAaH,GAAb,CAAL,CAAwB,CAC3BT,IAAI,CAACU,KAAL,CAAWD,GAAX,CAAgB,OAAhB,EACH,CACJ,CAPD,CAOG,IAPH,EAJJ,2D,wIAXqBrB,a,EA0BzB,cAAeI,CAAAA,UAAf","sourcesContent":["\nimport BaseComponent from '../../../../../BaseComponent';\nimport Libs from '../../../../../../utils/Libs';\nimport OnOffPopupJsx from './OnOffPopup.jsx';\nimport MainDeviceService from '../../../../../../services/MainDeviceService';\nclass OnOffPopup extends BaseComponent {\n    constructor(props) {\n        super(props);\n        this.state = {\n            curItem: this.props.curItem\n        }\n\n        this.jsxTemplate = OnOffPopupJsx;\n    }\n\n\n    async onClickOnOffAction() {\n        let params = Object.assign({}, this.state.curItem), self = this;\n        params.status_control = params.status_control == 1 ? 0 : 1;\n        params.updated_by = this.employee.first_name + ' ' + this.employee.last_name;\n        MainDeviceService.instance.updateOnOff(params, function (status, msg) {\n            if (status) {\n                self.toast(msg, \"info\");\n                self.props.onClickCloseOnOff(true);\n            } else if (!Libs.isBlank(msg)) {\n                self.toast(msg, \"error\");\n            }\n        }, true);\n    }\n\n}\nexport default OnOffPopup;"]},"metadata":{},"sourceType":"module"}