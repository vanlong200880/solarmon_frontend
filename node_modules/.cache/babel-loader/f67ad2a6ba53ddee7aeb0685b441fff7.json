{"ast":null,"code":"import React from'react';import Libs from'../../../../../../utils/Libs';import RowItemOnOff from'./RowItemOnOff';import OnOffPopup from'./OnOffPopup';import ControlCalendar from'./ControlCalendar';import{RButton,RCheckbox,RText,RSwitch}from'../../../../../../components/Controls';import ChangeModePopup from'./ChangeModePopup';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Manual(){var _this=this;var _this$state=this.state,curItem=_this$state.curItem,dataListInverter=_this$state.dataListInverter,searchParam=_this$state.searchParam;var t=this.props.t;var OnOffPopupLayout=this.state.showOnOffPopup?/*#__PURE__*/_jsx(OnOffPopup,{t:t,curItem:curItem,onClickCloseOnOff:this.onClickCloseOnOff,auth:this.props.auth,actions:this.actions}):'';var ControlCalendarLayout=this.state.showControlCalendar?/*#__PURE__*/_jsx(ControlCalendar,{t:t,curItem:curItem,onCloseControlCalender:this.onCloseControlCalender,auth:this.props.auth,actions:this.actions,hash_id:this.state.hash_id}):'';var ChangeModeLayout=this.state.changeMode?/*#__PURE__*/_jsx(ChangeModePopup,{t:t,curItem:this.state.curItem,searchParam:searchParam,onClickCloseChangeMode:this.onClickCloseChangeMode,calbackChangeMode:this.calbackChangeMode,auth:this.props.auth,actions:this.actions}):'';return/*#__PURE__*/_jsxs(\"div\",{className:\"tab-control\",children:[OnOffPopupLayout,ControlCalendarLayout,ChangeModeLayout,/*#__PURE__*/_jsxs(\"div\",{className:\"main-manual\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"checkmark\",children:/*#__PURE__*/_jsx(RCheckbox,{label:\"Manual Mode\",inputId:\"scheduled_manual_mode\",inputName:\"scheduled_manual_mode\",checked:searchParam.scheduled_mode==1?1:0,onChange:this.handleInputChange.bind(this)})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"checkmark\",children:/*#__PURE__*/_jsx(RCheckbox,{label:\"Auto Mode\",inputId:\"scheduled_auto_mode\",inputName:\"scheduled_auto_mode\",checked:searchParam.scheduled_mode==2?1:0,onChange:this.handleInputChange.bind(this)})})})})]}),searchParam.scheduled_mode==2?/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsx(\"legend\",{children:/*#__PURE__*/_jsx(\"span\",{children:t('device.limit_power')})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"checkmark\",children:/*#__PURE__*/_jsx(RSwitch,{inputId:\"limit_power_status\",inputName:\"limit_power_status\",checked:searchParam.limit_power_status*1===1?1:0,onChange:this.handleInputChange.bind(this)})})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3s\",children:/*#__PURE__*/_jsx(RText,{placeholder:t('device.limit_power'),inputClass:\"form-control\",inputId:\"limit_power\",inputName:\"limit_power\",value:searchParam.limit_power,onChange:function onChange(e){_this.handleInputChange(e);_this.validateOne(e);},pattern:\"^(?!0\\\\d)\\\\d*[\\\\.]{0,1}(\\\\.\\\\d+)?$\",disabled:searchParam.limit_power_status?false:true,maxLength:20})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsx(\"legend\",{children:/*#__PURE__*/_jsx(\"span\",{children:t('device.limit_energy')})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"checkmark\",children:/*#__PURE__*/_jsx(RSwitch,{inputId:\"limit_energy_status\",inputName:\"limit_energy_status\",checked:searchParam.limit_energy_status*1===1?1:0,onChange:this.handleInputChange.bind(this)})})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3s\",children:/*#__PURE__*/_jsx(RText,{placeholder:t('device.limit_energy'),inputClass:\"form-control\",inputId:\"limit_energy\",inputName:\"limit_energy\",value:searchParam.limit_energy,onChange:function onChange(e){_this.handleInputChange(e);_this.validateOne(e);},pattern:\"^(?!0\\\\d)\\\\d*[\\\\.]{0,1}(\\\\.\\\\d+)?$\",disabled:searchParam.limit_energy_status?false:true,maxLength:20})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(RButton,{onClick:this.onClickSaveExportLimitationAction.bind(this),className:\"btn btn-save\",text:t('device.add'),title:t('device.add')})})]}):\"\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"main-device-limit\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"row\",children:Libs.isArrayData(dataListInverter)?dataListInverter.map(function(item,index){return/*#__PURE__*/_jsx(RowItemOnOff,{index:index,dataItem:item,actions:_this.actions,onClickOnOff:_this.onClickOnOff,onClickControlCalender:_this.onClickControlCalender,t:t},'row_item_'+index);}):\"\"})})]});}","map":{"version":3,"sources":["/Volumes/Data/sources/solars/frontend/src/containers/views/desktop/ModulePrivate/Control/Manual/Manual.jsx"],"names":["React","Libs","RowItemOnOff","OnOffPopup","ControlCalendar","RButton","RCheckbox","RText","RSwitch","ChangeModePopup","Manual","state","curItem","dataListInverter","searchParam","t","props","OnOffPopupLayout","showOnOffPopup","onClickCloseOnOff","auth","actions","ControlCalendarLayout","showControlCalendar","onCloseControlCalender","hash_id","ChangeModeLayout","changeMode","onClickCloseChangeMode","calbackChangeMode","scheduled_mode","handleInputChange","bind","limit_power_status","limit_power","e","validateOne","limit_energy_status","limit_energy","onClickSaveExportLimitationAction","isArrayData","map","item","index","onClickOnOff","onClickControlCalender"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,8BAAjB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,eAAP,KAA4B,mBAA5B,CACA,OAASC,OAAT,CAAkBC,SAAlB,CAA6BC,KAA7B,CAAoCC,OAApC,KAAmD,uCAAnD,CACA,MAAOC,CAAAA,eAAP,KAA4B,mBAA5B,C,wFAEA,cAAe,SAASC,CAAAA,MAAT,EAAkB,gBAE7B,gBAAiD,KAAKC,KAAtD,CAAMC,OAAN,aAAMA,OAAN,CAAeC,gBAAf,aAAeA,gBAAf,CAAiCC,WAAjC,aAAiCA,WAAjC,CACA,GAAQC,CAAAA,CAAR,CAAc,KAAKC,KAAnB,CAAQD,CAAR,CACA,GAAIE,CAAAA,gBAAgB,CAAG,KAAKN,KAAL,CAAWO,cAAX,cACjB,KAAC,UAAD,EACE,CAAC,CAAEH,CADL,CAEE,OAAO,CAAEH,OAFX,CAGE,iBAAiB,CAAE,KAAKO,iBAH1B,CAIE,IAAI,CAAE,KAAKH,KAAL,CAAWI,IAJnB,CAKE,OAAO,CAAE,KAAKC,OALhB,EADiB,CAOd,EAPT,CASA,GAAIC,CAAAA,qBAAqB,CAAG,KAAKX,KAAL,CAAWY,mBAAX,cACtB,KAAC,eAAD,EACE,CAAC,CAAER,CADL,CAEE,OAAO,CAAEH,OAFX,CAGE,sBAAsB,CAAE,KAAKY,sBAH/B,CAIE,IAAI,CAAE,KAAKR,KAAL,CAAWI,IAJnB,CAKE,OAAO,CAAE,KAAKC,OALhB,CAME,OAAO,CAAE,KAAKV,KAAL,CAAWc,OANtB,EADsB,CAQnB,EART,CAUA,GAAIC,CAAAA,gBAAgB,CAAG,KAAKf,KAAL,CAAWgB,UAAX,cACjB,KAAC,eAAD,EACE,CAAC,CAAEZ,CADL,CAEE,OAAO,CAAE,KAAKJ,KAAL,CAAWC,OAFtB,CAGE,WAAW,CAAEE,WAHf,CAIE,sBAAsB,CAAE,KAAKc,sBAJ/B,CAKE,iBAAiB,CAAE,KAAKC,iBAL1B,CAME,IAAI,CAAE,KAAKb,KAAL,CAAWI,IANnB,CAOE,OAAO,CAAE,KAAKC,OAPhB,EADiB,CASd,EATT,CAWA,mBACI,aAAK,SAAS,CAAC,aAAf,WACKJ,gBADL,CAEKK,qBAFL,CAGKI,gBAHL,cAII,aAAK,SAAS,CAAC,aAAf,wBACI,aAAK,SAAS,CAAC,KAAf,wBACI,YAAK,SAAS,CAAC,UAAf,uBACI,YAAK,SAAS,CAAC,MAAf,uBACI,YAAK,SAAS,CAAC,WAAf,uBACI,KAAC,SAAD,EACI,KAAK,CAAC,aADV,CAEI,OAAO,CAAE,uBAFb,CAGI,SAAS,CAAC,uBAHd,CAII,OAAO,CAAGZ,WAAW,CAACgB,cAAZ,EAA8B,CAA/B,CAAoC,CAApC,CAAwC,CAJrD,CAKI,QAAQ,CAAE,KAAKC,iBAAL,CAAuBC,IAAvB,CAA4B,IAA5B,CALd,EADJ,EADJ,EADJ,EADJ,cAeI,YAAK,SAAS,CAAC,UAAf,uBACI,YAAK,SAAS,CAAC,MAAf,uBACI,YAAK,SAAS,CAAC,WAAf,uBACI,KAAC,SAAD,EACI,KAAK,CAAC,WADV,CAEI,OAAO,CAAE,qBAFb,CAGI,SAAS,CAAC,qBAHd,CAII,OAAO,CAAGlB,WAAW,CAACgB,cAAZ,EAA8B,CAA/B,CAAoC,CAApC,CAAwC,CAJrD,CAKI,QAAQ,CAAE,KAAKC,iBAAL,CAAuBC,IAAvB,CAA4B,IAA5B,CALd,EADJ,EADJ,EADJ,EAfJ,GADJ,CA+BKlB,WAAW,CAACgB,cAAZ,EAA8B,CAA9B,cACG,aAAK,SAAS,CAAC,KAAf,wBACI,YAAK,SAAS,CAAC,UAAf,uBACI,yCACI,qCAAQ,sBAAOf,CAAC,CAAC,oBAAD,CAAR,EAAR,EADJ,cAEI,YAAK,SAAS,CAAC,MAAf,uBACI,YAAK,SAAS,CAAC,WAAf,uBACI,KAAC,OAAD,EACI,OAAO,CAAE,oBADb,CAEI,SAAS,CAAC,oBAFd,CAGI,OAAO,CAAGD,WAAW,CAACmB,kBAAZ,CAAiC,CAAjC,GAAuC,CAAxC,CAA6C,CAA7C,CAAiD,CAH9D,CAII,QAAQ,CAAE,KAAKF,iBAAL,CAAuBC,IAAvB,CAA4B,IAA5B,CAJd,EADJ,EADJ,EAFJ,cAaI,YAAK,SAAS,CAAC,OAAf,uBACI,KAAC,KAAD,EACI,WAAW,CAAEjB,CAAC,CAAC,oBAAD,CADlB,CAEI,UAAU,CAAC,cAFf,CAGI,OAAO,CAAC,aAHZ,CAII,SAAS,CAAC,aAJd,CAKI,KAAK,CAAED,WAAW,CAACoB,WALvB,CAMI,QAAQ,CAAE,kBAACC,CAAD,CAAO,CAAE,KAAI,CAACJ,iBAAL,CAAuBI,CAAvB,EAA2B,KAAI,CAACC,WAAL,CAAiBD,CAAjB,EAAsB,CANxE,CAOI,OAAO,CAAC,oCAPZ,CAQI,QAAQ,CAAErB,WAAW,CAACmB,kBAAZ,CAAiC,KAAjC,CAAyC,IARvD,CASI,SAAS,CAAE,EATf,EADJ,EAbJ,GADJ,EADJ,cA8BI,YAAK,SAAS,CAAC,UAAf,uBACI,yCACI,qCAAQ,sBAAOlB,CAAC,CAAC,qBAAD,CAAR,EAAR,EADJ,cAEI,YAAK,SAAS,CAAC,MAAf,uBACI,YAAK,SAAS,CAAC,WAAf,uBACI,KAAC,OAAD,EACI,OAAO,CAAE,qBADb,CAEI,SAAS,CAAC,qBAFd,CAGI,OAAO,CAAGD,WAAW,CAACuB,mBAAZ,CAAkC,CAAlC,GAAwC,CAAzC,CAA8C,CAA9C,CAAkD,CAH/D,CAII,QAAQ,CAAE,KAAKN,iBAAL,CAAuBC,IAAvB,CAA4B,IAA5B,CAJd,EADJ,EADJ,EAFJ,cAcI,YAAK,SAAS,CAAC,OAAf,uBACI,KAAC,KAAD,EACI,WAAW,CAAEjB,CAAC,CAAC,qBAAD,CADlB,CAEI,UAAU,CAAC,cAFf,CAGI,OAAO,CAAC,cAHZ,CAII,SAAS,CAAC,cAJd,CAKI,KAAK,CAAED,WAAW,CAACwB,YALvB,CAMI,QAAQ,CAAE,kBAACH,CAAD,CAAO,CAAE,KAAI,CAACJ,iBAAL,CAAuBI,CAAvB,EAA2B,KAAI,CAACC,WAAL,CAAiBD,CAAjB,EAAsB,CANxE,CAOI,OAAO,CAAC,oCAPZ,CAQI,QAAQ,CAAErB,WAAW,CAACuB,mBAAZ,CAAkC,KAAlC,CAA0C,IARxD,CASI,SAAS,CAAE,EATf,EADJ,EAdJ,GADJ,EA9BJ,cA6DI,YAAK,SAAS,CAAC,UAAf,uBACI,KAAC,OAAD,EACI,OAAO,CAAE,KAAKE,iCAAL,CAAuCP,IAAvC,CAA4C,IAA5C,CADb,CAEI,SAAS,CAAC,cAFd,CAGI,IAAI,CAAEjB,CAAC,CAAC,YAAD,CAHX,CAII,KAAK,CAAEA,CAAC,CAAC,YAAD,CAJZ,EADJ,EA7DJ,GADH,CAsEK,EArGV,GAJJ,cA4GI,YAAK,SAAS,CAAC,mBAAf,uBACI,WAAI,SAAS,CAAC,KAAd,UACKd,IAAI,CAACuC,WAAL,CAAiB3B,gBAAjB,EACGA,gBAAgB,CAAC4B,GAAjB,CAAqB,SAACC,IAAD,CAAOC,KAAP,CAAiB,CAClC,mBACI,KAAC,YAAD,EAEI,KAAK,CAAEA,KAFX,CAGI,QAAQ,CAAED,IAHd,CAII,OAAO,CAAE,KAAI,CAACrB,OAJlB,CAKI,YAAY,CAAE,KAAI,CAACuB,YALvB,CAMI,sBAAsB,CAAE,KAAI,CAACC,sBANjC,CAOI,CAAC,CAAE9B,CAPP,EACS,YAAc4B,KADvB,CADJ,CAWH,CAZD,CADH,CAcK,EAfV,EADJ,EA5GJ,GADJ,CAoIH","sourcesContent":["import React from 'react';\nimport Libs from '../../../../../../utils/Libs';\nimport RowItemOnOff from './RowItemOnOff';\nimport OnOffPopup from './OnOffPopup';\nimport ControlCalendar from './ControlCalendar';\nimport { RButton, RCheckbox, RText, RSwitch } from '../../../../../../components/Controls';\nimport ChangeModePopup from './ChangeModePopup';\n\nexport default function Manual() {\n\n    var { curItem, dataListInverter, searchParam } = this.state;\n    const { t } = this.props;\n    var OnOffPopupLayout = this.state.showOnOffPopup\n        ? <OnOffPopup\n            t={t}\n            curItem={curItem}\n            onClickCloseOnOff={this.onClickCloseOnOff}\n            auth={this.props.auth}\n            actions={this.actions}\n        /> : '';\n\n    var ControlCalendarLayout = this.state.showControlCalendar\n        ? <ControlCalendar\n            t={t}\n            curItem={curItem}\n            onCloseControlCalender={this.onCloseControlCalender}\n            auth={this.props.auth}\n            actions={this.actions}\n            hash_id={this.state.hash_id}\n        /> : '';\n\n    var ChangeModeLayout = this.state.changeMode\n        ? <ChangeModePopup\n            t={t}\n            curItem={this.state.curItem}\n            searchParam={searchParam}\n            onClickCloseChangeMode={this.onClickCloseChangeMode}\n            calbackChangeMode={this.calbackChangeMode}\n            auth={this.props.auth}\n            actions={this.actions}\n        /> : '';\n\n    return (\n        <div className=\"tab-control\">\n            {OnOffPopupLayout}\n            {ControlCalendarLayout}\n            {ChangeModeLayout}\n            <div className=\"main-manual\">\n                <div className=\"row\">\n                    <div className=\"col-md-2\">\n                        <div className=\"mb-3\">\n                            <div className=\"checkmark\">\n                                <RCheckbox\n                                    label=\"Manual Mode\"\n                                    inputId={\"scheduled_manual_mode\"}\n                                    inputName=\"scheduled_manual_mode\"\n                                    checked={(searchParam.scheduled_mode == 1) ? 1 : 0}\n                                    onChange={this.handleInputChange.bind(this)}\n                                />\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"col-md-2\">\n                        <div className=\"mb-3\">\n                            <div className=\"checkmark\">\n                                <RCheckbox\n                                    label=\"Auto Mode\"\n                                    inputId={\"scheduled_auto_mode\"}\n                                    inputName=\"scheduled_auto_mode\"\n                                    checked={(searchParam.scheduled_mode == 2) ? 1 : 0}\n                                    onChange={this.handleInputChange.bind(this)}\n                                />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                {searchParam.scheduled_mode == 2 ?\n                    <div className=\"row\">\n                        <div className=\"col-md-3\">\n                            <fieldset>\n                                <legend><span>{t('device.limit_power')}</span></legend>\n                                <div className=\"mb-3\">\n                                    <div className=\"checkmark\">\n                                        <RSwitch\n                                            inputId={\"limit_power_status\"}\n                                            inputName=\"limit_power_status\"\n                                            checked={(searchParam.limit_power_status * 1 === 1) ? 1 : 0}\n                                            onChange={this.handleInputChange.bind(this)}\n                                        />\n                                    </div>\n                                </div>\n\n                                <div className=\"mb-3s\">\n                                    <RText\n                                        placeholder={t('device.limit_power')}\n                                        inputClass=\"form-control\"\n                                        inputId=\"limit_power\"\n                                        inputName=\"limit_power\"\n                                        value={searchParam.limit_power}\n                                        onChange={(e) => { this.handleInputChange(e); this.validateOne(e); }}\n                                        pattern=\"^(?!0\\d)\\d*[\\.]{0,1}(\\.\\d+)?$\"\n                                        disabled={searchParam.limit_power_status ? false : true}\n                                        maxLength={20} />\n                                </div>\n                            </fieldset>\n                        </div>\n\n                        <div className=\"col-md-3\">\n                            <fieldset>\n                                <legend><span>{t('device.limit_energy')}</span></legend>\n                                <div className=\"mb-3\">\n                                    <div className=\"checkmark\">\n                                        <RSwitch\n                                            inputId={\"limit_energy_status\"}\n                                            inputName=\"limit_energy_status\"\n                                            checked={(searchParam.limit_energy_status * 1 === 1) ? 1 : 0}\n                                            onChange={this.handleInputChange.bind(this)}\n                                        />\n                                    </div>\n                                </div>\n\n\n                                <div className=\"mb-3s\">\n                                    <RText\n                                        placeholder={t('device.limit_energy')}\n                                        inputClass=\"form-control\"\n                                        inputId=\"limit_energy\"\n                                        inputName=\"limit_energy\"\n                                        value={searchParam.limit_energy}\n                                        onChange={(e) => { this.handleInputChange(e); this.validateOne(e); }}\n                                        pattern=\"^(?!0\\d)\\d*[\\.]{0,1}(\\.\\d+)?$\"\n                                        disabled={searchParam.limit_energy_status ? false : true}\n                                        maxLength={20} />\n                                </div>\n\n                            </fieldset>\n                        </div>\n\n                        <div className=\"col-md-3\">\n                            <RButton\n                                onClick={this.onClickSaveExportLimitationAction.bind(this)}\n                                className=\"btn btn-save\"\n                                text={t('device.add')}\n                                title={t('device.add')} />\n                        </div>\n                    </div>\n                    : \"\"}\n\n            </div>\n            <div className=\"main-device-limit\">\n                <ul className=\"row\">\n                    {Libs.isArrayData(dataListInverter) ?\n                        dataListInverter.map((item, index) => {\n                            return (\n                                <RowItemOnOff\n                                    key={'row_item_' + index}\n                                    index={index}\n                                    dataItem={item}\n                                    actions={this.actions}\n                                    onClickOnOff={this.onClickOnOff}\n                                    onClickControlCalender={this.onClickControlCalender}\n                                    t={t}\n                                />\n                            );\n                        })\n                        : \"\"}\n                </ul>\n            </div>\n\n        </div>\n\n    )\n}"]},"metadata":{},"sourceType":"module"}