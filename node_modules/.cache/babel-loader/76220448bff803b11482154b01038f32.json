{"ast":null,"code":"import _classCallCheck from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import FilterParamJsx from'./FilterParam.jsx';import BaseComponent from'../../../../../BaseComponent';import Libs from'../../../../../../utils/Libs';import{withTranslation}from'react-i18next';var FilterParam=/*#__PURE__*/function(_BaseComponent){_inherits(FilterParam,_BaseComponent);var _super=_createSuper(FilterParam);function FilterParam(props,context){var _this;_classCallCheck(this,FilterParam);_this=_super.call(this,props,context);_this.showFilterParameter=function(){_this.setState({show_parameter:true});};_this.addFilterParameter=function(){var _this$state=_this.state,dataListDevice=_this$state.dataListDevice,dataParameter=_this$state.dataParameter,self=_assertThisInitialized(_this);if(!Libs.isArrayData(dataParameter))return;var dataDevice=dataListDevice.filter(function(item){return item.is_checked==1;});if(!Libs.isArrayData(dataDevice))return;var isChecked=0;dataParameter.map(function(item,index){var childs=item.dataParameter;var findIsChecked=Libs.find(childs,'is_checked',1);if(!Libs.isObjectEmpty(findIsChecked)){isChecked=isChecked+1;}});if(isChecked==0)return;_this.setState({show_parameter:false},function(){self.props.callBackLoadChart(dataDevice,dataParameter);});};_this.closeFilterParameter=function(){_this.setState({show_parameter:false});};_this.clearFilterParameter=function(){var dataParameter=_this.state.dataParameter;if(!Libs.isArrayData(dataParameter))return;dataParameter.map(function(item,index){var childs=item.dataParameter;if(Libs.isArrayData(childs)){for(var i=0,len=childs.length;i<len;i++){childs[i].is_checked=0;}}dataParameter[index].dataParameter=childs;});_this.setState({dataParameter:dataParameter});};_this.handleParameterInputChange=function(e,index,k){var dataParameter=_this.state.dataParameter;if(!Libs.isArrayData(dataParameter))return;var item=dataParameter[index];if(Libs.isObjectEmpty(item))return;var childs=item.dataParameter;if(!Libs.isArrayData(childs))return;dataParameter[index].dataParameter[k].is_checked=dataParameter[index].dataParameter[k].is_checked?0:1;_this.setState({dataParameter:dataParameter});};_this.handleDeviceInputChange=function(e,index){var dataListDevice=_this.state.dataListDevice;if(!Libs.isArrayData(dataListDevice))return;var item=dataListDevice[index];if(Libs.isObjectEmpty(item))return;if(dataListDevice[index].is_checked==0){var dataUnChecked=dataListDevice[index].dataParameter;if(Libs.isArrayData(dataUnChecked)){for(var i=0,len=dataUnChecked.length;i<len;i++){dataUnChecked[i].is_checked=0;}}dataListDevice[index].dataParameter=dataUnChecked;}dataListDevice[index].is_checked=dataListDevice[index].is_checked?0:1;var dataParameterTmp=dataListDevice.filter(function(item){return item.is_checked==1;});_this.setState({dataListDevice:dataListDevice,dataParameter:Libs.getUnique(dataParameterTmp,'id_device_group'),show_parameter:true});};_this.state={curItem:{},dataListDevice:_this.props.dataListDevice,show_parameter:false,dataParameter:_this.props.dataParameter};_this.jsxTemplate=FilterParamJsx;return _this;}_createClass(FilterParam,[{key:\"render\",value:function render(){return this.jsxTemplate.call(this);}}]);return FilterParam;}(BaseComponent);var HighOrderComponentTranslated=withTranslation('common')(FilterParam);export default HighOrderComponentTranslated;","map":{"version":3,"sources":["/Volumes/Data/sources/solarmon_production/solarmon_frontend/src/containers/views/desktop/ModuleProject/Analytics/FilterParam/FilterParam.js"],"names":["FilterParamJsx","BaseComponent","Libs","withTranslation","FilterParam","props","context","showFilterParameter","setState","show_parameter","addFilterParameter","state","dataListDevice","dataParameter","self","isArrayData","dataDevice","filter","item","is_checked","isChecked","map","index","childs","findIsChecked","find","isObjectEmpty","callBackLoadChart","closeFilterParameter","clearFilterParameter","i","len","length","handleParameterInputChange","e","k","handleDeviceInputChange","dataUnChecked","dataParameterTmp","getUnique","curItem","jsxTemplate","call","HighOrderComponentTranslated"],"mappings":"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","sourcesContent":["import FilterParamJsx from './FilterParam.jsx';\nimport BaseComponent from '../../../../../BaseComponent';\nimport Libs from '../../../../../../utils/Libs';\nimport { withTranslation } from 'react-i18next';\n\nclass FilterParam extends BaseComponent {\n\n    constructor(props, context) {\n        super(props, context);\n        this.state = {\n            curItem: { },\n            dataListDevice: this.props.dataListDevice,\n            show_parameter: false,\n            dataParameter: this.props.dataParameter\n        };\n        this.jsxTemplate = FilterParamJsx;\n\n\n    }\n\n    showFilterParameter = () => {\n        this.setState({\n            show_parameter: true\n        });\n    }\n\n\n    addFilterParameter = () => {\n        var { dataListDevice, dataParameter} = this.state, self = this;\n        if (!Libs.isArrayData(dataParameter)) return;\n        var dataDevice = dataListDevice.filter((item) => item.is_checked == 1);\n        if(!Libs.isArrayData(dataDevice)) return;\n\n        var isChecked = 0;\n        dataParameter.map((item, index) => {\n            var childs = item.dataParameter;\n            var findIsChecked = Libs.find(childs, 'is_checked', 1);\n            if(!Libs.isObjectEmpty(findIsChecked)){\n                isChecked = isChecked + 1;\n            }\n        });\n        if(isChecked == 0) return;\n\n        this.setState({\n            show_parameter: false\n        }, () => {\n            self.props.callBackLoadChart(dataDevice, dataParameter);\n        });\n    }\n\n    closeFilterParameter = () => {\n        this.setState({\n            show_parameter: false\n        });\n    }\n\n    clearFilterParameter = () => {\n        var { dataParameter } = this.state;\n        if (!Libs.isArrayData(dataParameter)) return;\n\n        dataParameter.map((item, index) => {\n            var childs = item.dataParameter;\n            if(Libs.isArrayData(childs)){\n                for(var i = 0, len = childs.length; i < len; i++){\n                    childs[i].is_checked = 0;\n                }\n            }\n            dataParameter[index].dataParameter = childs;\n        });\n        \n        this.setState({\n            dataParameter: dataParameter\n        });\n    }\n\n    handleParameterInputChange = (e, index, k) => {\n        var { dataParameter } = this.state;\n        if (!Libs.isArrayData(dataParameter)) return;\n        var item = dataParameter[index];\n        if (Libs.isObjectEmpty(item)) return;\n        var childs = item.dataParameter;\n        if (!Libs.isArrayData(childs)) return;\n\n        dataParameter[index].dataParameter[k].is_checked = dataParameter[index].dataParameter[k].is_checked ? 0 : 1;\n        this.setState({\n            dataParameter: dataParameter\n        });\n    }\n\n    handleDeviceInputChange = (e, index) => {\n        var { dataListDevice } = this.state;\n        if (!Libs.isArrayData(dataListDevice)) return;\n        var item = dataListDevice[index];\n        if (Libs.isObjectEmpty(item)) return;\n        if(dataListDevice[index].is_checked == 0){\n            var dataUnChecked = dataListDevice[index].dataParameter;\n            if(Libs.isArrayData(dataUnChecked)){\n                for(let i = 0, len = dataUnChecked.length; i < len;i++){\n                    dataUnChecked[i].is_checked = 0;\n                }\n            }\n            dataListDevice[index].dataParameter = dataUnChecked;\n        }\n\n        dataListDevice[index].is_checked = dataListDevice[index].is_checked ? 0 : 1;\n        \n        var dataParameterTmp = dataListDevice.filter((item) => item.is_checked == 1);\n        this.setState({\n            dataListDevice: dataListDevice,\n            dataParameter: Libs.getUnique(dataParameterTmp, 'id_device_group'),\n            show_parameter: true\n        });\n    }\n\n    render() {\n        return this.jsxTemplate.call(this)\n    }\n}\n\nconst HighOrderComponentTranslated = withTranslation('common')(FilterParam)\nexport default HighOrderComponentTranslated;"]},"metadata":{},"sourceType":"module"}