{"ast":null,"code":"import _defineProperty from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import BaseComponent from'../../BaseComponent';import ForgotPasswordJsx from'./ForgotPassword.jsx';import{withTranslation}from'react-i18next';import ForgotPasswordValidate from'./ForgotPasswordValidate';import Libs from'../../../utils/Libs';import EmployeeService from'../../../services/EmployeeService';var ForgotPassword=/*#__PURE__*/function(_BaseComponent){_inherits(ForgotPassword,_BaseComponent);var _super=_createSuper(ForgotPassword);function ForgotPassword(props,context){var _this;_classCallCheck(this,ForgotPassword);_this=_super.call(this,props,context);_this.jsxTemplate=ForgotPasswordJsx;_this.state={curItem:{},lang:\"en\",message:\"\"};return _this;}_createClass(ForgotPassword,[{key:\"onSaveAction\",value:function(){var _onSaveAction=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var curItem,self,user,v,errors,t;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:curItem=this.state.curItem,self=this;user={email:curItem.email,lang:this.state.lang,iso_code:curItem.iso_code};v=new ForgotPasswordValidate(this.props);_context.next=5;return v.FLValidationAll(curItem);case 5:errors=_context.sent;if(!errors){_context.next=9;break;}this.setValidateMessage(errors);return _context.abrupt(\"return\");case 9:t=this.props.t;EmployeeService.instance.getForgotPassword(user,function(data){if(!Libs.isObjectEmpty(data)){self.setState({message:t('forgot_password.success')});}else{self.toast(t('forgot_password.error'),\"error\");}},false);case 11:case\"end\":return _context.stop();}}},_callee,this);}));function onSaveAction(){return _onSaveAction.apply(this,arguments);}return onSaveAction;}()/**\r\n     * @description validate a field input\r\n     * @author Long.Pham 13/06/2021\r\n     * @param {*} event \r\n     */},{key:\"validateOne\",value:function(){var _validateOne=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var target,name,value,param,v,error;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:target=event.target;name=target.name;value=target.value;if(!name){_context2.next=10;break;}param=_defineProperty({},name,value);v=new ForgotPasswordValidate(this.props);_context2.next=8;return v.validateOne(param,name);case 8:error=_context2.sent;if(error!=null){this.setValidateMessage(error,true);}case 10:case\"end\":return _context2.stop();}}},_callee2,this);}));function validateOne(_x){return _validateOne.apply(this,arguments);}return validateOne;}()},{key:\"render\",value:function render(){return this.jsxTemplate.call(this);}}]);return ForgotPassword;}(BaseComponent);var HighOrderComponentTranslated=withTranslation('common')(ForgotPassword);export default HighOrderComponentTranslated;","map":{"version":3,"sources":["/Volumes/Data/sources/solarmon_production/solarmon_frontend/src/containers/views/ForgotPassword/ForgotPassword.js"],"names":["BaseComponent","ForgotPasswordJsx","withTranslation","ForgotPasswordValidate","Libs","EmployeeService","ForgotPassword","props","context","jsxTemplate","state","curItem","lang","message","self","user","email","iso_code","v","FLValidationAll","errors","setValidateMessage","t","instance","getForgotPassword","data","isObjectEmpty","setState","toast","event","target","name","value","param","validateOne","error","call","HighOrderComponentTranslated"],"mappings":"6sCAAA,MAAOA,CAAAA,aAAP,KAA0B,qBAA1B,CACA,MAAOC,CAAAA,iBAAP,KAA8B,sBAA9B,CACA,OAASC,eAAT,KAAgC,eAAhC,CACA,MAAOC,CAAAA,sBAAP,KAAmC,0BAAnC,CACA,MAAOC,CAAAA,IAAP,KAAiB,qBAAjB,CACA,MAAOC,CAAAA,eAAP,KAA4B,mCAA5B,C,GAEMC,CAAAA,c,wHAEF,wBAAYC,KAAZ,CAAmBC,OAAnB,CAA4B,gDACxB,uBAAMD,KAAN,CAAaC,OAAb,EACA,MAAKC,WAAL,CAAmBR,iBAAnB,CACA,MAAKS,KAAL,CAAa,CACTC,OAAO,CAAE,EADA,CAETC,IAAI,CAAE,IAFG,CAGTC,OAAO,CAAE,EAHA,CAAb,CAHwB,aAQ3B,C,4IAGD,oKACQF,OADR,CACkB,KAAKD,KAAL,CAAWC,OAD7B,CACsCG,IADtC,CAC6C,IAD7C,CAEQC,IAFR,CAEe,CACPC,KAAK,CAAEL,OAAO,CAACK,KADR,CAEPJ,IAAI,CAAE,KAAKF,KAAL,CAAWE,IAFV,CAGPK,QAAQ,CAAEN,OAAO,CAACM,QAHX,CAFf,CAQQC,CARR,CAQY,GAAIf,CAAAA,sBAAJ,CAA2B,KAAKI,KAAhC,CARZ,uBASuBW,CAAAA,CAAC,CAACC,eAAF,CAAkBR,OAAlB,CATvB,QASQS,MATR,mBAUQA,MAVR,yBAWQ,KAAKC,kBAAL,CAAwBD,MAAxB,EAXR,wCAcUE,CAdV,CAcgB,KAAKf,KAdrB,CAcUe,CAdV,CAeIjB,eAAe,CAACkB,QAAhB,CAAyBC,iBAAzB,CAA2CT,IAA3C,CAAiD,SAAUU,IAAV,CAAgB,CAC7D,GAAI,CAACrB,IAAI,CAACsB,aAAL,CAAmBD,IAAnB,CAAL,CAA+B,CAC3BX,IAAI,CAACa,QAAL,CAAc,CACVd,OAAO,CAAES,CAAC,CAAC,yBAAD,CADA,CAAd,EAIH,CALD,IAKO,CACHR,IAAI,CAACc,KAAL,CAAWN,CAAC,CAAC,uBAAD,CAAZ,CAAuC,OAAvC,EACH,CACJ,CATD,CASG,KATH,EAfJ,4D,8FA4BA;AACJ;AACA;AACA;AACA,O,+GACI,kBAAkBO,KAAlB,0JACQC,MADR,CACiBD,KAAK,CAACC,MADvB,CAEQC,IAFR,CAEeD,MAAM,CAACC,IAFtB,CAGQC,KAHR,CAGgBF,MAAM,CAACE,KAHvB,KAIQD,IAJR,2BAKYE,KALZ,oBAMaF,IANb,CAMoBC,KANpB,EAQYd,CARZ,CAQgB,GAAIf,CAAAA,sBAAJ,CAA2B,KAAKI,KAAhC,CARhB,wBAS0BW,CAAAA,CAAC,CAACgB,WAAF,CAAcD,KAAd,CAAqBF,IAArB,CAT1B,QASYI,KATZ,gBAUQ,GAAIA,KAAK,EAAI,IAAb,CAAmB,CACf,KAAKd,kBAAL,CAAwBc,KAAxB,CAA+B,IAA/B,EACH,CAZT,8D,mHAgBA,iBAAS,CACL,MAAO,MAAK1B,WAAL,CAAiB2B,IAAjB,CAAsB,IAAtB,CAAP,CACH,C,4BAhEwBpC,a,EAoE7B,GAAMqC,CAAAA,4BAA4B,CAAGnC,eAAe,CAAC,QAAD,CAAf,CAA0BI,cAA1B,CAArC,CACA,cAAe+B,CAAAA,4BAAf","sourcesContent":["import BaseComponent from '../../BaseComponent';\r\nimport ForgotPasswordJsx from './ForgotPassword.jsx';\r\nimport { withTranslation } from 'react-i18next';\r\nimport ForgotPasswordValidate from './ForgotPasswordValidate';\r\nimport Libs from '../../../utils/Libs';\r\nimport EmployeeService from '../../../services/EmployeeService';\r\n\r\nclass ForgotPassword extends BaseComponent {\r\n\r\n    constructor(props, context) {\r\n        super(props, context);\r\n        this.jsxTemplate = ForgotPasswordJsx;\r\n        this.state = {\r\n            curItem: {},\r\n            lang: \"en\",\r\n            message: \"\"\r\n        };\r\n    }\r\n\r\n\r\n    async onSaveAction() {\r\n        let curItem = this.state.curItem, self = this;\r\n        let user = {\r\n            email: curItem.email,\r\n            lang: this.state.lang,\r\n            iso_code: curItem.iso_code\r\n        };\r\n\r\n        let v = new ForgotPasswordValidate(this.props);\r\n        let errors = await v.FLValidationAll(curItem);\r\n        if (errors) {\r\n            this.setValidateMessage(errors);\r\n            return;\r\n        }\r\n        var { t } = this.props;\r\n        EmployeeService.instance.getForgotPassword(user, function (data) {\r\n            if (!Libs.isObjectEmpty(data)) {\r\n                self.setState({\r\n                    message: t('forgot_password.success')\r\n                })\r\n\r\n            } else {\r\n                self.toast(t('forgot_password.error'), \"error\");\r\n            }\r\n        }, false);\r\n    }\r\n\r\n\r\n    /**\r\n     * @description validate a field input\r\n     * @author Long.Pham 13/06/2021\r\n     * @param {*} event \r\n     */\r\n    async validateOne(event) {\r\n        let target = event.target;\r\n        let name = target.name;\r\n        let value = target.value\r\n        if (name) {\r\n            let param = {\r\n                [name]: value\r\n            }\r\n            let v = new ForgotPasswordValidate(this.props);\r\n            let error = await v.validateOne(param, name);\r\n            if (error != null) {\r\n                this.setValidateMessage(error, true);\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return this.jsxTemplate.call(this);\r\n    }\r\n\r\n}\r\n\r\nconst HighOrderComponentTranslated = withTranslation('common')(ForgotPassword)\r\nexport default HighOrderComponentTranslated;"]},"metadata":{},"sourceType":"module"}