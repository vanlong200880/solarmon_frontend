{"ast":null,"code":"/********************************************************\n* Copyright 2020-2021 NEXT WAVE ENERGY MONITORING INC.\n* All rights reserved.\n* \n*********************************************************/\nimport BaseComponent from '../../../../BaseComponent';\nimport DeletePopupJsx from './DeletePopup.jsx';\nimport EmployeeService from '../../../../../services/EmployeeService';\nimport Libs from '../../../../../utils/Libs';\n\nclass DeletePopup extends BaseComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      curItem: this.props.curItem\n    };\n    this.jsxTemplate = DeletePopupJsx;\n  }\n  /**\n   * @description Called immediately after the component is mounted in the DOM. Called after the render function\n   * @author Long.Pham 12/05/2021\n   */\n\n\n  componentDidMount() {}\n  /**\n   * @description close popup\n   * @author Long.Pham 12/05/2021\n   */\n\n\n  onClickCloseDelete() {\n    if (!this.props.onClickCloseDelete || typeof this.props.onClickCloseDelete !== 'function') return;\n    this.props.onClickCloseDelete(false, null);\n  }\n  /** \n   * @description delete product\n   * @author Long.Pham 12/05/2021\n  */\n\n\n  async onDeleteAction() {\n    let params = Object.assign({}, this.state.curItem),\n        self = this;\n    params.status = -1;\n    params.updated_by = this.employee.first_name + ' ' + this.employee.last_name;\n    EmployeeService.instance.delete(params, function (status, data, msg) {\n      if (status) {\n        self.toast(msg, \"info\");\n        self.props.onClickCloseDelete(true, data);\n      } else if (data) {\n        self.setValidateMessage(data);\n      } else if (!Libs.isBlank(msg)) {\n        self.toast(msg, \"error\");\n      }\n    }, true);\n  }\n\n}\n\nexport default DeletePopup;","map":{"version":3,"sources":["/Volumes/Data/sources/solars/frontend/src/containers/views/desktop/ModuleSystem/Employees/DeletePopup.js"],"names":["BaseComponent","DeletePopupJsx","EmployeeService","Libs","DeletePopup","constructor","props","state","curItem","jsxTemplate","componentDidMount","onClickCloseDelete","onDeleteAction","params","Object","assign","self","status","updated_by","employee","first_name","last_name","instance","delete","data","msg","toast","setValidateMessage","isBlank"],"mappings":"AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,aAAP,MAA0B,2BAA1B;AACA,OAAOC,cAAP,MAA2B,mBAA3B;AACA,OAAOC,eAAP,MAA4B,yCAA5B;AACA,OAAOC,IAAP,MAAiB,2BAAjB;;AAEA,MAAMC,WAAN,SAA0BJ,aAA1B,CAAwC;AACpCK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,OAAO,EAAE,KAAKF,KAAL,CAAWE;AADX,KAAb;AAGA,SAAKC,WAAL,GAAmBR,cAAnB;AACH;AAED;AACJ;AACA;AACA;;;AACIS,EAAAA,iBAAiB,GAAG,CACnB;AAED;AACJ;AACA;AACA;;;AACKC,EAAAA,kBAAkB,GAAG;AAClB,QAAI,CAAC,KAAKL,KAAL,CAAWK,kBAAZ,IAAkC,OAAO,KAAKL,KAAL,CAAWK,kBAAlB,KAAyC,UAA/E,EAA2F;AAC3F,SAAKL,KAAL,CAAWK,kBAAX,CAA8B,KAA9B,EAAqC,IAArC;AACH;AAGD;AACJ;AACA;AACA;;;AACwB,QAAdC,cAAc,GAAG;AACnB,QAAIC,MAAM,GAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB,KAAKR,KAAL,CAAWC,OAA7B,CAAb;AAAA,QAAoDQ,IAAI,GAAG,IAA3D;AACAH,IAAAA,MAAM,CAACI,MAAP,GAAgB,CAAC,CAAjB;AACAJ,IAAAA,MAAM,CAACK,UAAP,GAAoB,KAAKC,QAAL,CAAcC,UAAd,GAA2B,GAA3B,GAAiC,KAAKD,QAAL,CAAcE,SAAnE;AACAnB,IAAAA,eAAe,CAACoB,QAAhB,CAAyBC,MAAzB,CAAgCV,MAAhC,EAAwC,UAAUI,MAAV,EAAkBO,IAAlB,EAAwBC,GAAxB,EAA6B;AACjE,UAAIR,MAAJ,EAAY;AACRD,QAAAA,IAAI,CAACU,KAAL,CAAWD,GAAX,EAAgB,MAAhB;AACAT,QAAAA,IAAI,CAACV,KAAL,CAAWK,kBAAX,CAA8B,IAA9B,EAAoCa,IAApC;AACH,OAHD,MAIK,IAAIA,IAAJ,EAAU;AACXR,QAAAA,IAAI,CAACW,kBAAL,CAAwBH,IAAxB;AACH,OAFI,MAGA,IAAI,CAACrB,IAAI,CAACyB,OAAL,CAAaH,GAAb,CAAL,EAAwB;AACzBT,QAAAA,IAAI,CAACU,KAAL,CAAWD,GAAX,EAAgB,OAAhB;AACH;AACJ,KAXD,EAWG,IAXH;AAYH;;AA9CmC;;AAgDxC,eAAerB,WAAf","sourcesContent":["\n/********************************************************\n* Copyright 2020-2021 NEXT WAVE ENERGY MONITORING INC.\n* All rights reserved.\n* \n*********************************************************/\nimport BaseComponent from '../../../../BaseComponent';\nimport DeletePopupJsx from './DeletePopup.jsx';\nimport EmployeeService from '../../../../../services/EmployeeService';\nimport Libs from '../../../../../utils/Libs';\n\nclass DeletePopup extends BaseComponent {\n    constructor(props) {\n        super(props);\n        this.state = {\n            curItem: this.props.curItem\n        }\n        this.jsxTemplate = DeletePopupJsx;\n    }\n\n    /**\n     * @description Called immediately after the component is mounted in the DOM. Called after the render function\n     * @author Long.Pham 12/05/2021\n     */\n    componentDidMount() {\n    }\n\n    /**\n     * @description close popup\n     * @author Long.Pham 12/05/2021\n     */\n     onClickCloseDelete() {\n        if (!this.props.onClickCloseDelete || typeof this.props.onClickCloseDelete !== 'function') return;\n        this.props.onClickCloseDelete(false, null);\n    }\n\n\n    /** \n     * @description delete product\n     * @author Long.Pham 12/05/2021\n    */\n    async onDeleteAction() {\n        let params = Object.assign({}, this.state.curItem), self = this;\n        params.status = -1;\n        params.updated_by = this.employee.first_name + ' ' + this.employee.last_name;\n        EmployeeService.instance.delete(params, function (status, data, msg) {\n            if (status) {\n                self.toast(msg, \"info\");\n                self.props.onClickCloseDelete(true, data);\n            }\n            else if (data) {\n                self.setValidateMessage(data);\n            }\n            else if (!Libs.isBlank(msg)) {\n                self.toast(msg, \"error\");\n            }\n        }, true);\n    }\n}\nexport default DeletePopup;"]},"metadata":{},"sourceType":"module"}