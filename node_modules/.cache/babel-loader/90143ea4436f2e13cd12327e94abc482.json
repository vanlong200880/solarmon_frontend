{"ast":null,"code":"import FilterParamJsx from './FilterParam.jsx';\nimport BaseComponent from '../../../../../BaseComponent';\nimport Libs from '../../../../../../utils/Libs';\nimport { withTranslation } from 'react-i18next';\n\nclass FilterParam extends BaseComponent {\n  constructor(props, context) {\n    super(props, context);\n\n    this.showFilterParameter = () => {\n      this.setState({\n        show_parameter: true\n      });\n    };\n\n    this.addFilterParameter = () => {\n      var {\n        dataListDevice,\n        dataParameter\n      } = this.state,\n          self = this;\n      if (!Libs.isArrayData(dataParameter)) return;\n      var dataDevice = dataListDevice.filter(item => item.is_checked == 1);\n      if (!Libs.isArrayData(dataDevice)) return;\n      var isChecked = 0;\n      dataParameter.map((item, index) => {\n        var childs = item.dataParameter;\n        var findIsChecked = Libs.find(childs, 'is_checked', 1);\n\n        if (!Libs.isObjectEmpty(findIsChecked)) {\n          isChecked = isChecked + 1;\n        }\n      });\n      if (isChecked == 0) return;\n      this.setState({\n        show_parameter: false\n      }, () => {\n        self.props.callBackLoadChart(dataDevice, dataParameter);\n      });\n    };\n\n    this.closeFilterParameter = () => {\n      this.setState({\n        show_parameter: false\n      });\n    };\n\n    this.clearFilterParameter = () => {\n      var {\n        dataParameter\n      } = this.state;\n      if (!Libs.isArrayData(dataParameter)) return;\n      dataParameter.map((item, index) => {\n        var childs = item.dataParameter;\n\n        if (Libs.isArrayData(childs)) {\n          for (var i = 0, len = childs.length; i < len; i++) {\n            childs[i].is_checked = 0;\n          }\n        }\n\n        dataParameter[index].dataParameter = childs;\n      });\n      this.setState({\n        dataParameter: dataParameter\n      });\n    };\n\n    this.handleParameterInputChange = (e, index, k) => {\n      var {\n        dataParameter\n      } = this.state;\n      if (!Libs.isArrayData(dataParameter)) return;\n      var item = dataParameter[index];\n      if (Libs.isObjectEmpty(item)) return;\n      var childs = item.dataParameter;\n      if (!Libs.isArrayData(childs)) return;\n      dataParameter[index].dataParameter[k].is_checked = dataParameter[index].dataParameter[k].is_checked ? 0 : 1;\n      this.setState({\n        dataParameter: dataParameter\n      });\n    };\n\n    this.handleDeviceInputChange = (e, index) => {\n      var {\n        dataListDevice\n      } = this.state;\n      if (!Libs.isArrayData(dataListDevice)) return;\n      var item = dataListDevice[index];\n      if (Libs.isObjectEmpty(item)) return;\n\n      if (dataListDevice[index].is_checked == 0) {\n        var dataUnChecked = dataListDevice[index].dataParameter;\n\n        if (Libs.isArrayData(dataUnChecked)) {\n          for (let i = 0, len = dataUnChecked.length; i < len; i++) {\n            dataUnChecked[i].is_checked = 0;\n          }\n        }\n\n        dataListDevice[index].dataParameter = dataUnChecked;\n      }\n\n      dataListDevice[index].is_checked = dataListDevice[index].is_checked ? 0 : 1;\n      var dataParameterTmp = dataListDevice.filter(item => item.is_checked == 1);\n      this.setState({\n        dataListDevice: dataListDevice,\n        dataParameter: Libs.getUnique(dataParameterTmp, 'id_device_group'),\n        show_parameter: true\n      });\n    };\n\n    this.state = {\n      curItem: {},\n      dataListDevice: this.props.dataListDevice,\n      show_parameter: false,\n      dataParameter: this.props.dataParameter\n    };\n    this.jsxTemplate = FilterParamJsx;\n  }\n\n  render() {\n    return this.jsxTemplate.call(this);\n  }\n\n}\n\nconst HighOrderComponentTranslated = withTranslation('common')(FilterParam);\nexport default HighOrderComponentTranslated;","map":{"version":3,"sources":["/Volumes/Data/sources/solarmon_production/solarmon_frontend/src/containers/views/desktop/ModuleProject/Analytics/FilterParam/FilterParam.js"],"names":["FilterParamJsx","BaseComponent","Libs","withTranslation","FilterParam","constructor","props","context","showFilterParameter","setState","show_parameter","addFilterParameter","dataListDevice","dataParameter","state","self","isArrayData","dataDevice","filter","item","is_checked","isChecked","map","index","childs","findIsChecked","find","isObjectEmpty","callBackLoadChart","closeFilterParameter","clearFilterParameter","i","len","length","handleParameterInputChange","e","k","handleDeviceInputChange","dataUnChecked","dataParameterTmp","getUnique","curItem","jsxTemplate","render","call","HighOrderComponentTranslated"],"mappings":"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","sourcesContent":["import FilterParamJsx from './FilterParam.jsx';\nimport BaseComponent from '../../../../../BaseComponent';\nimport Libs from '../../../../../../utils/Libs';\nimport { withTranslation } from 'react-i18next';\n\nclass FilterParam extends BaseComponent {\n\n    constructor(props, context) {\n        super(props, context);\n        this.state = {\n            curItem: { },\n            dataListDevice: this.props.dataListDevice,\n            show_parameter: false,\n            dataParameter: this.props.dataParameter\n        };\n        this.jsxTemplate = FilterParamJsx;\n\n\n    }\n\n    showFilterParameter = () => {\n        this.setState({\n            show_parameter: true\n        });\n    }\n\n\n    addFilterParameter = () => {\n        var { dataListDevice, dataParameter} = this.state, self = this;\n        if (!Libs.isArrayData(dataParameter)) return;\n        var dataDevice = dataListDevice.filter((item) => item.is_checked == 1);\n        if(!Libs.isArrayData(dataDevice)) return;\n\n        var isChecked = 0;\n        dataParameter.map((item, index) => {\n            var childs = item.dataParameter;\n            var findIsChecked = Libs.find(childs, 'is_checked', 1);\n            if(!Libs.isObjectEmpty(findIsChecked)){\n                isChecked = isChecked + 1;\n            }\n        });\n        if(isChecked == 0) return;\n\n        this.setState({\n            show_parameter: false\n        }, () => {\n            self.props.callBackLoadChart(dataDevice, dataParameter);\n        });\n    }\n\n    closeFilterParameter = () => {\n        this.setState({\n            show_parameter: false\n        });\n    }\n\n    clearFilterParameter = () => {\n        var { dataParameter } = this.state;\n        if (!Libs.isArrayData(dataParameter)) return;\n\n        dataParameter.map((item, index) => {\n            var childs = item.dataParameter;\n            if(Libs.isArrayData(childs)){\n                for(var i = 0, len = childs.length; i < len; i++){\n                    childs[i].is_checked = 0;\n                }\n            }\n            dataParameter[index].dataParameter = childs;\n        });\n        \n        this.setState({\n            dataParameter: dataParameter\n        });\n    }\n\n    handleParameterInputChange = (e, index, k) => {\n        var { dataParameter } = this.state;\n        if (!Libs.isArrayData(dataParameter)) return;\n        var item = dataParameter[index];\n        if (Libs.isObjectEmpty(item)) return;\n        var childs = item.dataParameter;\n        if (!Libs.isArrayData(childs)) return;\n\n        dataParameter[index].dataParameter[k].is_checked = dataParameter[index].dataParameter[k].is_checked ? 0 : 1;\n        this.setState({\n            dataParameter: dataParameter\n        });\n    }\n\n    handleDeviceInputChange = (e, index) => {\n        var { dataListDevice } = this.state;\n        if (!Libs.isArrayData(dataListDevice)) return;\n        var item = dataListDevice[index];\n        if (Libs.isObjectEmpty(item)) return;\n        if(dataListDevice[index].is_checked == 0){\n            var dataUnChecked = dataListDevice[index].dataParameter;\n            if(Libs.isArrayData(dataUnChecked)){\n                for(let i = 0, len = dataUnChecked.length; i < len;i++){\n                    dataUnChecked[i].is_checked = 0;\n                }\n            }\n            dataListDevice[index].dataParameter = dataUnChecked;\n        }\n\n        dataListDevice[index].is_checked = dataListDevice[index].is_checked ? 0 : 1;\n        \n        var dataParameterTmp = dataListDevice.filter((item) => item.is_checked == 1);\n        this.setState({\n            dataListDevice: dataListDevice,\n            dataParameter: Libs.getUnique(dataParameterTmp, 'id_device_group'),\n            show_parameter: true\n        });\n    }\n\n    render() {\n        return this.jsxTemplate.call(this)\n    }\n}\n\nconst HighOrderComponentTranslated = withTranslation('common')(FilterParam)\nexport default HighOrderComponentTranslated;"]},"metadata":{},"sourceType":"module"}