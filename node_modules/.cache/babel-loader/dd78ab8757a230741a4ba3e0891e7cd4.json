{"ast":null,"code":"import BaseComponent from '../../../../../BaseComponent';\nimport Libs from '../../../../../../utils/Libs';\nimport OnOffPopupJsx from './OnOffPopup.jsx';\nimport MainDeviceService from '../../../../../../services/MainDeviceService';\n\nclass OnOffPopup extends BaseComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      curItem: this.props.curItem\n    };\n    this.jsxTemplate = OnOffPopupJsx;\n  }\n\n  async onClickOnOffAction() {\n    let params = Object.assign({}, this.state.curItem),\n        self = this;\n    params.status_control = params.status_control == 1 ? 0 : 1;\n    params.updated_by = this.employee.first_name + ' ' + this.employee.last_name;\n    MainDeviceService.instance.updateOnOff(params, function (status, msg) {\n      if (status) {\n        self.toast(msg, \"info\");\n        self.props.onClickCloseOnOff(true);\n      } else if (!Libs.isBlank(msg)) {\n        self.toast(msg, \"error\");\n      }\n    }, true);\n  }\n\n}\n\nexport default OnOffPopup;","map":{"version":3,"sources":["/Volumes/Data/sources/solars/frontend/src/containers/views/desktop/ModulePrivate/Control/Manual/OnOffPopup.js"],"names":["BaseComponent","Libs","OnOffPopupJsx","MainDeviceService","OnOffPopup","constructor","props","state","curItem","jsxTemplate","onClickOnOffAction","params","Object","assign","self","status_control","updated_by","employee","first_name","last_name","instance","updateOnOff","status","msg","toast","onClickCloseOnOff","isBlank"],"mappings":"AACA,OAAOA,aAAP,MAA0B,8BAA1B;AACA,OAAOC,IAAP,MAAiB,8BAAjB;AACA,OAAOC,aAAP,MAA0B,kBAA1B;AACA,OAAOC,iBAAP,MAA8B,8CAA9B;;AACA,MAAMC,UAAN,SAAyBJ,aAAzB,CAAuC;AACnCK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,OAAO,EAAE,KAAKF,KAAL,CAAWE;AADX,KAAb;AAIA,SAAKC,WAAL,GAAmBP,aAAnB;AACH;;AAGuB,QAAlBQ,kBAAkB,GAAG;AACvB,QAAIC,MAAM,GAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB,KAAKN,KAAL,CAAWC,OAA7B,CAAb;AAAA,QAAoDM,IAAI,GAAG,IAA3D;AACAH,IAAAA,MAAM,CAACI,cAAP,GAAwBJ,MAAM,CAACI,cAAP,IAAyB,CAAzB,GAA6B,CAA7B,GAAiC,CAAzD;AACAJ,IAAAA,MAAM,CAACK,UAAP,GAAoB,KAAKC,QAAL,CAAcC,UAAd,GAA2B,GAA3B,GAAiC,KAAKD,QAAL,CAAcE,SAAnE;AACAhB,IAAAA,iBAAiB,CAACiB,QAAlB,CAA2BC,WAA3B,CAAuCV,MAAvC,EAA+C,UAAUW,MAAV,EAAkBC,GAAlB,EAAuB;AAClE,UAAID,MAAJ,EAAY;AACRR,QAAAA,IAAI,CAACU,KAAL,CAAWD,GAAX,EAAgB,MAAhB;AACAT,QAAAA,IAAI,CAACR,KAAL,CAAWmB,iBAAX,CAA6B,IAA7B;AACH,OAHD,MAGO,IAAI,CAACxB,IAAI,CAACyB,OAAL,CAAaH,GAAb,CAAL,EAAwB;AAC3BT,QAAAA,IAAI,CAACU,KAAL,CAAWD,GAAX,EAAgB,OAAhB;AACH;AACJ,KAPD,EAOG,IAPH;AAQH;;AAvBkC;;AA0BvC,eAAenB,UAAf","sourcesContent":["\nimport BaseComponent from '../../../../../BaseComponent';\nimport Libs from '../../../../../../utils/Libs';\nimport OnOffPopupJsx from './OnOffPopup.jsx';\nimport MainDeviceService from '../../../../../../services/MainDeviceService';\nclass OnOffPopup extends BaseComponent {\n    constructor(props) {\n        super(props);\n        this.state = {\n            curItem: this.props.curItem\n        }\n\n        this.jsxTemplate = OnOffPopupJsx;\n    }\n\n\n    async onClickOnOffAction() {\n        let params = Object.assign({}, this.state.curItem), self = this;\n        params.status_control = params.status_control == 1 ? 0 : 1;\n        params.updated_by = this.employee.first_name + ' ' + this.employee.last_name;\n        MainDeviceService.instance.updateOnOff(params, function (status, msg) {\n            if (status) {\n                self.toast(msg, \"info\");\n                self.props.onClickCloseOnOff(true);\n            } else if (!Libs.isBlank(msg)) {\n                self.toast(msg, \"error\");\n            }\n        }, true);\n    }\n\n}\nexport default OnOffPopup;"]},"metadata":{},"sourceType":"module"}