{"ast":null,"code":"import _classCallCheck from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Volumes/Data/sources/solarmon_production/solarmon_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{Component}from'react';import SidebarPrivateJsx from'./SidebarPrivate.jsx';import{withTranslation}from'react-i18next';import Libs from'../../../utils/Libs';import Constants from'../../../utils/Constants';import ClientProjectService from'../../../services/ClientProjectService';import{withRouter}from\"react-router-dom\";var SidebarPrivate=/*#__PURE__*/function(_Component){_inherits(SidebarPrivate,_Component);var _super=_createSuper(SidebarPrivate);function SidebarPrivate(props,context){var _this;_classCallCheck(this,SidebarPrivate);_this=_super.call(this,props,context);_this.setActiveLink=function(hash_id){var des=_this.state.des;var pathname=window.location.pathname;var res=pathname.split(\"/\");var params=['devices','activities','analytics','reports','dashboard','config','control'];if(res){des=res[res.length-1];if(params.includes(des)){des=des;}else{des=null;}}_this.props.history.push({pathname:\"/private/\"+hash_id+(!Libs.isBlank(des)?\"/\"+des:'')});_this.setState({hash_id:hash_id?hash_id:null,des:des});};_this.showChildMenu=function(index){var dataProjects=_this.state.dataProjects;var item=dataProjects[index];if(Libs.isObjectEmpty(item))return;dataProjects[index].show_child=dataProjects[index].show_child?false:true;_this.setState({dataProjects:dataProjects});};_this.jsxTemplate=SidebarPrivateJsx;_this.state={permissions:[],dataProjects:[],hash_id:null,des:null};return _this;}_createClass(SidebarPrivate,[{key:\"componentDidMount\",value:function componentDidMount(){this.getList();}},{key:\"getList\",value:/**\n     * get list project\n     * @author Long.Pham 12/09/2021\n     */function getList(){var self=this;var info=localStorage.getItem(Constants.COMMON.EMPLOYEE_INFO);var employeeInfo=JSON.parse(Libs.base64Decrypt(info));var params={id_language:employeeInfo.id_language,id_employee:employeeInfo.id_employee};ClientProjectService.instance.getProjectSideBar(params,function(data,total_row){if(Libs.isArrayData(data)){self.setState({dataProjects:data});}else{self.setState({dataProjects:[]});}});}},{key:\"render\",value:function render(){return this.jsxTemplate.call(this);}}]);return SidebarPrivate;}(Component);var HighOrderComponentTranslated=withTranslation('common')(SidebarPrivate);export default withRouter(HighOrderComponentTranslated);","map":{"version":3,"sources":["/Volumes/Data/sources/solarmon_production/solarmon_frontend/src/containers/common/SidebarPrivate/SidebarPrivate.js"],"names":["Component","SidebarPrivateJsx","withTranslation","Libs","Constants","ClientProjectService","withRouter","SidebarPrivate","props","context","setActiveLink","hash_id","des","state","pathname","window","location","res","split","params","length","includes","history","push","isBlank","setState","showChildMenu","index","dataProjects","item","isObjectEmpty","show_child","jsxTemplate","permissions","getList","self","info","localStorage","getItem","COMMON","EMPLOYEE_INFO","employeeInfo","JSON","parse","base64Decrypt","id_language","id_employee","instance","getProjectSideBar","data","total_row","isArrayData","call","HighOrderComponentTranslated"],"mappings":"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","sourcesContent":["import { Component } from 'react';\nimport SidebarPrivateJsx from './SidebarPrivate.jsx';\nimport { withTranslation } from 'react-i18next';\nimport Libs from '../../../utils/Libs';\nimport Constants from '../../../utils/Constants';\nimport ClientProjectService from '../../../services/ClientProjectService';\nimport { withRouter } from \"react-router-dom\";\n\nclass SidebarPrivate extends Component {\n    constructor(props, context) {\n        super(props, context);\n        this.jsxTemplate = SidebarPrivateJsx;\n        this.state = {\n            permissions: [],\n            dataProjects: [],\n            hash_id: null,\n            des: null\n        };\n    }\n\n    componentDidMount() {\n        this.getList();\n    }\n\n    setActiveLink = (hash_id) => {\n        var { des } = this.state;\n        var { pathname } = window.location;\n        var res = pathname.split(\"/\");\n        var params = ['devices', 'activities', 'analytics', 'reports', 'dashboard', 'config', 'control'];\n        if (res) {\n            des = res[res.length - 1];\n            if (params.includes(des)) {\n                des = des;\n            } else {\n                des = null;\n            }\n        }\n\n        this.props.history.push({pathname: \"/private/\"+ hash_id + (!Libs.isBlank(des) ? (\"/\" + des ): '')});\n        this.setState({\n            hash_id: hash_id ? hash_id : null,\n            des: des\n        });\n    }\n\n    /**\n     * get list project\n     * @author Long.Pham 12/09/2021\n     */\n    getList() {\n        let self = this;\n        let info = localStorage.getItem(Constants.COMMON.EMPLOYEE_INFO);\n        let employeeInfo = JSON.parse(Libs.base64Decrypt(info));\n        var params = {\n            id_language: employeeInfo.id_language,\n            id_employee: employeeInfo.id_employee\n        };\n\n\n        ClientProjectService.instance.getProjectSideBar(params, (data, total_row) => {\n            if (Libs.isArrayData(data)) {\n                self.setState({\n                    dataProjects: data\n                });\n            } else {\n                self.setState({\n                    dataProjects: []\n                });\n            }\n        });\n    }\n\n    showChildMenu = (index) => {\n        var { dataProjects } = this.state;\n        var item = dataProjects[index];\n        if (Libs.isObjectEmpty(item)) return;\n        dataProjects[index].show_child = dataProjects[index].show_child ? false : true;\n        this.setState({\n            dataProjects: dataProjects\n        })\n\n\n    }\n\n    render() {\n        return this.jsxTemplate.call(this)\n    }\n}\n\nconst HighOrderComponentTranslated = withTranslation('common')(SidebarPrivate)\nexport default withRouter(HighOrderComponentTranslated);"]},"metadata":{},"sourceType":"module"}